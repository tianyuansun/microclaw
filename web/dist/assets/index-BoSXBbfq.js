var NT=Object.defineProperty;var yy=e=>{throw TypeError(e)};var RT=(e,t,n)=>t in e?NT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>RT(e,typeof t!="symbol"?t+"":t,n),vy=(e,t,n)=>t.has(e)||yy("Cannot "+n);var Pi=(e,t,n)=>(vy(e,t,"read from private field"),n?n.call(e):t.get(e)),Ai=(e,t,n)=>t.has(e)?yy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ji=(e,t,n,r)=>(vy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function IT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mw={exports:{}},cu={},Ow={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),PT=Symbol.for("react.portal"),AT=Symbol.for("react.fragment"),jT=Symbol.for("react.strict_mode"),MT=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),LT=Symbol.for("react.context"),DT=Symbol.for("react.forward_ref"),FT=Symbol.for("react.suspense"),BT=Symbol.for("react.memo"),zT=Symbol.for("react.lazy"),xy=Symbol.iterator;function $T(e){return e===null||typeof e!="object"?null:(e=xy&&e[xy]||e["@@iterator"],typeof e=="function"?e:null)}var Lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Fw={};function hi(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Lw}hi.prototype.isReactComponent={};hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bw(){}Bw.prototype=hi.prototype;function Gh(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Lw}var Yh=Gh.prototype=new Bw;Yh.constructor=Gh;Dw(Yh,hi.prototype);Yh.isPureReactComponent=!0;var wy=Array.isArray,zw=Object.prototype.hasOwnProperty,Xh={current:null},$w={key:!0,ref:!0,__self:!0,__source:!0};function Uw(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)zw.call(t,r)&&!$w.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ka,type:e,key:o,ref:i,props:s,_owner:Xh.current}}function UT(e,t){return{$$typeof:Ka,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ka}function HT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var by=/\/+/g;function fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HT(""+e.key):t.toString(36)}function ql(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ka:case PT:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+fd(i,0):r,wy(s)?(n="",e!=null&&(n=e.replace(by,"$&/")+"/"),ql(s,t,n,"",function(u){return u})):s!=null&&(Qh(s)&&(s=UT(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(by,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",wy(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+fd(o,a);i+=ql(o,t,n,l,s)}else if(l=$T(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+fd(o,a++),i+=ql(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function fl(e,t,n){if(e==null)return e;var r=[],s=0;return ql(e,r,"","",function(o){return t.call(n,o,s++)}),r}function VT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Gl={transition:null},WT={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:Xh};function Hw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:fl,forEach:function(e,t,n){fl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fl(e,function(){t++}),t},toArray:function(e){return fl(e,function(t){return t})||[]},only:function(e){if(!Qh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=hi;he.Fragment=AT;he.Profiler=MT;he.PureComponent=Gh;he.StrictMode=jT;he.Suspense=FT;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT;he.act=Hw;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Xh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)zw.call(t,l)&&!$w.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ka,type:e.type,key:s,ref:o,props:r,_owner:i}};he.createContext=function(e){return e={$$typeof:LT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OT,_context:e},e.Consumer=e};he.createElement=Uw;he.createFactory=function(e){var t=Uw.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:DT,render:e}};he.isValidElement=Qh;he.lazy=function(e){return{$$typeof:zT,_payload:{_status:-1,_result:e},_init:VT}};he.memo=function(e,t){return{$$typeof:BT,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Gl.transition;Gl.transition={};try{e()}finally{Gl.transition=t}};he.unstable_act=Hw;he.useCallback=function(e,t){return jt.current.useCallback(e,t)};he.useContext=function(e){return jt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};he.useEffect=function(e,t){return jt.current.useEffect(e,t)};he.useId=function(){return jt.current.useId()};he.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return jt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};he.useRef=function(e){return jt.current.useRef(e)};he.useState=function(e){return jt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return jt.current.useTransition()};he.version="18.3.1";Ow.exports=he;var f=Ow.exports;const Se=fi(f),Jh=IT({__proto__:null,default:Se},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=f,qT=Symbol.for("react.element"),GT=Symbol.for("react.fragment"),YT=Object.prototype.hasOwnProperty,XT=KT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QT={key:!0,ref:!0,__self:!0,__source:!0};function Vw(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)YT.call(t,r)&&!QT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:qT,type:e,key:o,ref:i,props:s,_owner:XT.current}}cu.Fragment=GT;cu.jsx=Vw;cu.jsxs=Vw;Mw.exports=cu;var c=Mw.exports,Ww={exports:{}},an={},Kw={exports:{}},qw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var S=j.length;j.push($);e:for(;0<S;){var oe=S-1>>>1,pe=j[oe];if(0<s(pe,$))j[oe]=$,j[S]=pe,S=oe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],S=j.pop();if(S!==$){j[0]=S;e:for(var oe=0,pe=j.length,T=pe>>>1;oe<T;){var Pe=2*(oe+1)-1,Xe=j[Pe],we=Pe+1,J=j[we];if(0>s(Xe,S))we<pe&&0>s(J,Xe)?(j[oe]=J,j[we]=S,oe=we):(j[oe]=Xe,j[Pe]=S,oe=Pe);else if(we<pe&&0>s(J,S))j[oe]=J,j[we]=S,oe=we;else break e}}return $}function s(j,$){var S=j.sortIndex-$.sortIndex;return S!==0?S:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function C(j){if(y=!1,x(j),!w)if(n(l)!==null)w=!0,K(R);else{var $=n(u);$!==null&&Q(C,$.startTime-j)}}function R(j,$){w=!1,y&&(y=!1,g(I),I=-1),m=!0;var S=p;try{for(x($),h=n(l);h!==null&&(!(h.expirationTime>$)||j&&!L());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var pe=oe(h.expirationTime<=$);$=e.unstable_now(),typeof pe=="function"?h.callback=pe:h===n(l)&&r(l),x($)}else r(l);h=n(l)}if(h!==null)var T=!0;else{var Pe=n(u);Pe!==null&&Q(C,Pe.startTime-$),T=!1}return T}finally{h=null,p=S,m=!1}}var k=!1,N=null,I=-1,M=5,A=-1;function L(){return!(e.unstable_now()-A<M)}function E(){if(N!==null){var j=e.unstable_now();A=j;var $=!0;try{$=N(!0,j)}finally{$?W():(k=!1,N=null)}}else k=!1}var W;if(typeof v=="function")W=function(){v(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=E,W=function(){q.postMessage(null)}}else W=function(){b(E,0)};function K(j){N=j,k||(k=!0,W())}function Q(j,$){I=b(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,K(R))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var S=p;p=$;try{return j()}finally{p=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var S=p;p=j;try{return $()}finally{p=S}},e.unstable_scheduleCallback=function(j,$,S){var oe=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?oe+S:oe):S=oe,j){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=S+pe,j={id:d++,callback:$,priorityLevel:j,startTime:S,expirationTime:pe,sortIndex:-1},S>oe?(j.sortIndex=S,t(u,j),n(l)===null&&j===n(u)&&(y?(g(I),I=-1):y=!0,Q(C,S-oe))):(j.sortIndex=pe,t(l,j),w||m||(w=!0,K(R))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var $=p;return function(){var S=p;p=$;try{return j.apply(this,arguments)}finally{p=S}}}})(qw);Kw.exports=qw;var JT=Kw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=f,on=JT;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gw=new Set,ya={};function no(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(ya[e]=t,e=0;e<t.length;e++)Gw.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},Sy={};function tN(e){return wf.call(Sy,e)?!0:wf.call(_y,e)?!1:eN.test(e)?Sy[e]=!0:(_y[e]=!0,!1)}function nN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rN(e,t,n,r){if(t===null||typeof t>"u"||nN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zh=/[\-:]([a-z])/g;function ep(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zh,ep);mt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zh,ep);mt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zh,ep);mt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tp(e,t,n,r){var s=mt.hasOwnProperty(t)?mt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rN(t,n,s,r)&&(n=null),r||s===null?tN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=Symbol.for("react.element"),Co=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),np=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),Yw=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),Qw=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function Mi(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,hd;function qi(e){if(hd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hd=t&&t[1]||""}return`
`+hd+e}var pd=!1;function md(e,t){if(!e||pd)return"";pd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{pd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qi(e):""}function sN(e){switch(e.tag){case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 2:case 15:return e=md(e.type,!1),e;case 11:return e=md(e.type.render,!1),e;case 1:return e=md(e.type,!0),e;default:return""}}function Cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ko:return"Fragment";case Co:return"Portal";case bf:return"Profiler";case np:return"StrictMode";case _f:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xw:return(e.displayName||"Context")+".Consumer";case Yw:return(e._context.displayName||"Context")+".Provider";case rp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sp:return t=e.displayName||null,t!==null?t:Cf(e.type)||"Memo";case Zr:t=e._payload,e=e._init;try{return Cf(e(t))}catch{}}return null}function oN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(t);case 8:return t===np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iN(e){var t=Jw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pl(e){e._valueTracker||(e._valueTracker=iN(e))}function Zw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kf(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ky(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eb(e,t){t=t.checked,t!=null&&tp(e,"checked",t,!1)}function Ef(e,t){eb(e,t);var n=ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tf(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ey(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tf(e,t,n){(t!=="number"||vc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gi=Array.isArray;function zo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ys(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Nf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ty(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Gi(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ys(n)}}function tb(e,t){var n=ys(t.value),r=ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ny(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,rb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aN=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(e){aN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ji[t]=Ji[e]})});function sb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ji.hasOwnProperty(e)&&Ji[e]?(""+t).trim():t+"px"}function ob(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var lN=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function If(e,t){if(t){if(lN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Pf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=null;function op(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jf=null,$o=null,Uo=null;function Ry(e){if(e=Ya(e)){if(typeof jf!="function")throw Error(B(280));var t=e.stateNode;t&&(t=pu(t),jf(e.stateNode,e.type,t))}}function ib(e){$o?Uo?Uo.push(e):Uo=[e]:$o=e}function ab(){if($o){var e=$o,t=Uo;if(Uo=$o=null,Ry(e),t)for(e=0;e<t.length;e++)Ry(t[e])}}function lb(e,t){return e(t)}function cb(){}var gd=!1;function ub(e,t,n){if(gd)return e(t,n);gd=!0;try{return lb(e,t,n)}finally{gd=!1,($o!==null||Uo!==null)&&(cb(),ab())}}function xa(e,t){var n=e.stateNode;if(n===null)return null;var r=pu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Mf=!1;if(Tr)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Mf=!1}function cN(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Zi=!1,xc=null,wc=!1,Of=null,uN={onError:function(e){Zi=!0,xc=e}};function dN(e,t,n,r,s,o,i,a,l){Zi=!1,xc=null,cN.apply(uN,arguments)}function fN(e,t,n,r,s,o,i,a,l){if(dN.apply(this,arguments),Zi){if(Zi){var u=xc;Zi=!1,xc=null}else throw Error(B(198));wc||(wc=!0,Of=u)}}function ro(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function db(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if(ro(e)!==e)throw Error(B(188))}function hN(e){var t=e.alternate;if(!t){if(t=ro(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Iy(s),e;if(o===r)return Iy(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function fb(e){return e=hN(e),e!==null?hb(e):null}function hb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hb(e);if(t!==null)return t;e=e.sibling}return null}var pb=on.unstable_scheduleCallback,Py=on.unstable_cancelCallback,pN=on.unstable_shouldYield,mN=on.unstable_requestPaint,Ze=on.unstable_now,gN=on.unstable_getCurrentPriorityLevel,ip=on.unstable_ImmediatePriority,mb=on.unstable_UserBlockingPriority,bc=on.unstable_NormalPriority,yN=on.unstable_LowPriority,gb=on.unstable_IdlePriority,uu=null,nr=null;function vN(e){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(uu,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:bN,xN=Math.log,wN=Math.LN2;function bN(e){return e>>>=0,e===0?32:31-(xN(e)/wN|0)|0}var gl=64,yl=4194304;function Yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _c(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Yi(a):(o&=i,o!==0&&(r=Yi(o)))}else i=n&~s,i!==0?r=Yi(i):o!==0&&(r=Yi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pn(t),s=1<<n,r|=e[n],t&=~s;return r}function _N(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Pn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=_N(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yb(){var e=gl;return gl<<=1,!(gl&4194240)&&(gl=64),e}function yd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=n}function CN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ap(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var je=0;function vb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xb,lp,wb,bb,_b,Df=!1,vl=[],cs=null,us=null,ds=null,wa=new Map,ba=new Map,rs=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(t.pointerId)}}function Li(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ya(t),t!==null&&lp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function EN(e,t,n,r,s){switch(t){case"focusin":return cs=Li(cs,e,t,n,r,s),!0;case"dragenter":return us=Li(us,e,t,n,r,s),!0;case"mouseover":return ds=Li(ds,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return wa.set(o,Li(wa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ba.set(o,Li(ba.get(o)||null,e,t,n,r,s)),!0}return!1}function Sb(e){var t=Bs(e.target);if(t!==null){var n=ro(t);if(n!==null){if(t=n.tag,t===13){if(t=db(n),t!==null){e.blockedOn=t,_b(e.priority,function(){wb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ff(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Af=r,n.target.dispatchEvent(r),Af=null}else return t=Ya(n),t!==null&&lp(t),e.blockedOn=n,!1;t.shift()}return!0}function jy(e,t,n){Yl(e)&&n.delete(t)}function TN(){Df=!1,cs!==null&&Yl(cs)&&(cs=null),us!==null&&Yl(us)&&(us=null),ds!==null&&Yl(ds)&&(ds=null),wa.forEach(jy),ba.forEach(jy)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,TN)))}function _a(e){function t(s){return Di(s,e)}if(0<vl.length){Di(vl[0],e);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cs!==null&&Di(cs,e),us!==null&&Di(us,e),ds!==null&&Di(ds,e),wa.forEach(t),ba.forEach(t),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)Sb(n),n.blockedOn===null&&rs.shift()}var Ho=Or.ReactCurrentBatchConfig,Sc=!0;function NN(e,t,n,r){var s=je,o=Ho.transition;Ho.transition=null;try{je=1,cp(e,t,n,r)}finally{je=s,Ho.transition=o}}function RN(e,t,n,r){var s=je,o=Ho.transition;Ho.transition=null;try{je=4,cp(e,t,n,r)}finally{je=s,Ho.transition=o}}function cp(e,t,n,r){if(Sc){var s=Ff(e,t,n,r);if(s===null)Td(e,t,r,Cc,n),Ay(e,r);else if(EN(s,e,t,n,r))r.stopPropagation();else if(Ay(e,r),t&4&&-1<kN.indexOf(e)){for(;s!==null;){var o=Ya(s);if(o!==null&&xb(o),o=Ff(e,t,n,r),o===null&&Td(e,t,r,Cc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}var Cc=null;function Ff(e,t,n,r){if(Cc=null,e=op(r),e=Bs(e),e!==null)if(t=ro(e),t===null)e=null;else if(n=t.tag,n===13){if(e=db(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cc=e,null}function Cb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gN()){case ip:return 1;case mb:return 4;case bc:case yN:return 16;case gb:return 536870912;default:return 16}default:return 16}}var is=null,up=null,Xl=null;function kb(){if(Xl)return Xl;var e,t=up,n=t.length,r,s="value"in is?is.value:is.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Xl=s.slice(e,1<r?1-r:void 0)}function Ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function My(){return!1}function ln(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xl:My,this.isPropagationStopped=My,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dp=ln(pi),Ga=Ke({},pi,{view:0,detail:0}),IN=ln(Ga),vd,xd,Fi,du=Ke({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(vd=e.screenX-Fi.screenX,xd=e.screenY-Fi.screenY):xd=vd=0,Fi=e),vd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Oy=ln(du),PN=Ke({},du,{dataTransfer:0}),AN=ln(PN),jN=Ke({},Ga,{relatedTarget:0}),wd=ln(jN),MN=Ke({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),ON=ln(MN),LN=Ke({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DN=ln(LN),FN=Ke({},pi,{data:0}),Ly=ln(FN),BN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$N={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$N[e])?!!t[e]:!1}function fp(){return UN}var HN=Ke({},Ga,{key:function(e){if(e.key){var t=BN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fp,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VN=ln(HN),WN=Ke({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dy=ln(WN),KN=Ke({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fp}),qN=ln(KN),GN=Ke({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),YN=ln(GN),XN=Ke({},du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QN=ln(XN),JN=[9,13,27,32],hp=Tr&&"CompositionEvent"in window,ea=null;Tr&&"documentMode"in document&&(ea=document.documentMode);var ZN=Tr&&"TextEvent"in window&&!ea,Eb=Tr&&(!hp||ea&&8<ea&&11>=ea),Fy=" ",By=!1;function Tb(e,t){switch(e){case"keyup":return JN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eo=!1;function eR(e,t){switch(e){case"compositionend":return Nb(t);case"keypress":return t.which!==32?null:(By=!0,Fy);case"textInput":return e=t.data,e===Fy&&By?null:e;default:return null}}function tR(e,t){if(Eo)return e==="compositionend"||!hp&&Tb(e,t)?(e=kb(),Xl=up=is=null,Eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eb&&t.locale!=="ko"?null:t.data;default:return null}}var nR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nR[e.type]:t==="textarea"}function Rb(e,t,n,r){ib(r),t=kc(t,"onChange"),0<t.length&&(n=new dp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ta=null,Sa=null;function rR(e){zb(e,0)}function fu(e){var t=Ro(e);if(Zw(t))return e}function sR(e,t){if(e==="change")return t}var Ib=!1;if(Tr){var bd;if(Tr){var _d="oninput"in document;if(!_d){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),_d=typeof $y.oninput=="function"}bd=_d}else bd=!1;Ib=bd&&(!document.documentMode||9<document.documentMode)}function Uy(){ta&&(ta.detachEvent("onpropertychange",Pb),Sa=ta=null)}function Pb(e){if(e.propertyName==="value"&&fu(Sa)){var t=[];Rb(t,Sa,e,op(e)),ub(rR,t)}}function oR(e,t,n){e==="focusin"?(Uy(),ta=t,Sa=n,ta.attachEvent("onpropertychange",Pb)):e==="focusout"&&Uy()}function iR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(Sa)}function aR(e,t){if(e==="click")return fu(t)}function lR(e,t){if(e==="input"||e==="change")return fu(t)}function cR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:cR;function Ca(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wf.call(t,s)||!On(e[s],t[s]))return!1}return!0}function Hy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vy(e,t){var n=Hy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hy(n)}}function Ab(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ab(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jb(){for(var e=window,t=vc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vc(e.document)}return t}function pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uR(e){var t=jb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ab(n.ownerDocument.documentElement,n)){if(r!==null&&pp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Vy(n,o);var i=Vy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dR=Tr&&"documentMode"in document&&11>=document.documentMode,To=null,Bf=null,na=null,zf=!1;function Wy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||To==null||To!==vc(r)||(r=To,"selectionStart"in r&&pp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&Ca(na,r)||(na=r,r=kc(Bf,"onSelect"),0<r.length&&(t=new dp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=To)))}function wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var No={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Sd={},Mb={};Tr&&(Mb=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function hu(e){if(Sd[e])return Sd[e];if(!No[e])return e;var t=No[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mb)return Sd[e]=t[n];return e}var Ob=hu("animationend"),Lb=hu("animationiteration"),Db=hu("animationstart"),Fb=hu("transitionend"),Bb=new Map,Ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(e,t){Bb.set(e,t),no(t,[e])}for(var Cd=0;Cd<Ky.length;Cd++){var kd=Ky[Cd],fR=kd.toLowerCase(),hR=kd[0].toUpperCase()+kd.slice(1);bs(fR,"on"+hR)}bs(Ob,"onAnimationEnd");bs(Lb,"onAnimationIteration");bs(Db,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(Fb,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function qy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fN(r,t,void 0,e),e.currentTarget=null}function zb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;qy(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;qy(s,a,u),o=l}}}if(wc)throw e=Of,wc=!1,Of=null,e}function Be(e,t){var n=t[Wf];n===void 0&&(n=t[Wf]=new Set);var r=e+"__bubble";n.has(r)||($b(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),$b(n,e,r,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function ka(e){if(!e[bl]){e[bl]=!0,Gw.forEach(function(n){n!=="selectionchange"&&(pR.has(n)||Ed(n,!1,e),Ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,Ed("selectionchange",!1,t))}}function $b(e,t,n,r){switch(Cb(t)){case 1:var s=NN;break;case 4:s=RN;break;default:s=cp}n=s.bind(null,t,n,e),s=void 0,!Mf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Td(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Bs(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}ub(function(){var u=o,d=op(n),h=[];e:{var p=Bb.get(e);if(p!==void 0){var m=dp,w=e;switch(e){case"keypress":if(Ql(n)===0)break e;case"keydown":case"keyup":m=VN;break;case"focusin":w="focus",m=wd;break;case"focusout":w="blur",m=wd;break;case"beforeblur":case"afterblur":m=wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qN;break;case Ob:case Lb:case Db:m=ON;break;case Fb:m=YN;break;case"scroll":m=IN;break;case"wheel":m=QN;break;case"copy":case"cut":case"paste":m=DN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dy}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=xa(v,g),C!=null&&y.push(Ea(v,C,x)))),b)break;v=v.return}0<y.length&&(p=new m(p,w,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Af&&(w=n.relatedTarget||n.fromElement)&&(Bs(w)||w[Nr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Bs(w):null,w!==null&&(b=ro(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=Oy,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Dy,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?p:Ro(m),x=w==null?p:Ro(w),p=new y(C,v+"leave",m,n,d),p.target=b,p.relatedTarget=x,C=null,Bs(d)===u&&(y=new y(g,v+"enter",w,n,d),y.target=x,y.relatedTarget=b,C=y),b=C,m&&w)t:{for(y=m,g=w,v=0,x=y;x;x=yo(x))v++;for(x=0,C=g;C;C=yo(C))x++;for(;0<v-x;)y=yo(y),v--;for(;0<x-v;)g=yo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=yo(y),g=yo(g)}y=null}else y=null;m!==null&&Gy(h,p,m,y,!1),w!==null&&b!==null&&Gy(h,b,w,y,!0)}}e:{if(p=u?Ro(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=sR;else if(zy(p))if(Ib)R=lR;else{R=iR;var k=oR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=aR);if(R&&(R=R(e,u))){Rb(h,R,n,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Tf(p,"number",p.value)}switch(k=u?Ro(u):window,e){case"focusin":(zy(k)||k.contentEditable==="true")&&(To=k,Bf=u,na=null);break;case"focusout":na=Bf=To=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Wy(h,n,d);break;case"selectionchange":if(dR)break;case"keydown":case"keyup":Wy(h,n,d)}var N;if(hp)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Eo?Tb(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Eb&&n.locale!=="ko"&&(Eo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Eo&&(N=kb()):(is=d,up="value"in is?is.value:is.textContent,Eo=!0)),k=kc(u,I),0<k.length&&(I=new Ly(I,e,null,n,d),h.push({event:I,listeners:k}),N?I.data=N:(N=Nb(n),N!==null&&(I.data=N)))),(N=ZN?eR(e,n):tR(e,n))&&(u=kc(u,"onBeforeInput"),0<u.length&&(d=new Ly("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}zb(h,t)})}function Ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=xa(e,n),o!=null&&r.unshift(Ea(e,o,s)),o=xa(e,t),o!=null&&r.push(Ea(e,o,s))),e=e.return}return r}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gy(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=xa(n,o),l!=null&&i.unshift(Ea(n,l,a))):s||(l=xa(n,o),l!=null&&i.push(Ea(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var mR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(mR,`
`).replace(gR,"")}function _l(e,t,n){if(t=Yy(t),Yy(e)!==t&&n)throw Error(B(425))}function Ec(){}var $f=null,Uf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,yR=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,vR=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(xR)}:Vf;function xR(e){setTimeout(function(){throw e})}function Nd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_a(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_a(t)}function fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+mi,Ta="__reactProps$"+mi,Nr="__reactContainer$"+mi,Wf="__reactEvents$"+mi,wR="__reactListeners$"+mi,bR="__reactHandles$"+mi;function Bs(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qy(e);e!==null;){if(n=e[Qn])return n;e=Qy(e)}return t}e=n,n=e.parentNode}return null}function Ya(e){return e=e[Qn]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function pu(e){return e[Ta]||null}var Kf=[],Io=-1;function _s(e){return{current:e}}function ze(e){0>Io||(e.current=Kf[Io],Kf[Io]=null,Io--)}function De(e,t){Io++,Kf[Io]=e.current,e.current=t}var vs={},Ct=_s(vs),Ut=_s(!1),Ws=vs;function Jo(e,t){var n=e.type.contextTypes;if(!n)return vs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Tc(){ze(Ut),ze(Ct)}function Jy(e,t,n){if(Ct.current!==vs)throw Error(B(168));De(Ct,t),De(Ut,n)}function Ub(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,oN(e)||"Unknown",s));return Ke({},n,r)}function Nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vs,Ws=Ct.current,De(Ct,e),De(Ut,Ut.current),!0}function Zy(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Ub(e,t,Ws),r.__reactInternalMemoizedMergedChildContext=e,ze(Ut),ze(Ct),De(Ct,e)):ze(Ut),De(Ut,n)}var wr=null,mu=!1,Rd=!1;function Hb(e){wr===null?wr=[e]:wr.push(e)}function _R(e){mu=!0,Hb(e)}function Ss(){if(!Rd&&wr!==null){Rd=!0;var e=0,t=je;try{var n=wr;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wr=null,mu=!1}catch(s){throw wr!==null&&(wr=wr.slice(e+1)),pb(ip,Ss),s}finally{je=t,Rd=!1}}return null}var Po=[],Ao=0,Rc=null,Ic=0,gn=[],yn=0,Ks=null,Sr=1,Cr="";function Os(e,t){Po[Ao++]=Ic,Po[Ao++]=Rc,Rc=e,Ic=t}function Vb(e,t,n){gn[yn++]=Sr,gn[yn++]=Cr,gn[yn++]=Ks,Ks=e;var r=Sr;e=Cr;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var o=32-Pn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Sr=1<<32-Pn(t)+s|n<<s|r,Cr=o+e}else Sr=1<<o|n<<s|r,Cr=e}function mp(e){e.return!==null&&(Os(e,1),Vb(e,1,0))}function gp(e){for(;e===Rc;)Rc=Po[--Ao],Po[Ao]=null,Ic=Po[--Ao],Po[Ao]=null;for(;e===Ks;)Ks=gn[--yn],gn[yn]=null,Cr=gn[--yn],gn[yn]=null,Sr=gn[--yn],gn[yn]=null}var rn=null,tn=null,Ue=!1,Rn=null;function Wb(e,t){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ev(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,tn=fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ks!==null?{id:Sr,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rn=e,tn=null,!0):!1;default:return!1}}function qf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gf(e){if(Ue){var t=tn;if(t){var n=t;if(!ev(e,t)){if(qf(e))throw Error(B(418));t=fs(n.nextSibling);var r=rn;t&&ev(e,t)?Wb(r,n):(e.flags=e.flags&-4097|2,Ue=!1,rn=e)}}else{if(qf(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ue=!1,rn=e}}}function tv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function Sl(e){if(e!==rn)return!1;if(!Ue)return tv(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=tn)){if(qf(e))throw Kb(),Error(B(418));for(;t;)Wb(e,t),t=fs(t.nextSibling)}if(tv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tn=fs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=rn?fs(e.stateNode.nextSibling):null;return!0}function Kb(){for(var e=tn;e;)e=fs(e.nextSibling)}function Zo(){tn=rn=null,Ue=!1}function yp(e){Rn===null?Rn=[e]:Rn.push(e)}var SR=Or.ReactCurrentBatchConfig;function Bi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nv(e){var t=e._init;return t(e._payload)}function qb(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=gs(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,C){return v===null||v.tag!==6?(v=Ld(x,g.mode,C),v.return=g,v):(v=s(v,x),v.return=g,v)}function l(g,v,x,C){var R=x.type;return R===ko?d(g,v,x.props.children,C,x.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zr&&nv(R)===v.type)?(C=s(v,x.props),C.ref=Bi(g,v,x),C.return=g,C):(C=sc(x.type,x.key,x.props,null,g.mode,C),C.ref=Bi(g,v,x),C.return=g,C)}function u(g,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Dd(x,g.mode,C),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function d(g,v,x,C,R){return v===null||v.tag!==7?(v=Hs(x,g.mode,C,R),v.return=g,v):(v=s(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ld(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:return x=sc(v.type,v.key,v.props,null,g.mode,x),x.ref=Bi(g,null,v),x.return=g,x;case Co:return v=Dd(v,g.mode,x),v.return=g,v;case Zr:var C=v._init;return h(g,C(v._payload),x)}if(Gi(v)||Mi(v))return v=Hs(v,g.mode,x,null),v.return=g,v;Cl(g,v)}return null}function p(g,v,x,C){var R=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:a(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:return x.key===R?l(g,v,x,C):null;case Co:return x.key===R?u(g,v,x,C):null;case Zr:return R=x._init,p(g,v,R(x._payload),C)}if(Gi(x)||Mi(x))return R!==null?null:d(g,v,x,C,null);Cl(g,x)}return null}function m(g,v,x,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,a(v,g,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case hl:return g=g.get(C.key===null?x:C.key)||null,l(v,g,C,R);case Co:return g=g.get(C.key===null?x:C.key)||null,u(v,g,C,R);case Zr:var k=C._init;return m(g,v,x,k(C._payload),R)}if(Gi(C)||Mi(C))return g=g.get(x)||null,d(v,g,C,R,null);Cl(v,C)}return null}function w(g,v,x,C){for(var R=null,k=null,N=v,I=v=0,M=null;N!==null&&I<x.length;I++){N.index>I?(M=N,N=null):M=N.sibling;var A=p(g,N,x[I],C);if(A===null){N===null&&(N=M);break}e&&N&&A.alternate===null&&t(g,N),v=o(A,v,I),k===null?R=A:k.sibling=A,k=A,N=M}if(I===x.length)return n(g,N),Ue&&Os(g,I),R;if(N===null){for(;I<x.length;I++)N=h(g,x[I],C),N!==null&&(v=o(N,v,I),k===null?R=N:k.sibling=N,k=N);return Ue&&Os(g,I),R}for(N=r(g,N);I<x.length;I++)M=m(N,g,I,x[I],C),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?I:M.key),v=o(M,v,I),k===null?R=M:k.sibling=M,k=M);return e&&N.forEach(function(L){return t(g,L)}),Ue&&Os(g,I),R}function y(g,v,x,C){var R=Mi(x);if(typeof R!="function")throw Error(B(150));if(x=R.call(x),x==null)throw Error(B(151));for(var k=R=null,N=v,I=v=0,M=null,A=x.next();N!==null&&!A.done;I++,A=x.next()){N.index>I?(M=N,N=null):M=N.sibling;var L=p(g,N,A.value,C);if(L===null){N===null&&(N=M);break}e&&N&&L.alternate===null&&t(g,N),v=o(L,v,I),k===null?R=L:k.sibling=L,k=L,N=M}if(A.done)return n(g,N),Ue&&Os(g,I),R;if(N===null){for(;!A.done;I++,A=x.next())A=h(g,A.value,C),A!==null&&(v=o(A,v,I),k===null?R=A:k.sibling=A,k=A);return Ue&&Os(g,I),R}for(N=r(g,N);!A.done;I++,A=x.next())A=m(N,g,I,A.value,C),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?I:A.key),v=o(A,v,I),k===null?R=A:k.sibling=A,k=A);return e&&N.forEach(function(E){return t(g,E)}),Ue&&Os(g,I),R}function b(g,v,x,C){if(typeof x=="object"&&x!==null&&x.type===ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:e:{for(var R=x.key,k=v;k!==null;){if(k.key===R){if(R=x.type,R===ko){if(k.tag===7){n(g,k.sibling),v=s(k,x.props.children),v.return=g,g=v;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zr&&nv(R)===k.type){n(g,k.sibling),v=s(k,x.props),v.ref=Bi(g,k,x),v.return=g,g=v;break e}n(g,k);break}else t(g,k);k=k.sibling}x.type===ko?(v=Hs(x.props.children,g.mode,C,x.key),v.return=g,g=v):(C=sc(x.type,x.key,x.props,null,g.mode,C),C.ref=Bi(g,v,x),C.return=g,g=C)}return i(g);case Co:e:{for(k=x.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Dd(x,g.mode,C),v.return=g,g=v}return i(g);case Zr:return k=x._init,b(g,v,k(x._payload),C)}if(Gi(x))return w(g,v,x,C);if(Mi(x))return y(g,v,x,C);Cl(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=Ld(x,g.mode,C),v.return=g,g=v),i(g)):n(g,v)}return b}var ei=qb(!0),Gb=qb(!1),Pc=_s(null),Ac=null,jo=null,vp=null;function xp(){vp=jo=Ac=null}function wp(e){var t=Pc.current;ze(Pc),e._currentValue=t}function Yf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){Ac=e,vp=jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if(vp!==e)if(e={context:e,memoizedValue:t,next:null},jo===null){if(Ac===null)throw Error(B(308));jo=e,Ac.dependencies={lanes:0,firstContext:e}}else jo=jo.next=e;return t}var zs=null;function bp(e){zs===null?zs=[e]:zs.push(e)}function Yb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rr(e,r)}function Rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var es=!1;function _p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rr(e,n)}return s=r.interleaved,s===null?(t.next=t,bp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rr(e,n)}function Jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ap(e,n)}}function rv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jc(e,t,n,r){var s=e.updateQueue;es=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=Ke({},h,p);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Gs|=i,e.lanes=i,e.memoizedState=h}}function sv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Xa={},rr=_s(Xa),Na=_s(Xa),Ra=_s(Xa);function $s(e){if(e===Xa)throw Error(B(174));return e}function Sp(e,t){switch(De(Ra,t),De(Na,e),De(rr,Xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rf(t,e)}ze(rr),De(rr,t)}function ti(){ze(rr),ze(Na),ze(Ra)}function Qb(e){$s(Ra.current);var t=$s(rr.current),n=Rf(t,e.type);t!==n&&(De(Na,e),De(rr,n))}function Cp(e){Na.current===e&&(ze(rr),ze(Na))}var Ve=_s(0);function Mc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Id=[];function kp(){for(var e=0;e<Id.length;e++)Id[e]._workInProgressVersionPrimary=null;Id.length=0}var Zl=Or.ReactCurrentDispatcher,Pd=Or.ReactCurrentBatchConfig,qs=0,We=null,ot=null,dt=null,Oc=!1,ra=!1,Ia=0,CR=0;function wt(){throw Error(B(321))}function Ep(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function Tp(e,t,n,r,s,o){if(qs=o,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=e===null||e.memoizedState===null?NR:RR,e=n(r,s),ra){o=0;do{if(ra=!1,Ia=0,25<=o)throw Error(B(301));o+=1,dt=ot=null,t.updateQueue=null,Zl.current=IR,e=n(r,s)}while(ra)}if(Zl.current=Lc,t=ot!==null&&ot.next!==null,qs=0,dt=ot=We=null,Oc=!1,t)throw Error(B(300));return e}function Np(){var e=Ia!==0;return Ia=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?We.memoizedState=dt=e:dt=dt.next=e,dt}function _n(){if(ot===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=dt===null?We.memoizedState:dt.next;if(t!==null)dt=t,ot=e;else{if(e===null)throw Error(B(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?We.memoizedState=dt=e:dt=dt.next=e}return dt}function Pa(e,t){return typeof t=="function"?t(e):t}function Ad(e){var t=_n(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=ot,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((qs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,We.lanes|=d,Gs|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,On(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,We.lanes|=o,Gs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jd(e){var t=_n(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);On(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jb(){}function Zb(e,t){var n=We,r=_n(),s=t(),o=!On(r.memoizedState,s);if(o&&(r.memoizedState=s,$t=!0),r=r.queue,Rp(n_.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Aa(9,t_.bind(null,n,r,s,t),void 0,null),ft===null)throw Error(B(349));qs&30||e_(n,t,s)}return s}function e_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function t_(e,t,n,r){t.value=n,t.getSnapshot=r,r_(t)&&s_(e)}function n_(e,t,n){return n(function(){r_(t)&&s_(e)})}function r_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function s_(e){var t=Rr(e,1);t!==null&&An(t,e,1,-1)}function ov(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=TR.bind(null,We,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function o_(){return _n().memoizedState}function ec(e,t,n,r){var s=Yn();We.flags|=e,s.memoizedState=Aa(1|t,n,void 0,r===void 0?null:r)}function gu(e,t,n,r){var s=_n();r=r===void 0?null:r;var o=void 0;if(ot!==null){var i=ot.memoizedState;if(o=i.destroy,r!==null&&Ep(r,i.deps)){s.memoizedState=Aa(t,n,o,r);return}}We.flags|=e,s.memoizedState=Aa(1|t,n,o,r)}function iv(e,t){return ec(8390656,8,e,t)}function Rp(e,t){return gu(2048,8,e,t)}function i_(e,t){return gu(4,2,e,t)}function a_(e,t){return gu(4,4,e,t)}function l_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c_(e,t,n){return n=n!=null?n.concat([e]):null,gu(4,4,l_.bind(null,t,e),n)}function Ip(){}function u_(e,t){var n=_n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ep(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function d_(e,t){var n=_n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ep(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function f_(e,t,n){return qs&21?(On(n,t)||(n=yb(),We.lanes|=n,Gs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function kR(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=Pd.transition;Pd.transition={};try{e(!1),t()}finally{je=n,Pd.transition=r}}function h_(){return _n().memoizedState}function ER(e,t,n){var r=ms(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p_(e))m_(t,n);else if(n=Yb(e,t,n,r),n!==null){var s=At();An(n,e,r,s),g_(n,t,r)}}function TR(e,t,n){var r=ms(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p_(e))m_(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,On(a,i)){var l=t.interleaved;l===null?(s.next=s,bp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Yb(e,t,s,r),n!==null&&(s=At(),An(n,e,r,s),g_(n,t,r))}}function p_(e){var t=e.alternate;return e===We||t!==null&&t===We}function m_(e,t){ra=Oc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function g_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ap(e,n)}}var Lc={readContext:bn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},NR={readContext:bn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:iv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ec(4194308,4,l_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return ec(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ER.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:ov,useDebugValue:Ip,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=ov(!1),t=e[0];return e=kR.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=Yn();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ft===null)throw Error(B(349));qs&30||e_(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,iv(n_.bind(null,r,o,e),[e]),r.flags|=2048,Aa(9,t_.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yn(),t=ft.identifierPrefix;if(Ue){var n=Cr,r=Sr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ia++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RR={readContext:bn,useCallback:u_,useContext:bn,useEffect:Rp,useImperativeHandle:c_,useInsertionEffect:i_,useLayoutEffect:a_,useMemo:d_,useReducer:Ad,useRef:o_,useState:function(){return Ad(Pa)},useDebugValue:Ip,useDeferredValue:function(e){var t=_n();return f_(t,ot.memoizedState,e)},useTransition:function(){var e=Ad(Pa)[0],t=_n().memoizedState;return[e,t]},useMutableSource:Jb,useSyncExternalStore:Zb,useId:h_,unstable_isNewReconciler:!1},IR={readContext:bn,useCallback:u_,useContext:bn,useEffect:Rp,useImperativeHandle:c_,useInsertionEffect:i_,useLayoutEffect:a_,useMemo:d_,useReducer:jd,useRef:o_,useState:function(){return jd(Pa)},useDebugValue:Ip,useDeferredValue:function(e){var t=_n();return ot===null?t.memoizedState=e:f_(t,ot.memoizedState,e)},useTransition:function(){var e=jd(Pa)[0],t=_n().memoizedState;return[e,t]},useMutableSource:Jb,useSyncExternalStore:Zb,useId:h_,unstable_isNewReconciler:!1};function Tn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yu={isMounted:function(e){return(e=e._reactInternals)?ro(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),s=ms(e),o=kr(r,s);o.payload=t,n!=null&&(o.callback=n),t=hs(e,o,s),t!==null&&(An(t,e,s,r),Jl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),s=ms(e),o=kr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=hs(e,o,s),t!==null&&(An(t,e,s,r),Jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=ms(e),s=kr(n,r);s.tag=2,t!=null&&(s.callback=t),t=hs(e,s,r),t!==null&&(An(t,e,r,n),Jl(t,e,r))}};function av(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ca(n,r)||!Ca(s,o):!0}function y_(e,t,n){var r=!1,s=vs,o=t.contextType;return typeof o=="object"&&o!==null?o=bn(o):(s=Ht(t)?Ws:Ct.current,r=t.contextTypes,o=(r=r!=null)?Jo(e,s):vs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function lv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yu.enqueueReplaceState(t,t.state,null)}function Qf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_p(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=bn(o):(o=Ht(t)?Ws:Ct.current,s.context=Jo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yu.enqueueReplaceState(s,s.state,null),jc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var n="",r=t;do n+=sN(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Md(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function v_(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fc||(Fc=!0,lh=r),Jf(e,t)},n}function x_(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Jf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jf(e,t),typeof r!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function cv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PR;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=WR.bind(null,e,t,n),t.then(e,e))}function uv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,hs(n,t,1))),n.lanes|=1),e)}var AR=Or.ReactCurrentOwner,$t=!1;function Pt(e,t,n,r){t.child=e===null?Gb(t,null,n,r):ei(t,e.child,n,r)}function fv(e,t,n,r,s){n=n.render;var o=t.ref;return Vo(t,s),r=Tp(e,t,n,r,o,s),n=Np(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(Ue&&n&&mp(t),t.flags|=1,Pt(e,t,r,s),t.child)}function hv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Fp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,w_(e,t,o,r,s)):(e=sc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(i,r)&&e.ref===t.ref)return Ir(e,t,s)}return t.flags|=1,e=gs(o,r),e.ref=t.ref,e.return=t,t.child=e}function w_(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ca(o,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Ir(e,t,s)}return Zf(e,t,n,r,s)}function b_(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Oo,Jt),Jt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Oo,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(Oo,Jt),Jt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,De(Oo,Jt),Jt|=r;return Pt(e,t,s,n),t.child}function __(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zf(e,t,n,r,s){var o=Ht(n)?Ws:Ct.current;return o=Jo(t,o),Vo(t,s),n=Tp(e,t,n,r,o,s),r=Np(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(Ue&&r&&mp(t),t.flags|=1,Pt(e,t,n,s),t.child)}function pv(e,t,n,r,s){if(Ht(n)){var o=!0;Nc(t)}else o=!1;if(Vo(t,s),t.stateNode===null)tc(e,t),y_(t,n,r),Qf(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Ht(n)?Ws:Ct.current,u=Jo(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lv(t,i,r,u),es=!1;var p=t.memoizedState;i.state=p,jc(t,r,i,s),l=t.memoizedState,a!==r||p!==l||Ut.current||es?(typeof d=="function"&&(Xf(t,n,d,r),l=t.memoizedState),(a=es||av(t,n,a,r,p,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Xb(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tn(t.type,a),i.props=u,h=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Ht(n)?Ws:Ct.current,l=Jo(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&lv(t,i,r,l),es=!1,p=t.memoizedState,i.state=p,jc(t,r,i,s);var w=t.memoizedState;a!==h||p!==w||Ut.current||es?(typeof m=="function"&&(Xf(t,n,m,r),w=t.memoizedState),(u=es||av(t,n,u,r,p,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return eh(e,t,n,r,o,s)}function eh(e,t,n,r,s,o){__(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Zy(t,n,!1),Ir(e,t,o);r=t.stateNode,AR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ei(t,e.child,null,o),t.child=ei(t,null,a,o)):Pt(e,t,a,o),t.memoizedState=r.state,s&&Zy(t,n,!0),t.child}function S_(e){var t=e.stateNode;t.pendingContext?Jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jy(e,t.context,!1),Sp(e,t.containerInfo)}function mv(e,t,n,r,s){return Zo(),yp(s),t.flags|=256,Pt(e,t,n,r),t.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function C_(e,t,n){var r=t.pendingProps,s=Ve.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(Ve,s&1),e===null)return Gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=wu(i,r,0,null),e=Hs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=nh(n),t.memoizedState=th,e):Pp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jR(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=gs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=gs(a,o):(o=Hs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?nh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=th,r}return o=e.child,e=o.sibling,r=gs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pp(e,t){return t=wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kl(e,t,n,r){return r!==null&&yp(r),ei(t,e.child,null,n),e=Pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jR(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Md(Error(B(422))),kl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=wu({mode:"visible",children:r.children},s,0,null),o=Hs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ei(t,e.child,null,i),t.child.memoizedState=nh(i),t.memoizedState=th,o);if(!(t.mode&1))return kl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=Md(o,r,void 0),kl(e,t,i,r)}if(a=(i&e.childLanes)!==0,$t||a){if(r=ft,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Rr(e,s),An(r,e,s,-1))}return Dp(),r=Md(Error(B(421))),kl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=KR.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,tn=fs(s.nextSibling),rn=t,Ue=!0,Rn=null,e!==null&&(gn[yn++]=Sr,gn[yn++]=Cr,gn[yn++]=Ks,Sr=e.id,Cr=e.overflow,Ks=t),t=Pp(t,r.children),t.flags|=4096,t)}function gv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yf(e.return,t,n)}function Od(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function k_(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gv(e,n,t);else if(e.tag===19)gv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Mc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Od(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Mc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Od(t,!0,n,null,o);break;case"together":Od(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=gs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MR(e,t,n){switch(t.tag){case 3:S_(t),Zo();break;case 5:Qb(t);break;case 1:Ht(t.type)&&Nc(t);break;case 4:Sp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(Pc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?C_(e,t,n):(De(Ve,Ve.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);De(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return k_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,b_(e,t,n)}return Ir(e,t,n)}var E_,rh,T_,N_;E_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rh=function(){};T_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$s(rr.current);var o=null;switch(n){case"input":s=kf(e,s),r=kf(e,r),o=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":s=Nf(e,s),r=Nf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ec)}If(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ya.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ya.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};N_=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OR(e,t,n){var r=t.pendingProps;switch(gp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Ht(t.type)&&Tc(),bt(t),null;case 3:return r=t.stateNode,ti(),ze(Ut),ze(Ct),kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(dh(Rn),Rn=null))),rh(e,t),bt(t),null;case 5:Cp(t);var s=$s(Ra.current);if(n=t.type,e!==null&&t.stateNode!=null)T_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return bt(t),null}if(e=$s(rr.current),Sl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qn]=t,r[Ta]=o,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Xi.length;s++)Be(Xi[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":ky(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Ty(r,o),Be("invalid",r)}If(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&_l(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&_l(r.textContent,a,e),s=["children",""+a]):ya.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Be("scroll",r)}switch(n){case"input":pl(r),Ey(r,o,!0);break;case"textarea":pl(r),Ny(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ec)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Qn]=t,e[Ta]=r,E_(e,t,!1,!1),t.stateNode=e;e:{switch(i=Pf(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<Xi.length;s++)Be(Xi[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":ky(e,r),s=kf(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Ty(e,r),s=Nf(e,r),Be("invalid",e);break;default:s=r}If(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ob(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&va(e,l):typeof l=="number"&&va(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Be("scroll",e):l!=null&&tp(e,o,l,i))}switch(n){case"input":pl(e),Ey(e,r,!1);break;case"textarea":pl(e),Ny(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ys(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?zo(e,!!r.multiple,o,!1):r.defaultValue!=null&&zo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)N_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=$s(Ra.current),$s(rr.current),Sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(o=r.nodeValue!==n)&&(e=rn,e!==null))switch(e.tag){case 3:_l(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_l(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return bt(t),null;case 13:if(ze(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&tn!==null&&t.mode&1&&!(t.flags&128))Kb(),Zo(),t.flags|=98560,o=!1;else if(o=Sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Qn]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),o=!1}else Rn!==null&&(dh(Rn),Rn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?it===0&&(it=3):Dp())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return ti(),rh(e,t),e===null&&ka(t.stateNode.containerInfo),bt(t),null;case 10:return wp(t.type._context),bt(t),null;case 17:return Ht(t.type)&&Tc(),bt(t),null;case 19:if(ze(Ve),o=t.memoizedState,o===null)return bt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)zi(o,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Mc(e),i!==null){for(t.flags|=128,zi(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ve,Ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>ri&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=Mc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ue)return bt(t),null}else 2*Ze()-o.renderingStartTime>ri&&n!==1073741824&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Ve.current,De(Ve,r?n&1|2:n&1),t):(bt(t),null);case 22:case 23:return Lp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function LR(e,t){switch(gp(t),t.tag){case 1:return Ht(t.type)&&Tc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),ze(Ut),ze(Ct),kp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cp(t),null;case 13:if(ze(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ve),null;case 4:return ti(),null;case 10:return wp(t.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var El=!1,_t=!1,DR=typeof WeakSet=="function"?WeakSet:Set,G=null;function Mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function sh(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var yv=!1;function FR(e,t){if($f=Sc,e=jb(),pp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},Sc=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Tn(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ge(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=yv,yv=!1,w}function sa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&sh(t,n,o)}s=s.next}while(s!==r)}}function vu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function R_(e){var t=e.alternate;t!==null&&(e.alternate=null,R_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Ta],delete t[Wf],delete t[wR],delete t[bR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I_(e){return e.tag===5||e.tag===3||e.tag===4}function vv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ih(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ec));else if(r!==4&&(e=e.child,e!==null))for(ih(e,t,n),e=e.sibling;e!==null;)ih(e,t,n),e=e.sibling}function ah(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ah(e,t,n),e=e.sibling;e!==null;)ah(e,t,n),e=e.sibling}var ht=null,Nn=!1;function Wr(e,t,n){for(n=n.child;n!==null;)P_(e,t,n),n=n.sibling}function P_(e,t,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(uu,n)}catch{}switch(n.tag){case 5:_t||Mo(n,t);case 6:var r=ht,s=Nn;ht=null,Wr(e,t,n),ht=r,Nn=s,ht!==null&&(Nn?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Nn?(e=ht,n=n.stateNode,e.nodeType===8?Nd(e.parentNode,n):e.nodeType===1&&Nd(e,n),_a(e)):Nd(ht,n.stateNode));break;case 4:r=ht,s=Nn,ht=n.stateNode.containerInfo,Nn=!0,Wr(e,t,n),ht=r,Nn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&sh(n,t,i),s=s.next}while(s!==r)}Wr(e,t,n);break;case 1:if(!_t&&(Mo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,t,a)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Wr(e,t,n),_t=r):Wr(e,t,n);break;default:Wr(e,t,n)}}function xv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DR),t.forEach(function(r){var s=qR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Nn=!1;break e;case 3:ht=a.stateNode.containerInfo,Nn=!0;break e;case 4:ht=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(ht===null)throw Error(B(160));P_(o,i,s),ht=null,Nn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A_(t,e),t=t.sibling}function A_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(t,e),qn(e),r&4){try{sa(3,e,e.return),vu(3,e)}catch(y){Ge(e,e.return,y)}try{sa(5,e,e.return)}catch(y){Ge(e,e.return,y)}}break;case 1:kn(t,e),qn(e),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(kn(t,e),qn(e),r&512&&n!==null&&Mo(n,n.return),e.flags&32){var s=e.stateNode;try{va(s,"")}catch(y){Ge(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&eb(s,o),Pf(a,i);var u=Pf(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?ob(s,h):d==="dangerouslySetInnerHTML"?rb(s,h):d==="children"?va(s,h):tp(s,d,h,u)}switch(a){case"input":Ef(s,o);break;case"textarea":tb(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?zo(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?zo(s,!!o.multiple,o.defaultValue,!0):zo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ta]=o}catch(y){Ge(e,e.return,y)}}break;case 6:if(kn(t,e),qn(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Ge(e,e.return,y)}}break;case 3:if(kn(t,e),qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_a(t.containerInfo)}catch(y){Ge(e,e.return,y)}break;case 4:kn(t,e),qn(e);break;case 13:kn(t,e),qn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Mp=Ze())),r&4&&xv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(u=_t)||d,kn(t,e),_t=u):kn(t,e),qn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(p=G,m=p.child,p.tag){case 0:case 11:case 14:case 15:sa(4,p,p.return);break;case 1:Mo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Ge(r,n,y)}}break;case 5:Mo(p,p.return);break;case 22:if(p.memoizedState!==null){bv(h);continue}}m!==null?(m.return=p,G=m):bv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sb("display",i))}catch(y){Ge(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ge(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kn(t,e),qn(e),r&4&&xv(e);break;case 21:break;default:kn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(va(s,""),r.flags&=-33);var o=vv(e);ah(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=vv(e);ih(e,a,i);break;default:throw Error(B(161))}}catch(l){Ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BR(e,t,n){G=e,j_(e)}function j_(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||El;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_t;a=El;var u=_t;if(El=i,(_t=l)&&!u)for(G=s;G!==null;)i=G,l=i.child,i.tag===22&&i.memoizedState!==null?_v(s):l!==null?(l.return=i,G=l):_v(s);for(;o!==null;)G=o,j_(o),o=o.sibling;G=s,El=a,_t=u}wv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):wv(e)}}function wv(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||vu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sv(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sv(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&_a(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}_t||t.flags&512&&oh(t)}catch(p){Ge(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function bv(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function _v(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vu(4,t)}catch(l){Ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ge(t,s,l)}}var o=t.return;try{oh(t)}catch(l){Ge(t,o,l)}break;case 5:var i=t.return;try{oh(t)}catch(l){Ge(t,i,l)}}}catch(l){Ge(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var zR=Math.ceil,Dc=Or.ReactCurrentDispatcher,Ap=Or.ReactCurrentOwner,wn=Or.ReactCurrentBatchConfig,Ce=0,ft=null,nt=null,pt=0,Jt=0,Oo=_s(0),it=0,ja=null,Gs=0,xu=0,jp=0,oa=null,zt=null,Mp=0,ri=1/0,xr=null,Fc=!1,lh=null,ps=null,Tl=!1,as=null,Bc=0,ia=0,ch=null,nc=-1,rc=0;function At(){return Ce&6?Ze():nc!==-1?nc:nc=Ze()}function ms(e){return e.mode&1?Ce&2&&pt!==0?pt&-pt:SR.transition!==null?(rc===0&&(rc=yb()),rc):(e=je,e!==0||(e=window.event,e=e===void 0?16:Cb(e.type)),e):1}function An(e,t,n,r){if(50<ia)throw ia=0,ch=null,Error(B(185));qa(e,n,r),(!(Ce&2)||e!==ft)&&(e===ft&&(!(Ce&2)&&(xu|=n),it===4&&ss(e,pt)),Vt(e,r),n===1&&Ce===0&&!(t.mode&1)&&(ri=Ze()+500,mu&&Ss()))}function Vt(e,t){var n=e.callbackNode;SN(e,t);var r=_c(e,e===ft?pt:0);if(r===0)n!==null&&Py(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Py(n),t===1)e.tag===0?_R(Sv.bind(null,e)):Hb(Sv.bind(null,e)),vR(function(){!(Ce&6)&&Ss()}),n=null;else{switch(vb(r)){case 1:n=ip;break;case 4:n=mb;break;case 16:n=bc;break;case 536870912:n=gb;break;default:n=bc}n=$_(n,M_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function M_(e,t){if(nc=-1,rc=0,Ce&6)throw Error(B(327));var n=e.callbackNode;if(Wo()&&e.callbackNode!==n)return null;var r=_c(e,e===ft?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zc(e,r);else{t=r;var s=Ce;Ce|=2;var o=L_();(ft!==e||pt!==t)&&(xr=null,ri=Ze()+500,Us(e,t));do try{HR();break}catch(a){O_(e,a)}while(!0);xp(),Dc.current=o,Ce=s,nt!==null?t=0:(ft=null,pt=0,t=it)}if(t!==0){if(t===2&&(s=Lf(e),s!==0&&(r=s,t=uh(e,s))),t===1)throw n=ja,Us(e,0),ss(e,r),Vt(e,Ze()),n;if(t===6)ss(e,r);else{if(s=e.current.alternate,!(r&30)&&!$R(s)&&(t=zc(e,r),t===2&&(o=Lf(e),o!==0&&(r=o,t=uh(e,o))),t===1))throw n=ja,Us(e,0),ss(e,r),Vt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Ls(e,zt,xr);break;case 3:if(ss(e,r),(r&130023424)===r&&(t=Mp+500-Ze(),10<t)){if(_c(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vf(Ls.bind(null,e,zt,xr),t);break}Ls(e,zt,xr);break;case 4:if(ss(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Pn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zR(r/1960))-r,10<r){e.timeoutHandle=Vf(Ls.bind(null,e,zt,xr),r);break}Ls(e,zt,xr);break;case 5:Ls(e,zt,xr);break;default:throw Error(B(329))}}}return Vt(e,Ze()),e.callbackNode===n?M_.bind(null,e):null}function uh(e,t){var n=oa;return e.current.memoizedState.isDehydrated&&(Us(e,t).flags|=256),e=zc(e,t),e!==2&&(t=zt,zt=n,t!==null&&dh(t)),e}function dh(e){zt===null?zt=e:zt.push.apply(zt,e)}function $R(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!On(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ss(e,t){for(t&=~jp,t&=~xu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),r=1<<n;e[n]=-1,t&=~r}}function Sv(e){if(Ce&6)throw Error(B(327));Wo();var t=_c(e,0);if(!(t&1))return Vt(e,Ze()),null;var n=zc(e,t);if(e.tag!==0&&n===2){var r=Lf(e);r!==0&&(t=r,n=uh(e,r))}if(n===1)throw n=ja,Us(e,0),ss(e,t),Vt(e,Ze()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ls(e,zt,xr),Vt(e,Ze()),null}function Op(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(ri=Ze()+500,mu&&Ss())}}function Ys(e){as!==null&&as.tag===0&&!(Ce&6)&&Wo();var t=Ce;Ce|=1;var n=wn.transition,r=je;try{if(wn.transition=null,je=1,e)return e()}finally{je=r,wn.transition=n,Ce=t,!(Ce&6)&&Ss()}}function Lp(){Jt=Oo.current,ze(Oo)}function Us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yR(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(gp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tc();break;case 3:ti(),ze(Ut),ze(Ct),kp();break;case 5:Cp(r);break;case 4:ti();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:wp(r.type._context);break;case 22:case 23:Lp()}n=n.return}if(ft=e,nt=e=gs(e.current,null),pt=Jt=t,it=0,ja=null,jp=xu=Gs=0,zt=oa=null,zs!==null){for(t=0;t<zs.length;t++)if(n=zs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}zs=null}return e}function O_(e,t){do{var n=nt;try{if(xp(),Zl.current=Lc,Oc){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oc=!1}if(qs=0,dt=ot=We=null,ra=!1,Ia=0,Ap.current=null,n===null||n.return===null){it=1,ja=t,nt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=uv(i);if(m!==null){m.flags&=-257,dv(m,i,a,o,t),m.mode&1&&cv(o,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){cv(o,u,t),Dp();break e}l=Error(B(426))}}else if(Ue&&a.mode&1){var b=uv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dv(b,i,a,o,t),yp(ni(l,a));break e}}o=l=ni(l,a),it!==4&&(it=2),oa===null?oa=[o]:oa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=v_(o,l,t);rv(o,g);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ps===null||!ps.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=x_(o,a,t);rv(o,C);break e}}o=o.return}while(o!==null)}F_(n)}catch(R){t=R,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function L_(){var e=Dc.current;return Dc.current=Lc,e===null?Lc:e}function Dp(){(it===0||it===3||it===2)&&(it=4),ft===null||!(Gs&268435455)&&!(xu&268435455)||ss(ft,pt)}function zc(e,t){var n=Ce;Ce|=2;var r=L_();(ft!==e||pt!==t)&&(xr=null,Us(e,t));do try{UR();break}catch(s){O_(e,s)}while(!0);if(xp(),Ce=n,Dc.current=r,nt!==null)throw Error(B(261));return ft=null,pt=0,it}function UR(){for(;nt!==null;)D_(nt)}function HR(){for(;nt!==null&&!pN();)D_(nt)}function D_(e){var t=z_(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?F_(e):nt=t,Ap.current=null}function F_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LR(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,nt=null;return}}else if(n=OR(n,t,Jt),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);it===0&&(it=5)}function Ls(e,t,n){var r=je,s=wn.transition;try{wn.transition=null,je=1,VR(e,t,n,r)}finally{wn.transition=s,je=r}return null}function VR(e,t,n,r){do Wo();while(as!==null);if(Ce&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(CN(e,o),e===ft&&(nt=ft=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tl||(Tl=!0,$_(bc,function(){return Wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var i=je;je=1;var a=Ce;Ce|=4,Ap.current=null,FR(e,n),A_(n,e),uR(Uf),Sc=!!$f,Uf=$f=null,e.current=n,BR(n),mN(),Ce=a,je=i,wn.transition=o}else e.current=n;if(Tl&&(Tl=!1,as=e,Bc=s),o=e.pendingLanes,o===0&&(ps=null),vN(n.stateNode),Vt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fc)throw Fc=!1,e=lh,lh=null,e;return Bc&1&&e.tag!==0&&Wo(),o=e.pendingLanes,o&1?e===ch?ia++:(ia=0,ch=e):ia=0,Ss(),null}function Wo(){if(as!==null){var e=vb(Bc),t=wn.transition,n=je;try{if(wn.transition=null,je=16>e?16:e,as===null)var r=!1;else{if(e=as,as=null,Bc=0,Ce&6)throw Error(B(331));var s=Ce;for(Ce|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:sa(8,d,o)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var p=d.sibling,m=d.return;if(R_(d),d===u){G=null;break}if(p!==null){p.return=m,G=p;break}G=m}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sa(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,G=g;break e}G=o.return}}var v=e.current;for(G=v;G!==null;){i=G;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,G=x;else e:for(i=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vu(9,a)}}catch(R){Ge(a,a.return,R)}if(a===i){G=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,G=C;break e}G=a.return}}if(Ce=s,Ss(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(uu,e)}catch{}r=!0}return r}finally{je=n,wn.transition=t}}return!1}function Cv(e,t,n){t=ni(n,t),t=v_(e,t,1),e=hs(e,t,1),t=At(),e!==null&&(qa(e,1,t),Vt(e,t))}function Ge(e,t,n){if(e.tag===3)Cv(e,e,n);else for(;t!==null;){if(t.tag===3){Cv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ps===null||!ps.has(r))){e=ni(n,e),e=x_(t,e,1),t=hs(t,e,1),e=At(),t!==null&&(qa(t,1,e),Vt(t,e));break}}t=t.return}}function WR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(pt&n)===n&&(it===4||it===3&&(pt&130023424)===pt&&500>Ze()-Mp?Us(e,0):jp|=n),Vt(e,t)}function B_(e,t){t===0&&(e.mode&1?(t=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):t=1);var n=At();e=Rr(e,t),e!==null&&(qa(e,t,n),Vt(e,n))}function KR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),B_(e,n)}function qR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),B_(e,n)}var z_;z_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,MR(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Ue&&t.flags&1048576&&Vb(t,Ic,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tc(e,t),e=t.pendingProps;var s=Jo(t,Ct.current);Vo(t,n),s=Tp(null,t,r,e,s,n);var o=Np();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(o=!0,Nc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_p(t),s.updater=yu,t.stateNode=s,s._reactInternals=t,Qf(t,r,e,n),t=eh(null,t,r,!0,o,n)):(t.tag=0,Ue&&o&&mp(t),Pt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=YR(r),e=Tn(r,e),s){case 0:t=Zf(null,t,r,e,n);break e;case 1:t=pv(null,t,r,e,n);break e;case 11:t=fv(null,t,r,e,n);break e;case 14:t=hv(null,t,r,Tn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tn(r,s),Zf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tn(r,s),pv(e,t,r,s,n);case 3:e:{if(S_(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Xb(e,t),jc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ni(Error(B(423)),t),t=mv(e,t,r,n,s);break e}else if(r!==s){s=ni(Error(B(424)),t),t=mv(e,t,r,n,s);break e}else for(tn=fs(t.stateNode.containerInfo.firstChild),rn=t,Ue=!0,Rn=null,n=Gb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),r===s){t=Ir(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return Qb(t),e===null&&Gf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Hf(r,s)?i=null:o!==null&&Hf(r,o)&&(t.flags|=32),__(e,t),Pt(e,t,i,n),t.child;case 6:return e===null&&Gf(t),null;case 13:return C_(e,t,n);case 4:return Sp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ei(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tn(r,s),fv(e,t,r,s,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,De(Pc,r._currentValue),r._currentValue=i,o!==null)if(On(o.value,i)){if(o.children===s.children&&!Ut.current){t=Ir(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=kr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yf(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Yf(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Pt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vo(t,n),s=bn(s),r=r(s),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,s=Tn(r,t.pendingProps),s=Tn(r.type,s),hv(e,t,r,s,n);case 15:return w_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tn(r,s),tc(e,t),t.tag=1,Ht(r)?(e=!0,Nc(t)):e=!1,Vo(t,n),y_(t,r,s),Qf(t,r,s,n),eh(null,t,r,!0,e,n);case 19:return k_(e,t,n);case 22:return b_(e,t,n)}throw Error(B(156,t.tag))};function $_(e,t){return pb(e,t)}function GR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,r){return new GR(e,t,n,r)}function Fp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YR(e){if(typeof e=="function")return Fp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rp)return 11;if(e===sp)return 14}return 2}function gs(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sc(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Fp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ko:return Hs(n.children,s,o,t);case np:i=8,s|=8;break;case bf:return e=xn(12,n,t,s|2),e.elementType=bf,e.lanes=o,e;case _f:return e=xn(13,n,t,s),e.elementType=_f,e.lanes=o,e;case Sf:return e=xn(19,n,t,s),e.elementType=Sf,e.lanes=o,e;case Qw:return wu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yw:i=10;break e;case Xw:i=9;break e;case rp:i=11;break e;case sp:i=14;break e;case Zr:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=xn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Hs(e,t,n,r){return e=xn(7,e,r,t),e.lanes=n,e}function wu(e,t,n,r){return e=xn(22,e,r,t),e.elementType=Qw,e.lanes=n,e.stateNode={isHidden:!1},e}function Ld(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Dd(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yd(0),this.expirationTimes=yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bp(e,t,n,r,s,o,i,a,l){return e=new XR(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(o),e}function QR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function U_(e){if(!e)return vs;e=e._reactInternals;e:{if(ro(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ht(n))return Ub(e,n,t)}return t}function H_(e,t,n,r,s,o,i,a,l){return e=Bp(n,r,!0,e,s,o,i,a,l),e.context=U_(null),n=e.current,r=At(),s=ms(n),o=kr(r,s),o.callback=t??null,hs(n,o,s),e.current.lanes=s,qa(e,s,r),Vt(e,r),e}function bu(e,t,n,r){var s=t.current,o=At(),i=ms(s);return n=U_(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hs(s,t,i),e!==null&&(An(e,s,i,o),Jl(e,s,i)),i}function $c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zp(e,t){kv(e,t),(e=e.alternate)&&kv(e,t)}function JR(){return null}var V_=typeof reportError=="function"?reportError:function(e){console.error(e)};function $p(e){this._internalRoot=e}_u.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));bu(e,t,null,null)};_u.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ys(function(){bu(null,e,null,null)}),t[Nr]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var t=bb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rs.length&&t!==0&&t<rs[n].priority;n++);rs.splice(n,0,e),n===0&&Sb(e)}};function Up(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ev(){}function ZR(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=$c(i);o.call(u)}}var i=H_(t,r,e,0,null,!1,!1,"",Ev);return e._reactRootContainer=i,e[Nr]=i.current,ka(e.nodeType===8?e.parentNode:e),Ys(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=$c(l);a.call(u)}}var l=Bp(e,0,!1,null,null,!1,!1,"",Ev);return e._reactRootContainer=l,e[Nr]=l.current,ka(e.nodeType===8?e.parentNode:e),Ys(function(){bu(t,l,n,r)}),l}function Cu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=$c(i);a.call(l)}}bu(t,i,e,s)}else i=ZR(n,t,e,s,r);return $c(i)}xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yi(t.pendingLanes);n!==0&&(ap(t,n|1),Vt(t,Ze()),!(Ce&6)&&(ri=Ze()+500,Ss()))}break;case 13:Ys(function(){var r=Rr(e,1);if(r!==null){var s=At();An(r,e,1,s)}}),zp(e,1)}};lp=function(e){if(e.tag===13){var t=Rr(e,134217728);if(t!==null){var n=At();An(t,e,134217728,n)}zp(e,134217728)}};wb=function(e){if(e.tag===13){var t=ms(e),n=Rr(e,t);if(n!==null){var r=At();An(n,e,t,r)}zp(e,t)}};bb=function(){return je};_b=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};jf=function(e,t,n){switch(t){case"input":if(Ef(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=pu(r);if(!s)throw Error(B(90));Zw(r),Ef(r,s)}}}break;case"textarea":tb(e,n);break;case"select":t=n.value,t!=null&&zo(e,!!n.multiple,t,!1)}};lb=Op;cb=Ys;var eI={usingClientEntryPoint:!1,Events:[Ya,Ro,pu,ib,ab,Op]},$i={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tI={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fb(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||JR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{uu=Nl.inject(tI),nr=Nl}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eI;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(t))throw Error(B(200));return QR(e,t,null,n)};an.createRoot=function(e,t){if(!Up(e))throw Error(B(299));var n=!1,r="",s=V_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bp(e,1,!1,null,null,n,!1,r,s),e[Nr]=t.current,ka(e.nodeType===8?e.parentNode:e),new $p(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=fb(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Ys(e)};an.hydrate=function(e,t,n){if(!Su(t))throw Error(B(200));return Cu(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!Up(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=V_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=H_(t,null,e,1,n??null,s,!1,o,i),e[Nr]=t.current,ka(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _u(t)};an.render=function(e,t,n){if(!Su(t))throw Error(B(200));return Cu(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!Su(e))throw Error(B(40));return e._reactRootContainer?(Ys(function(){Cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};an.unstable_batchedUpdates=Op;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Su(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Cu(e,t,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function W_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W_)}catch(e){console.error(e)}}W_(),Ww.exports=an;var gi=Ww.exports;const nI=fi(gi);var K_,Tv=gi;K_=Tv.createRoot,Tv.hydrateRoot;function rI(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function sI(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let aa=null;function oI(e,t){e.currentIndex=0;const n=aa;aa=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{aa=n}}function Hp(){if(!aa)throw new Error("No resource fiber available");return aa}function iI(e){return null}function q_(e,t){const n=e[G_];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const G_=Symbol("fnSymbol");function Ma(e,t,n=iI()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function Ko(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,sI(e)}function Vs(e,t){const n={commitTasks:[],props:t,output:void 0};return oI(e,()=>{e.renderContext=n;try{n.output=q_(e.type,t)}finally{e.renderContext=void 0}}),n}function Oa(e,t){e.isMounted=!0,e.isNeverMounted=!1,rI(t)}const aI=()=>null,lI=(e,t)=>e+(t()?1:0);function cI(e){const[,t]=f.useReducer(lI,0),n=aI(),r=f.useMemo(()=>Ma(e.type,t,n),[e.type,e.key]),s=Vs(r,e.props);return f.useLayoutEffect(()=>()=>Ko(r),[r]),f.useLayoutEffect(()=>{Oa(r,s)}),s.output}function Me(e){const t=n=>({type:t,props:n});return t[G_]=e,t}function Pr(e,t){return{...t,key:e}}const uI=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function dI(e){const t=Hp(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{uI(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function Ln(e){const t=dI(e);return[t.value,t.set]}const Y_=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},fI=(e,t)=>{const n=Hp(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},hI=e=>{Hp().renderContext.commitTasks.push(e)},pI=()=>({type:"effect",cleanup:void 0,deps:null});function gt(e,t){const n=fI("effect",pI);if(!(t&&n.deps&&Y_(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");hI(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function ls(e){const[t]=Ln(()=>({current:e}));return t}function si(e,t){const[n]=Ln(e);return n}const ke=(e,t)=>{const n=ls();return n.current||(n.current={value:e(),deps:t}),Y_(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},X_=(e,t)=>ke(()=>e,t);function Vp(e){const t=ls(e);return gt(()=>{t.current=e}),t.current}function Q_(e,t){const[n,r]=Ln(0),s=si(()=>()=>r(a=>a+1)),o=ke(()=>(e.key,Ma(e.type,a=>{a()&&s()})),[e.type,e.key]),i=Vs(o,e.props);return gt(()=>()=>Ko(o),[o]),gt(()=>{Oa(o,i)},[o,i]),i.output}function ar(e){return q_(e.type,e.props)}function Wp(e,t){const[n,r]=Ln(0),s=si(()=>()=>r(l=>l+1)),o=si(()=>new Map),i=t?X_(e,t):e,a=ke(()=>{const l=i(),u=new Set,d=[];let h=0;for(let p=0;p<l.length;p++){const m=l[p],w=m.key;if(w===void 0)throw new Error(`tapResources did not provide a key for array at index ${p}`);if(u.has(w))throw new Error(`Duplicate key ${w} in tapResources`);u.add(w);let y=o.get(w);if(y)if(y.fiber.type!==m.type){const b=Ma(m.type,v=>{v()&&s()}),g=Vs(b,m.props);y.next=[b,g],d.push(g.output)}else y.next=Vs(y.fiber,m.props),d.push(y.next.output);else{const b=Ma(m.type,v=>{v()&&s()}),g=Vs(b,m.props);y={fiber:b,next:g},h++,o.set(w,y),d.push(g.output)}}if(o.size>d.length-h)for(const p of o.keys())u.has(p)||(o.get(p).next="delete");return d},[i,n]);return gt(()=>()=>{for(const l of o.keys()){const u=o.get(l).fiber;Ko(u)}},[]),gt(()=>{for(const[l,u]of o.entries())u.next==="delete"?(u.fiber.isMounted&&Ko(u.fiber),o.delete(l)):Array.isArray(u.next)?(Ko(u.fiber),u.fiber=u.next[0],Oa(u.fiber,u.next[1])):Oa(u.fiber,u.next)},[a]),a}const mI=50;let er={schedulers:new Set([]),isScheduled:!1};class gI{constructor(t){P(this,"_task");P(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,er.schedulers.add(this),yI()}runTask(){this._isDirty=!1,this._task()}}const yI=()=>{er.isScheduled||(er.isScheduled=!0,queueMicrotask(J_))},J_=()=>{try{const e=[];let t=0;for(const n of er.schedulers)if(er.schedulers.delete(n),!!n.isDirty){if(t++,t>mI)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{er.schedulers.clear(),er.isScheduled=!1}},Z_=e=>{const t=er;er={schedulers:new Set([]),isScheduled:!0};try{const n=e();return J_(),n}finally{er=t}},vI=e=>{const t=si(()=>new gI(()=>{r.current=null,l()})),n=ke(()=>(e.key,Ma(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=ls(null);r.current=Vs(n,e.props);const s=ls(!1),o=ls(e.props),i=ls(r.current.output),a=si(()=>new Set),l=Vp(()=>{s.current&&(r.current===null&&(r.current=Vs(n,o.current)),!t.isDirty&&(o.current=r.current.props,Oa(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(u=>u()))))});return gt(()=>(s.current=!0,()=>{s.current=!1,Ko(n)}),[n]),gt(()=>{Z_(l)}),ke(()=>({getValue:()=>i.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},la=Symbol("tap.Context"),eS=e=>({[la]:e}),tS=(e,t,n)=>{const r=e[la];e[la]=t;try{return n()}finally{e[la]=r}},nS=e=>e[la],fh=Symbol("assistant-ui.store.clientIndex"),xI=e=>e[fh],rS=eS([]),Kp=()=>nS(rS),wI=(e,t)=>{const n=Kp(),r=ke(()=>[...n,e],[n,e]);return tS(rS,r,t)},bI=new Set(["$$typeof","nodeType","then"]),ku=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!bI.has(e))return!1}};class qp{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const sS=e=>{const t=Me(e);return n=>{const r=t(n);return n.key===void 0?r:Pr(n.key,r)}},Uc=Symbol("assistant-ui.store.getValue"),_I=e=>{const t=e[Uc];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},Nv=new Map;function SI(e){let t=Nv.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[Uc];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},Nv.set(e,t)),t}class CI extends qp{constructor(n,r){super();P(this,"outputRef");P(this,"index");P(this,"boundFns");P(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===Uc)return this.outputRef.current;if(r===fh)return this.index;const o=ku(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=SI(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===Uc||r===fh?!0:r in this.outputRef.current.methods}}const oS=sS(e=>{const t=ls(null),n=Kp().length,r=ke(()=>new Proxy({},new CI(t,n)),[n]),s=wI(r,()=>Q_(e));return t.current||(t.current=s),gt(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),Eu=e=>ar(oS(e)),ca=Symbol("assistant-ui.store.proxiedAssistantState"),Fd=e=>e==="on"||e==="subscribe"||typeof e=="symbol",iS=e=>{class t extends qp{get(r,s){const o=ku(s,"AssistantState");if(o!==!1)return o;const i=s;if(!Fd(i))return _I(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!Fd(r))}has(r,s){return!Fd(s)&&s in e}}return new Proxy({},new t)},kI=e=>e[ca],Rv=()=>()=>{},aS=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class EI extends qp{get(t,n){if(n==="subscribe"||n==="on")return Rv;if(n===ca)return TI;const r=ku(n,"DefaultAssistantClient");return r!==!1?r:aS("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",ca]}has(t,n){return n==="subscribe"||n==="on"||n===ca}}const Tu=new Proxy({},new EI),TI=iS(Tu),NI=()=>new Proxy({},{get(e,t){const n=ku(t,"AssistantClient");return n!==!1?n:aS(`The current scope does not have a "${String(t)}" property.`)}}),lS=f.createContext(Tu),RI=()=>f.useContext(lS),Cs=({value:e,children:t})=>c.jsx(lS.Provider,{value:e,children:t}),jn=Me(e=>null),hh=Symbol("assistant-ui.default-peers");function cS(e,t){const n=e,r=n[hh]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[hh]={...r,...t}}function II(e){return e[hh]}function PI(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===jn?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=II(o.type);if(!a)return[];const l=[];for(const[u,d]of Object.entries(a))if(l.push([u,d]),d.type!==jn){const h=s(d,i);l.push(...h)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===jn?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const Iv=e=>ke(()=>e,[...Object.entries(e).flat()]),AI=(e,t)=>{const{rootClients:n,derivedClients:r}=PI(e,t);return{rootClients:Iv(n),derivedClients:Iv(r)}},uS=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},jI=Me(()=>si(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:s};for(const u of t)try{u(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),dS=eS(null),MI=(e,t)=>tS(dS,e,t),fS=()=>{const e=nS(dS);if(!e)throw new Error("AssistantTapContext is not available");return e},hS=()=>fS().clientRef,Gp=()=>{const{emit:e}=fS(),t=Kp();return Vp((n,r)=>{e(n,r,t)})},pS=e=>ke(()=>e,e),OI=Me(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=MI({clientRef:n,emit:t},()=>Eu(e));return ke(()=>({state:s,methods:r}),[r,s])}),LI=Me(({element:e,notifications:t,clientRef:n,name:r})=>{const s=vI(OI({element:e,emit:t.emit,clientRef:n}));return gt(()=>s.subscribe(t.notifySubscribers),[s,t]),ke(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),DI=Me(()=>ke(()=>({clients:[],subscribe:void 0,on:void 0}),[])),FI=Me(({clients:e,clientRef:t})=>{const n=ar(jI());gt(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=pS(Wp(()=>Object.keys(e).map(s=>Pr(s,LI({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return ke(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=uS(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,h)=>{if(i==="*"){o(d);return}const p=this[i](),m=xI(p);p===h[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const u=t.parent.on(s,o);return()=>{l(),u()}}}),[r,n,t])}),Pv=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},BI=Me(({element:e,clientRef:t,name:n})=>{const r=Vp(()=>e.props);return ke(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>Pv(r(),t,o).source},query:{get:()=>Pv(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),zI=Me(({clients:e,clientRef:t})=>pS(Wp(()=>Object.keys(e).map(n=>Pr(n,BI({element:e[n],clientRef:t,name:n}))),[e,t]))),$I=Me(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=AI(t,e),s=ls({parent:e,current:null}).current;gt(()=>{s.current=a});const o=Q_(Object.keys(n).length>0?FI({clients:n,clientRef:s}):DI()),i=ar(zI({clients:r,clientRef:s})),a=ke(()=>{const l=e===Tu?NI():e,u=Object.create(l);Object.assign(u,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[ca]:iS(u)});for(const d of o.clients)u[d.name]=d;for(const d of i)u[d.name]=d;return u},[e,o,i]);return s.current===null&&(s.current=a),a});function ve(e,{parent:t}={parent:RI()}){if(e)return cI($I({parent:t??Tu,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const se=e=>{const t=ve(),n=kI(t),r=f.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return f.useDebugValue(r),r},UI=Se.createContext(!0);function Av(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const HI="use"in Se?()=>{try{return Se.use(UI)}catch{return!1}}:()=>!1;function VI(e){const t=Se.useRef(Av);return Se.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{HI()&&Av();const r=t.current;return r(...n)}}const Bd=(e,t)=>{const n=ve(),r=VI(t),{scope:s,event:o}=uS(e);f.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},WI=sS(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return ar(oS(e))});function oi(e,t){const n=Wp(()=>e().map(i=>WI(i)),t),r=ke(()=>Object.keys(n),[n]),s=ke(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:ke(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const KI=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class Yp{constructor(){P(this,"_providers",new Set);P(this,"_subscribers",new Set)}getModelContext(){return KI(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class Xp{constructor(){P(this,"_contextProvider",new Yp)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class Qa{constructor(){P(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const qI=e=>e.status.type==="complete";class mS extends Qa{constructor(){super(...arguments);P(this,"isEditing",!0);P(this,"_attachments",[]);P(this,"_text","");P(this,"_role","user");P(this,"_runConfig",{});P(this,"_dictation");P(this,"_dictationSession");P(this,"_dictationUnsubscribes",[]);P(this,"_dictationBaseText","");P(this,"_currentInterimText","");P(this,"_dictationSessionIdCounter",0);P(this,"_activeDictationSessionId");P(this,"_isCleaningDictation",!1);P(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>qI(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const h of this._dictationUnsubscribes)h();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const h=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(h){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:w,...y}=this._dictation;this._dictation=y}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class gS extends mS{constructor(n){super();P(this,"runtime");P(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let GI=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Xs=GI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),YI="__optimistic__",XI=()=>`${YI}${Xs()}`,Nu=Symbol("autoStatus"),QI=Object.freeze(Object.assign({type:"running"},{[Nu]:!0})),JI=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Nu]:!0})),ZI=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Nu]:!0})),eP=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Nu]:!0})),yS=(e,t,n,r,s)=>e&&t?QI:n?eP:r?ZI:JI;var yi={exports:{}};const tP=typeof Buffer<"u",jv=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Mv=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function vS(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),tP&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(jv.test(e)===!1&&Mv.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(jv.test(e)===!1)return r}else if(Mv.test(e)===!1)return r;return xS(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function xS(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function Qp(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return vS(e,t,n)}finally{Error.stackTraceLimit=r}}function nP(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return vS(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}yi.exports=Qp;yi.exports.default=Qp;yi.exports.parse=Qp;yi.exports.safeParse=nP;yi.exports.scan=xS;var rP=yi.exports;const Ov=fi(rP);function sP(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(h,p,m){switch(h){case'"':{n=p,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=p,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=p,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop(),o=s.pop();break}}}function u(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}}}for(let h=0;h<e.length;h++){const p=e[h];switch(t[t.length-1]){case"ROOT":a(p,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=h,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=p;break}default:{o+=p;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(p,h);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=h,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=h}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h,o="0",a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=h:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=p);break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const w=e.substring(r,h+1);!"false".startsWith(w)&&!"true".startsWith(w)&&!"null".startsWith(w)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(p,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h)):n=h;break}}}let d=e.slice(0,n+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const zd=Symbol("aui.parse-partial-json-object.meta"),wS=e=>{if(e.length===0)return{[zd]:{state:"partial",partialPath:[]}};try{const t=Ov.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[zd]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=sP(e),r=Ov.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[zd]={state:"partial",partialPath:n},r}catch{return}}},ph={toResponse(e,t){return new Response(ph.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return ph.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},bS=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},oP=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=bS(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class Lv{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const _S=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Lv(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Lv(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),Dv=()=>{let e;return[_S({start(n){e=n}}),e]};class Fv{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);P(this,"_mergeTask");P(this,"_argsTextController");this._controller=t;const n=_S({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const iP=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Fv(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Fv(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),aP=()=>{let e;return[iP({start(n){e=n}}),e]};class SS{constructor(){P(this,"value",-1)}up(){return++this.value}}class lP extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class k8 extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class cP extends TransformStream{constructor(t){const n=new SS,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class uP extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let dP=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const CS=dP("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class Jp{constructor(t){P(this,"_state");P(this,"_parentId");this._state=t||{merger:oP(),contentCounter:new SS}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new lP(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new cP(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=Dv();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=Dv();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??CS(),[o,i]=aP();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new Jp(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function fP(e){const t=new Jp;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function hP(){const{resolve:e,promise:t}=bS();let n;return[fP(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class pP extends TransformStream{constructor(t,n,r){const[s,o]=hP();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const Ja=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,u={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,h=({image:p,...m})=>p.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:p}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"reasoning":return p.text.trim().length===0?null:p;case"file":case"source":return p;case"image":return h(p);case"data":return p;case"tool-call":{const{parentId:w,messages:y,...b}=p,g={...b,toolCallId:p.toolCallId??`tool-${Xs()}`,...w!==void 0&&{parentId:w},...y!==void 0&&{messages:y}};return p.args?{...g,args:p.args,argsText:p.argsText??JSON.stringify(p.args)}:{...g,args:wS(p.argsText??"")??{},argsText:p.argsText??""}}default:{const w=m;throw new Error(`Unsupported assistant message part type: ${w}`)}}}).filter(p=>!!p),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"image":case"audio":case"file":return p;default:{const w=m;throw new Error(`Unsupported user message part type: ${w}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const p=r;throw new Error(`Unknown message role: ${p}`)}}},Zp={fromArray:e=>{const t=e.map(n=>Ja(n,Xs(),yS(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},oc=e=>e.next?oc(e.next):"current"in e?e:null;class mP{constructor(t){P(this,"func");P(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class kS{constructor(){P(this,"messages",new Map);P(this,"head",null);P(this,"root",{children:[],next:null});P(this,"_messages",new mP(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(oc(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=XI();while(this.messages.has(r));return this.addOrUpdateMessage(t,Ja(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=oc(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=oc(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Ru{constructor(){P(this,"_subscriptions",new Set);P(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const Dn=Symbol("skip-update");class em extends Ru{constructor(n){super();P(this,"binding");P(this,"_previousStateDirty",!0);P(this,"_previousState");P(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==Dn&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class Rl{constructor(t,n){P(this,"_core");P(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function gP(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class In extends Ru{constructor(n){super();P(this,"binding");P(this,"_previousState");P(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===Dn)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===Dn||gP(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const Hc=Symbol("innerMessage"),Vc=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class ES{constructor(t){P(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class TS extends ES{constructor(n,r){super(n);P(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class yP extends TS{get source(){return"thread-composer"}}class vP extends TS{get source(){return"edit-composer"}}class xP extends ES{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class NS extends Ru{constructor(n){super();P(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const RS=Object.freeze([]),IS=Object.freeze({}),wP=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??RS,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??IS,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),bP=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??RS,runConfig:(e==null?void 0:e.runConfig)??IS,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class PS{constructor(t){P(this,"_core");P(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new NS({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class _P extends PS{constructor(n){const r=new em({path:n.path,getState:()=>wP(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});P(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new yP(new In({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:Dn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class SP extends PS{constructor(n,r){const s=new em({path:n.path,getState:()=>bP(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});P(this,"_beginEdit");P(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new vP(new In({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:Dn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class ua{constructor(t=null){P(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>ua.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return ua.updatePath(t,n.path,()=>n.value);case"append-text":return ua.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const CP=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),Iu=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},kP=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},EP=(e,t)=>Iu(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),TP=(e,t)=>Iu(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),NP=(e,t)=>Iu(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=wS(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),RP=(e,t)=>Iu(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),Bv=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=IP(t);return{...e,status:n}},IP=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},PP=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),AP=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),jP=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),MP=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:CS(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},OP=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),LP=(e,t)=>{const n=new ua(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},DP=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class FP extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??CP(),o;const i=n?DP(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=kP(s,a);break;case"tool-call-args-text-finish":s=EP(s,a);break;case"part-finish":s=TP(s,a);break;case"text-delta":s=NP(s,a);break;case"result":s=RP(s,a);break;case"message-finish":s=Bv(s,a);break;case"annotations":s=PP(s,a);break;case"data":s=AP(s,a);break;case"step-start":s=jP(s,a);break;case"step-finish":s=MP(s,a);break;case"error":s=OP(s,a),r==null||r(a.error);break;case"update-state":s=LP(s,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}i()},flush(a){var l,u;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((u=s.parts)==null?void 0:u.some(h=>h.type==="tool-call"&&(h.state==="call"||h.state==="partial-call")&&h.result===void 0))??!1;s=Bv(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class BP extends uP{constructor(){super(t=>{const n=new pP({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class da{constructor(t){P(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new da(t.pipeThrough(new FP))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new da(t),new da(n)]}}const zv=Symbol.for("aui.tool-response");class Wc{constructor(t){P(this,"artifact");P(this,"result");P(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[zv](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&zv in t}static toResponse(t){return t instanceof Wc?t:new Wc({result:t===void 0?"<no result>":t})}}class $v{constructor(t,n,r){P(this,"contentBinding");P(this,"messageApi");P(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=Wc.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class Kc extends Ru{constructor(n){super();P(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Il=Object.freeze({type:"complete"}),zP=(e,t,n)=>{if(e.role!=="assistant")return Il;if(n.type==="tool-call")return n.result?Il:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?Il:r?e.status:Il},Uv=(e,t)=>{const n=e.content[t];if(!n)return Dn;const r=zP(e,t,n);return Object.freeze({...n,[Hc]:n[Hc],status:r})};class $P{constructor(t,n){P(this,"_core");P(this,"_threadBinding");P(this,"composer");P(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new SP(new Kc({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return Vc(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new $v(new In({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>Uv(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new $v(new In({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?Dn:Uv(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new xP(new In({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:Dn},subscribe:n=>this._core.subscribe(n)}))}}const UP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),HP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),VP=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},WP=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class AS{constructor(t,n){P(this,"_threadBinding");P(this,"composer");P(this,"_eventSubscriptionSubjects",new Map);const r=new In({path:t.path,getState:()=>WP(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new _P(new Kc({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(VP(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(HP(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(UP(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new $P(new In({path:t,getState:()=>{var h;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return Dn;const u=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[Hc]:r[Hc],index:o,isLast:((h=i.at(-1))==null?void 0:h.id)===r.id,parentId:s,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new NS({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const KP=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),Pl=(e,t)=>{if(t===void 0)return Dn;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:Dn};class jS{constructor(t,n=AS){P(this,"_core");P(this,"_runtimeFactory");P(this,"_getState");P(this,"_mainThreadListItemRuntime");P(this,"main");this._core=t,this._runtimeFactory=n;const r=new em({path:{},getState:()=>KP(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new Rl(new In({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>Pl(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new Kc({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new Kc({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new Rl(new In({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>Pl(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new Rl(new In({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>Pl(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new Rl(new In({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>Pl(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const qP=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class GP{constructor(t){P(this,"cloud");P(this,"accept","*");P(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=qP(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const mh=f.createContext(null),MS=({adapters:e,children:t})=>{const n=f.useContext(mh);return c.jsx(mh.Provider,{value:{...n,...e},children:t})},YP=()=>f.useContext(mh);class XP extends mS{constructor(n,r,{parentId:s,message:o}){super();P(this,"runtime");P(this,"endEditCallback");P(this,"_nonTextParts");P(this,"_previousText");P(this,"_parentId");P(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=Vc(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){Vc(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class QP{constructor(t){P(this,"_contextProvider");P(this,"_subscriptions",new Set);P(this,"_isInitialized",!1);P(this,"repository",new kS);P(this,"composer",new gS(this));P(this,"_editComposers",new Map);P(this,"_stopSpeaking");P(this,"speech");P(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new XP(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(Vc(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(Zp.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class JP{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const Hv=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class $d extends Error{constructor(n,r){super(r);P(this,"name","AbortError");P(this,"detach");this.detach=n}}class ZP extends QP{constructor(n,r){super(n);P(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});P(this,"abortController",null);P(this,"isDisabled",!1);P(this,"_isLoading",!1);P(this,"_suggestions",[]);P(this,"_suggestionsController",null);P(this,"_options");P(this,"_lastRunConfig",{});P(this,"_getThreadId");P(this,"_getInitializePromise");P(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,d,h;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((h=n.adapters)==null?void 0:h.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=Ja(n,Xs(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,u,d;this.ensureInitialized();let i={id:Xs(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(Hv(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=i.status)==null?void 0:u.type)!=="requires-action"){const h=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in h)for await(const p of h){if(a.aborted)break;this._suggestions=p,this._notifySubscribers()}else{const p=await h;if(a.aborted)return;this._suggestions=p,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var y,b,g,v,x,C,R,k,N;const i=n?this.repository.getMessages(n):[];(y=this.abortController)==null||y.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(g=r.metadata)==null?void 0:g.unstable_data,d=(v=r.metadata)==null?void 0:v.steps,h=(x=r.metadata)==null?void 0:x.custom,p=I=>{var q,K,Q,j;const M=(q=I.metadata)==null?void 0:q.steps,A=M?[...d??[],...M]:void 0,L=(K=I.metadata)==null?void 0:K.unstable_annotations,E=(Q=I.metadata)==null?void 0:Q.unstable_data,W=L?[...l??[],...L]:void 0,U=E?[...u??[],...E]:void 0;r={...r,...I.content?{content:[...a,...I.content??[]]}:void 0,status:I.status??r.status,...I.metadata?{metadata:{...r.metadata,...I.metadata.unstable_state?{unstable_state:I.metadata.unstable_state}:void 0,...W?{unstable_annotations:W}:void 0,...U?{unstable_data:U}:void 0,...A?{steps:A}:void 0,...(j=I.metadata)!=null&&j.custom?{custom:{...h??{},...I.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((R=(C=r.metadata)==null?void 0:C.steps)==null?void 0:R.length)??0)>=m)return p({status:{type:"incomplete",reason:"tool-calls"}}),r;p({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const I=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const M=this.abortController.signal,A=(k=this._getThreadId)==null?void 0:k.call(this),L=o({messages:i,runConfig:this._lastRunConfig,abortSignal:M,context:I,config:I,unstable_assistantMessageId:r.id,unstable_threadId:A,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in L)for await(const E of L){if(M.aborted){p({status:{type:"incomplete",reason:"cancelled"}});break}p(E)}else p(await L);r.status.type==="running"&&p({status:{type:"complete",reason:"unknown"}})}catch(I){if(I instanceof $d)p({status:{type:"incomplete",reason:"cancelled"}});else if(I instanceof Error&&I.name==="AbortError")p({status:{type:"incomplete",reason:"cancelled"}});else throw p({status:{type:"incomplete",reason:"error",error:I instanceof Error?I.message:`[${typeof I}] ${new String(I).toString()}`}}),I}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((N=this._options.adapters.history)==null?void 0:N.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new $d(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new $d(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,h=!1;const p=u.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(h=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!h)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:p},this.repository.addOrUpdateMessage(l,u),d&&Hv(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const Vv=Object.freeze([]),gh="__DEFAULT_ID__",eA=Object.freeze({[gh]:{id:gh,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class tA extends Qa{constructor(n){super();P(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw Vv}get archivedThreadIds(){throw Vv}get mainThreadId(){return gh}get threadItems(){return eA}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class nA extends Xp{constructor(n,r){super();P(this,"threads");P(this,"Provider");P(this,"_options");this._options=n,this.threads=new tA(()=>new ZP(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(Zp.fromArray(r))}}const Wv=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var Ua;class OS{constructor(t){P(this,"strategy","jwt");P(this,"cachedToken",null);P(this,"tokenExpiry",null);Ai(this,Ua);ji(this,Ua,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await Pi(this,Ua).call(this);return n?(this.cachedToken=n,this.tokenExpiry=Wv(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=Wv(s)}}Ua=new WeakMap;var Ha,Va,Wa;class rA{constructor(t,n,r){P(this,"strategy","api-key");Ai(this,Ha);Ai(this,Va);Ai(this,Wa);ji(this,Ha,t),ji(this,Va,n),ji(this,Wa,r)}async getAuthHeaders(){return{Authorization:`Bearer ${Pi(this,Ha)}`,"Aui-User-Id":Pi(this,Va),"Aui-Workspace-Id":Pi(this,Wa)}}readAuthHeaders(){}}Ha=new WeakMap,Va=new WeakMap,Wa=new WeakMap;const Al="aui:refresh_token";class sA{constructor(t){P(this,"strategy","anon");P(this,"baseUrl");P(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new OS(async()=>{const n=Date.now(),r=localStorage.getItem(Al),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const h=await d.json(),{access_token:p,refresh_token:m}=h;return m&&localStorage.setItem(Al,JSON.stringify(m)),p}}else localStorage.removeItem(Al);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(Al,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class oA extends Error{constructor(t){super(t),this.name="APIError"}}class iA{constructor(t){P(this,"_auth");P(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new OS(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new rA(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new sA(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?o.set(l,"true"):o.set(l,u.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new oA(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class aA{constructor(t){P(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class lA{constructor(t){P(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return ph.fromResponse(n,new BP)}}class cA{constructor(t){P(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class uA{constructor(t){P(this,"cloud");P(this,"messages");this.cloud=t,this.messages=new cA(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class dA{constructor(t){P(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class fA{constructor(t){P(this,"threads");P(this,"auth");P(this,"runs");P(this,"files");const n=new iA(t);this.threads=new uA(n),this.auth={tokens:new aA(n)},this.runs=new lA(n),this.files=new dA(n)}}function yh(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>yh(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&yh(r,t+1)):!1}const hA=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return yh(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},pA=e=>{const t=e.content,n=Ja({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Ud=new WeakMap;class mA{constructor(t,n){P(this,"parent");P(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class gA{constructor(t,n){P(this,"cloudRef");P(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Ud.has(this.aui.threadListItem())||Ud.set(this.aui.threadListItem(),{}),Ud.get(this.aui.threadListItem())}withFormat(t){return new mA(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:hA(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(pA).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const yA=e=>{const t=ve(),[n]=f.useState(()=>new gA(e,t));return n};var jw;const Kv=typeof process<"u"&&((jw=process==null?void 0:process.env)==null?void 0:jw.NEXT_PUBLIC_ASSISTANT_BASE_URL),Hd=Kv?new fA({baseUrl:Kv,anonymous:!0}):void 0,vA=e=>{const t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);const n=f.useCallback(function({children:o}){const i=yA({get current(){return t.current.cloud??Hd}}),a=t.current.cloud??Hd,l=f.useMemo(()=>new GP(a),[a]),u=f.useMemo(()=>({history:i,attachments:l}),[i,l]);return c.jsx(MS,{adapters:u,children:o})},[]),r=e.cloud??Hd;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new JP},xA=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=YP()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=f.useState(()=>new nA(o,t)),a=f.useRef(void 0);return a.current=se(({threadListItem:l})=>l.remoteId),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),f.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),f.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),f.useMemo(()=>new tm(i),[i])},wA=(e,{cloud:t,...n}={})=>{const r=vA({cloud:t});return lj({runtimeHook:function(){return xA(e,n)},adapter:r,allowNesting:!0})};class tm{constructor(t){P(this,"_core");P(this,"threads");P(this,"_thread");this._core=t,this.threads=new jS(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(Zp.fromArray(t??[]))}}function Ye(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const qv=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,s,a);return a},bA=e=>e?qv(e):qv,_A=e=>e;function SA(e,t=_A){const n=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(n),n}const Gv=e=>{const t=bA(e),n=r=>SA(t,r);return Object.assign(n,t),n},ii=e=>e?Gv(e):Gv;function LS(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const DS=f.createContext(null),CA=e=>({useSmoothStatus:ii(()=>e)}),kA=({children:e})=>{const t=FS({optional:!0}),n=ve(),[r]=f.useState(()=>CA(n.part().getState().status));return t?e:c.jsx(DS.Provider,{value:r,children:e})},EA=e=>{const t=f.forwardRef((n,r)=>c.jsx(kA,{children:c.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function FS(e){const t=f.useContext(DS);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:TA,useSmoothStatusStore:NA}=LS(FS,"useSmoothStatus"),La=e=>e;class RA{constructor(t,n){P(this,"currentText");P(this,"setText");P(this,"animationFrameId",null);P(this,"lastUpdateTime",Date.now());P(this,"targetText","");P(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const Vd=Object.freeze({type:"running"}),BS=(e,t=!1)=>{const{text:n}=e,r=se(({message:d})=>d.id),s=f.useRef(r),[o,i]=f.useState(n),a=NA({optional:!0}),l=Ye(d=>{if(i(d),a){const h=o!==d||e.status.type==="running"?Vd:e.status;La(a).setState(h,!0)}});f.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?Vd:e.status;La(a).setState(d,!0)}},[a,t,n,o,e.status]);const[u]=f.useState(new RA(n,l));return f.useEffect(()=>{if(!t){u.stop();return}if(s.current!==r||!n.startsWith(u.targetText)){s.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),f.useEffect(()=>()=>{u.stop()},[u]),f.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:Vd}:e,[t,o,e,n])},nm=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:tm,BaseAssistantRuntimeCore:Xp,CompositeContextProvider:Yp,DefaultThreadComposerRuntimeCore:gS,MessageRepository:kS,ThreadRuntimeImpl:AS,fromThreadMessageLike:Ja,generateId:Xs,getAutoStatus:yS,useSmooth:BS,useSmoothStatus:TA,withSmoothContextProvider:EA},Symbol.toStringTag,{value:"Module"})),so=e=>{const[,t]=Ln(e.getState);return gt(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},zS=Me(({runtime:e})=>{const t=so(e),n=Gp();return gt(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),$S=Me(({runtime:e})=>{const t=so(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),IA=Me(({runtime:e,index:t})=>{const n=ke(()=>e.getAttachmentByIndex(t),[e,t]);return ar($S({runtime:n}))}),US=Me(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=so(n),s=Gp();gt(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const d=n.unstable_on(u,()=>{s(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const u of a)u()}},[n,s,e,t]);const o=oi(()=>r.attachments.map((a,l)=>Pr(a.id,IA({runtime:n,index:l}))),[r.attachments,n]),i=ke(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),PA=Me(({runtime:e})=>{const t=so(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),AA=Me(({runtime:e,index:t})=>{const n=ke(()=>e.getAttachmentByIndex(t),[e,t]);return ar($S({runtime:n}))}),jA=Me(({runtime:e,index:t})=>{const n=ke(()=>e.getMessagePartByIndex(t),[e,t]);return ar(PA({runtime:n}))}),MA=Me(({runtime:e,threadIdRef:t})=>{const n=so(e),[r,s]=Ln(!1),[o,i]=Ln(!1),a=ke(()=>({get current(){return e.getState().id}}),[e]),l=Eu(US({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=oi(()=>n.content.map((p,m)=>Pr("toolCallId"in p&&p.toolCallId!=null?`toolCallId-${p.toolCallId}`:`index-${m}`,jA({runtime:e,index:m}))),[n.content,e]),d=oi(()=>(n.attachments??[]).map((p,m)=>Pr(p.id,AA({runtime:e,index:m}))),[n.attachments,e]),h=ke(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:o}),[n,u.state,l.state,r,o]);return{state:h,methods:{getState:()=>h,composer:l.methods,reload:p=>e.reload(p),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:p=>e.submitFeedback(p),switchToBranch:p=>e.switchToBranch(p),getCopyText:()=>e.unstable_getCopyText(),part:p=>"index"in p?u.get({index:p.index}):u.get({key:`toolCallId-${p.toolCallId}`}),attachment:p=>"id"in p?d.get({key:p.id}):d.get(p),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),OA=Me(({runtime:e,id:t,threadIdRef:n})=>{const r=ke(()=>e.getMessageById(t),[e,t]);return ar(MA({runtime:r,threadIdRef:n}))}),LA=Me(({runtime:e})=>{const t=so(e),n=Gp();gt(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const d=e.unstable_on(u,()=>{var p;const h=((p=e.getState())==null?void 0:p.threadId)||"unknown";n(`thread.${u}`,{threadId:h})});a.push(d)}return()=>{for(const u of a)u()}},[e,n]);const r=ke(()=>({get current(){return e.getState().threadId}}),[e]),s=Eu(US({runtime:e.composer,threadIdRef:r})),o=oi(()=>t.messages.map(a=>Pr(a.id,OA({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=ke(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),DA=Me(({runtime:e,id:t})=>{const n=ke(()=>e.getItemById(t),[e,t]);return ar(zS({runtime:n}))}),FA=Me(({runtime:e,__internal_assistantRuntime:t})=>{const n=so(e),r=Eu(LA({runtime:e.main})),s=oi(()=>Object.keys(n.threadItems).map(i=>Pr(i,DA({runtime:e,id:i}))),[n.threadItems,e]),o=ke(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,u=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:u})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),BA=1,HS=Me(()=>{const[e]=Ln(()=>({version:BA+1})),t=ke(()=>new Yp,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function Yv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pu(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Yv(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Yv(e[s],null)}}}}function xe(...e){return f.useCallback(Pu(...e),e)}const VS=Me(({toolkit:e})=>{const[t,n]=Ln(()=>({tools:{}})),r=hS(),s=X_((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(u=>u!==i))??[]}}})}),[]);return gt(()=>{if(!e)return;const o=[];for(const[l,u]of Object.entries(e))u.render&&o.push(s(l,u.render));const i=Object.entries(e).reduce((l,[u,d])=>{const{render:h,...p}=d;return l[u]=p,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});cS(VS,{modelContext:HS()});const zA=Me(e=>({state:e,methods:{getState:()=>e}})),$A=Me(e=>{const[t]=Ln(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=oi(()=>t.suggestions.map((r,s)=>Pr(s,zA(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),UA=$A,WS=Me(e=>{const t=hS();return gt(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),ar(FA({runtime:e.threads,__internal_assistantRuntime:e}))});cS(WS,{modelContext:HS(),tools:VS({}),suggestions:UA(),threadListItem:jn({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:jn({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:jn({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const Wd=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},HA=(e={})=>{const t=new Set,n=Wd(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=Wd(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=Wd(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=ii(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function VA(e,t){function n(r){const s=f.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const KS=f.createContext(null),WA=VA(KS,"ThreadPrimitive.Viewport"),{useThreadViewport:Da,useThreadViewportStore:Au}=LS(WA,"useThreadViewport"),KA=e=>{const t=Au({optional:!0}),[n]=f.useState(()=>HA(e));return f.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),f.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&La(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),f.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&La(n).setState(r)},[n,e.turnAnchor]),n},qS=({children:e,options:t={}})=>{const n=KA(t),[r]=f.useState(()=>({useThreadViewport:n}));return c.jsx(KS.Provider,{value:r,children:e})},qA=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},GA=({children:e,aui:t=null,runtime:n})=>{const r=ve({threads:WS(n)},{parent:t});f.useEffect(()=>{},[r]);const s=qA(n);return c.jsxs(Cs,{value:r,children:[s&&c.jsx(s,{}),c.jsx(qS,{children:e})]})},GS=f.memo(GA),YA=({runtime:e,children:t})=>{const n=ve({threadListItem:zS({runtime:e})});return c.jsx(Cs,{value:n,children:t})},XA=({index:e,children:t})=>{const n=ve({message:jn({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:jn({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return c.jsx(Cs,{value:n,children:t})},QA=({index:e,children:t})=>{const n=ve({part:jn({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return c.jsx(Cs,{value:n,children:t})},JA=({index:e,children:t})=>{const n=ve({attachment:jn({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return c.jsx(Cs,{value:n,children:t})},ZA=({index:e,children:t})=>{const n=ve({attachment:jn({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return c.jsx(Cs,{value:n,children:t})},ej=Me(({text:e,isRunning:t})=>{const n=ke(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),tj=({text:e,isRunning:t=!1,children:n})=>{const r=ve({part:ej({text:e,isRunning:t})});return c.jsx(Cs,{value:r,children:n})};class nj extends Qa{constructor(n,r){super();P(this,"useRuntimeHook");P(this,"instances",new Map);P(this,"useAliveThreadsKeysChanged",ii(()=>({})));P(this,"parent");P(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=f.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=f.useRef(!1);a.current||i(),f.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=ve(),u=f.useRef(void 0);return f.useEffect(()=>{const d=o.getState(),h=d.__internal_setGetInitializePromise;typeof h=="function"&&h.call(d,()=>u.current)},[o]),f.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const h=s.thread.unstable_on("runEnd",()=>{h(),l.threadListItem().generateTitle()})}}),[s,l]),null});P(this,"_OuterActiveThreadProvider",f.memo(({threadId:n,provider:r})=>{const s=f.useMemo(()=>new jS(this.parent).getItemById(n),[n]);return c.jsx(YA,{runtime:s,children:c.jsx(r,{children:c.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));P(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>c.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=ii(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const He=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),rj={getMessageById(){},getBranches(){return[]},switchToBranch(){throw He},append(){throw He},startRun(){throw He},resumeRun(){throw He},cancelRun(){throw He},addToolResult(){throw He},resumeToolCall(){throw He},speak(){throw He},stopSpeaking(){throw He},submitFeedback(){throw He},getModelContext(){return{}},exportExternalState(){throw He},importExternalState(){throw He},unstable_loadExternalState(){throw He},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw He},async removeAttachment(){throw He},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw He},role:"user",setRole(){throw He},runConfig:{},setRunConfig(){throw He},async reset(){},async clearAttachments(){},send(){throw He},cancel(){},dictation:void 0,startDictation(){throw He},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw He},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw He},export(){return{messages:[]}},reset(){throw He},unstable_on(){return()=>{}}},Xv=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class sj extends Qa{constructor(n){super();P(this,"_pendingTransforms",[]);P(this,"_baseValue");P(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>Xv(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=Xv(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const ic=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},jl=(e,t,n)=>{const r=ic(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class oj extends Qa{constructor(n,r){super();P(this,"contextProvider");P(this,"_options");P(this,"_hookManager");P(this,"_loadThreadsPromise");P(this,"_mainThreadId");P(this,"_state",new sj({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));P(this,"useProvider");P(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>jl(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=ic(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});P(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=da.fromAssistantStream(a);for await(const d of l){const h=(u=d.parts.filter(m=>m.type==="text")[0])==null?void 0:u.text,p=this._state.baseValue;this._state.update({...p,threadData:{...p.threadData,[r.id]:{...r,title:h}}})}});P(this,"useBoundIds",ii(()=>[]));P(this,"__internal_RenderComponent",()=>{const n=f.useId();f.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&c.jsx(MS,{adapters:o,children:c.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new nj(n.runtimeHook,this),this.useProvider=ii(()=>({Provider:n.adapter.unstable_Provider??f.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const u=l.remoteId;i[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??f.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||rj}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return ic(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},u={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,h=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:h,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${Xs()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=ic(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>jl(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>jl(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>jl(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class ij extends Xp{constructor(n){super();P(this,"threads");this.threads=new oj(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const aj=e=>{const[t]=f.useState(()=>new ij(e));return f.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),f.useMemo(()=>new tm(t),[t])},lj=e=>{if(ve().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return aj(e)},cj=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function uj(e,t=dj){cj(e);const n=f.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return f.useDebugValue(n),n}const dj=e=>e;function rm(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?uj(o,s):null}return t}function fj(e){var r,s;return((s=(r=ve().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function hj(e){const t=ve(),n=se(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const qc=rm(hj);function pj(e){const t=ve(),n=se(()=>{var r,s;return t.message.source?((s=(r=t.message()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("MessageRuntime is not available");return n}const YS=rm(pj);function mj(e){const t=ve(),n=se(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const zn=rm(mj);var gj=Symbol.for("react.lazy"),Gc=Jh[" use ".trim().toString()];function yj(e){return typeof e=="object"&&e!==null&&"then"in e}function XS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===gj&&"_payload"in e&&yj(e._payload)}function QS(e){const t=vj(e),n=f.forwardRef((r,s)=>{let{children:o,...i}=r;XS(o)&&typeof Gc=="function"&&(o=Gc(o._payload));const a=f.Children.toArray(o),l=a.find(wj);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var JS=QS("Slot");function vj(e){const t=f.forwardRef((n,r)=>{let{children:s,...o}=n;if(XS(s)&&typeof Gc=="function"&&(s=Gc(s._payload)),f.isValidElement(s)){const i=_j(s),a=bj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?Pu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xj=Symbol("radix.slottable");function wj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xj}function bj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function _j(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Sj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cn=Sj.reduce((e,t)=>{const n=QS(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_r;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(_r||(_r={}));const Cj=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>se(({thread:r,message:s})=>e&&r.isRunning?_r.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?_r.Floating:_r.Normal:_r.Hidden:_r.Normal),sm=f.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=Cj({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===_r.Hidden?null:c.jsx(cn.div,{...o===_r.Floating?{"data-floating":"true"}:null,...r,ref:s})});sm.displayName="ActionBarPrimitive.Root";function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const kj=({copiedDuration:e=3e3}={})=>{const t=ve(),n=se(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=se(({composer:i})=>i.isEditing),s=se(({composer:i})=>i.text),o=f.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},ZS=f.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=se(({message:a})=>a.isCopied),i=kj({copiedDuration:e});return c.jsx(cn.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:Z(t,()=>{i==null||i()})})});ZS.displayName="ActionBarPrimitive.Copy";const $n=(e,t,n=[])=>{const r=f.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(u=>{n.includes(u)?i[u]=s[u]:a[u]=s[u]});const l=t(i)??void 0;return c.jsx(cn.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:Z(a.onClick,l)})});return r.displayName=e,r},Ej=()=>{const e=ve(),t=se(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=f.useCallback(()=>{e.message().reload()},[e]);return t?null:n},Tj=$n("ActionBarPrimitive.Reload",Ej),Nj=()=>{const e=ve(),t=se(({composer:r})=>r.isEditing),n=f.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},Rj=$n("ActionBarPrimitive.Edit",Nj),Ij=()=>{const e=ve(),t=f.useCallback(async()=>{e.message().speak()},[e]);return se(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},Pj=$n("ActionBarPrimitive.Speak",Ij);function om(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const Aj=()=>{const e=ve(),t=se(({message:r})=>r.speech!=null),n=f.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},eC=f.forwardRef((e,t)=>{const n=Aj();return om(r=>{n&&(r.preventDefault(),n())}),c.jsx(cn.button,{type:"button",disabled:!n,...e,ref:t,onClick:Z(e.onClick,()=>{n==null||n()})})});eC.displayName="ActionBarPrimitive.StopSpeaking";const jj=()=>{const e=ve();return f.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},tC=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=se(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=jj();return c.jsx(cn.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:Z(e,()=>{o==null||o()})})});tC.displayName="ActionBarPrimitive.FeedbackPositive";const Mj=()=>{const e=ve();return f.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},nC=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=se(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=Mj();return c.jsx(cn.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:Z(e,()=>{o==null||o()})})});nC.displayName="ActionBarPrimitive.FeedbackNegative";function Oj(e,t){const n=f.createContext(t),r=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function lr(e,t=[]){let n=[];function r(o,i){const a=f.createContext(i),l=n.length;n=[...n,i];const u=h=>{var g;const{scope:p,children:m,...w}=h,y=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=f.useMemo(()=>w,Object.values(w));return c.jsx(y.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,w=f.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,Lj(s,...t)]}function Lj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var rt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Dj=Jh[" useInsertionEffect ".trim().toString()]||rt;function Qs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Fj({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=f.useCallback(d=>{var h;if(a){const p=Bj(d)?d(e):d;p!==e&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,e,o,i]);return[l,u]}function Fj({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return Dj(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Bj(e){return typeof e=="function"}function ai(e){const t=zj(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,a=f.Children.toArray(o),l=a.find(Uj);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var ks=ai("Slot");function zj(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=Vj(s),a=Hj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?Pu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rC=Symbol("radix.slottable");function $j(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=rC,t}function Uj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rC}function Hj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Vj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=Wj.reduce((e,t)=>{const n=ai(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sC(e,t){e&&gi.flushSync(()=>e.dispatchEvent(t))}function oC(e){const t=e+"CollectionProvider",[n,r]=lr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:g}=y,v=Se.useRef(null),x=Se.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:v,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=ai(a),u=Se.forwardRef((y,b)=>{const{scope:g,children:v}=y,x=o(a,g),C=xe(b,x.collectionRef);return c.jsx(l,{ref:C,children:v})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=ai(d),m=Se.forwardRef((y,b)=>{const{scope:g,children:v,...x}=y,C=Se.useRef(null),R=xe(b,C),k=o(d,g);return Se.useEffect(()=>(k.itemMap.set(C,{ref:C,...x}),()=>void k.itemMap.delete(C))),c.jsx(p,{[h]:"",ref:R,children:v})});m.displayName=d;function w(y){const b=o(e+"CollectionConsumer",y);return Se.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((k,N)=>x.indexOf(k.ref.current)-x.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,r]}var iC=f.createContext(void 0),Kj=e=>{const{dir:t,children:n}=e;return c.jsx(iC.Provider,{value:t,children:n})};function ju(e){const t=f.useContext(iC);return e||t||"ltr"}var qj=Kj,Gj="DismissableLayer",vh="dismissableLayer.update",Yj="dismissableLayer.pointerDownOutside",Xj="dismissableLayer.focusOutside",Qv,aC=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mu=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=f.useContext(aC),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),w=xe(t,N=>h(N)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),v=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,C=v>=g,R=Zj(N=>{const I=N.target,M=[...u.branches].some(A=>A.contains(I));!C||M||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},p),k=e2(N=>{const I=N.target;[...u.branches].some(A=>A.contains(I))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},p);return om(N=>{v===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Jv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Qv)}},[d,p,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Jv())},[d,u]),f.useEffect(()=>{const N=()=>m({});return document.addEventListener(vh,N),()=>document.removeEventListener(vh,N)},[]),c.jsx(ce.div,{...l,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,R.onPointerDownCapture)})});Mu.displayName=Gj;var Qj="DismissableLayerBranch",Jj=f.forwardRef((e,t)=>{const n=f.useContext(aC),r=f.useRef(null),s=xe(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(ce.div,{...e,ref:s})});Jj.displayName=Qj;function Zj(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){lC(Yj,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function e2(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&lC(Xj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jv(){const e=new CustomEvent(vh);document.dispatchEvent(e)}function lC(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sC(s,o):s.dispatchEvent(o)}var Kd=0;function cC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zv()),document.body.insertAdjacentElement("beforeend",e[1]??Zv()),Kd++,()=>{Kd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kd--}},[])}function Zv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qd="focusScope.autoFocusOnMount",Gd="focusScope.autoFocusOnUnmount",ex={bubbles:!1,cancelable:!0},t2="FocusScope",im=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=f.useState(null),u=Ye(s),d=Ye(o),h=f.useRef(null),p=xe(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const C=x.target;a.contains(C)?h.current=C:Yr(h.current,{select:!0})},b=function(x){if(m.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||Yr(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const R of x)R.removedNodes.length>0&&Yr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){nx.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(qd,ex);a.addEventListener(qd,u),a.dispatchEvent(g),g.defaultPrevented||(n2(a2(uC(a)),{select:!0}),document.activeElement===y&&Yr(a))}return()=>{a.removeEventListener(qd,u),setTimeout(()=>{const g=new CustomEvent(Gd,ex);a.addEventListener(Gd,d),a.dispatchEvent(g),g.defaultPrevented||Yr(y??document.body,{select:!0}),a.removeEventListener(Gd,d),nx.remove(m)},0)}}},[a,u,d,m]);const w=f.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const v=y.currentTarget,[x,C]=r2(v);x&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&Yr(x,{select:!0})):y.shiftKey&&g===x&&(y.preventDefault(),n&&Yr(C,{select:!0})):g===v&&y.preventDefault()}},[n,r,m.paused]);return c.jsx(ce.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});im.displayName=t2;function n2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yr(r,{select:t}),document.activeElement!==n)return}function r2(e){const t=uC(e),n=tx(t,e),r=tx(t.reverse(),e);return[n,r]}function uC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tx(e,t){for(const n of e)if(!s2(n,{upTo:t}))return n}function s2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function o2(e){return e instanceof HTMLInputElement&&"select"in e}function Yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&o2(e)&&t&&e.select()}}var nx=i2();function i2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rx(e,t),e.unshift(t)},remove(t){var n;e=rx(e,t),(n=e[0])==null||n.resume()}}}function rx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function a2(e){return e.filter(t=>t.tagName!=="A")}var l2=Jh[" useId ".trim().toString()]||(()=>{}),c2=0;function Er(e){const[t,n]=f.useState(l2());return rt(()=>{n(r=>r??String(c2++))},[e]),e||(t?`radix-${t}`:"")}const u2=["top","right","bottom","left"],xs=Math.min,en=Math.max,Yc=Math.round,Ml=Math.floor,sr=e=>({x:e,y:e}),d2={left:"right",right:"left",bottom:"top",top:"bottom"},f2={start:"end",end:"start"};function xh(e,t,n){return en(e,xs(t,n))}function Ar(e,t){return typeof e=="function"?e(t):e}function jr(e){return e.split("-")[0]}function vi(e){return e.split("-")[1]}function am(e){return e==="x"?"y":"x"}function lm(e){return e==="y"?"height":"width"}const h2=new Set(["top","bottom"]);function tr(e){return h2.has(jr(e))?"y":"x"}function cm(e){return am(tr(e))}function p2(e,t,n){n===void 0&&(n=!1);const r=vi(e),s=cm(e),o=lm(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Xc(i)),[i,Xc(i)]}function m2(e){const t=Xc(e);return[wh(e),t,wh(t)]}function wh(e){return e.replace(/start|end/g,t=>f2[t])}const sx=["left","right"],ox=["right","left"],g2=["top","bottom"],y2=["bottom","top"];function v2(e,t,n){switch(e){case"top":case"bottom":return n?t?ox:sx:t?sx:ox;case"left":case"right":return t?g2:y2;default:return[]}}function x2(e,t,n,r){const s=vi(e);let o=v2(jr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(wh)))),o}function Xc(e){return e.replace(/left|right|bottom|top/g,t=>d2[t])}function w2(e){return{top:0,right:0,bottom:0,left:0,...e}}function dC(e){return typeof e!="number"?w2(e):{top:e,right:e,bottom:e,left:e}}function Qc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ix(e,t,n){let{reference:r,floating:s}=e;const o=tr(t),i=cm(t),a=lm(i),l=jr(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(vi(t)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}async function b2(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Ar(t,e),w=dC(m),b=a[p?h==="floating"?"reference":"floating":h],g=Qc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},R=Qc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-R.top+w.top)/C.y,bottom:(R.bottom-g.bottom+w.bottom)/C.y,left:(g.left-R.left+w.left)/C.x,right:(R.right-g.right+w.right)/C.x}}const _2=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=ix(u,r,l),p=r,m={},w=0;for(let b=0;b<a.length;b++){var y;const{name:g,fn:v}=a[b],{x,y:C,data:R,reset:k}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(y=i.detectOverflow)!=null?y:b2},elements:{reference:e,floating:t}});d=x??d,h=C??h,m={...m,[g]:{...m[g],...R}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=ix(u,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}},S2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Ar(e,t)||{};if(u==null)return{};const h=dC(d),p={x:n,y:r},m=cm(s),w=lm(m),y=await i.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=o.reference[w]+o.reference[m]-p[m]-o.floating[w],R=p[m]-o.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=k?k[x]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=a.floating[x]||o.floating[w]);const I=C/2-R/2,M=N/2-y[w]/2-1,A=xs(h[g],M),L=xs(h[v],M),E=A,W=N-y[w]-L,U=N/2-y[w]/2+I,q=xh(E,U,W),K=!l.arrow&&vi(s)!=null&&U!==q&&o.reference[w]/2-(U<E?A:L)-y[w]/2<0,Q=K?U<E?U-E:U-W:0;return{[m]:p[m]+Q,data:{[m]:q,centerOffset:U-q-Q,...K&&{alignmentOffset:Q}},reset:K}}}),C2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Ar(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=jr(s),v=tr(a),x=jr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),R=p||(x||!y?[Xc(a)]:m2(a)),k=w!=="none";!p&&k&&R.push(...x2(a,y,w,C));const N=[a,...R],I=await l.detectOverflow(t,b),M=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&M.push(I[g]),h){const U=p2(s,i,C);M.push(I[U[0]],I[U[1]])}if(A=[...A,{placement:s,overflows:M}],!M.every(U=>U<=0)){var L,E;const U=(((L=o.flip)==null?void 0:L.index)||0)+1,q=N[U];if(q&&(!(h==="alignment"?v!==tr(q):!1)||A.every(j=>tr(j.placement)===v?j.overflows[0]>0:!0)))return{data:{index:U,overflows:A},reset:{placement:q}};let K=(E=A.filter(Q=>Q.overflows[0]<=0).sort((Q,j)=>Q.overflows[1]-j.overflows[1])[0])==null?void 0:E.placement;if(!K)switch(m){case"bestFit":{var W;const Q=(W=A.filter(j=>{if(k){const $=tr(j.placement);return $===v||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,S)=>$+S,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:W[0];Q&&(K=Q);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function ax(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lx(e){return u2.some(t=>e[t]>=0)}const k2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=Ar(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=ax(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lx(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=ax(i,n.floating);return{data:{escapedOffsets:a,escaped:lx(a)}}}default:return{}}}}},fC=new Set(["left","top"]);async function E2(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=jr(n),a=vi(n),l=tr(n)==="y",u=fC.has(i)?-1:1,d=o&&l?-1:1,h=Ar(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const T2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await E2(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},N2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...u}=Ar(e,t),d={x:n,y:r},h=await o.detectOverflow(t,u),p=tr(jr(s)),m=am(p);let w=d[m],y=d[p];if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=w+h[g],C=w-h[v];w=xh(x,w,C)}if(a){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=y+h[g],C=y-h[v];y=xh(x,y,C)}const b=l.fn({...t,[m]:w,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[p]:a}}}}}},R2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(e,t),d={x:n,y:r},h=tr(s),p=am(h);let m=d[p],w=d[h];const y=Ar(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=p==="y"?"height":"width",C=o.reference[p]-o.floating[x]+b.mainAxis,R=o.reference[p]+o.reference[x]-b.mainAxis;m<C?m=C:m>R&&(m=R)}if(u){var g,v;const x=p==="y"?"width":"height",C=fC.has(jr(s)),R=o.reference[h]-o.floating[x]+(C&&((g=i.offset)==null?void 0:g[h])||0)+(C?0:b.crossAxis),k=o.reference[h]+o.reference[x]+(C?0:((v=i.offset)==null?void 0:v[h])||0)-(C?b.crossAxis:0);w<R?w=R:w>k&&(w=k)}return{[p]:m,[h]:w}}}},I2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Ar(e,t),d=await i.detectOverflow(t,u),h=jr(s),p=vi(s),m=tr(s)==="y",{width:w,height:y}=o.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,b=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,x=w-d.left-d.right,C=xs(y-d[b],v),R=xs(w-d[g],x),k=!t.middlewareData.shift;let N=C,I=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=v),k&&!p){const A=en(d.left,0),L=en(d.right,0),E=en(d.top,0),W=en(d.bottom,0);m?I=w-2*(A!==0||L!==0?A+L:en(d.left,d.right)):N=y-2*(E!==0||W!==0?E+W:en(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:N});const M=await i.getDimensions(a.floating);return w!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Ou(){return typeof window<"u"}function xi(e){return hC(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cr(e){var t;return(t=(hC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hC(e){return Ou()?e instanceof Node||e instanceof sn(e).Node:!1}function Fn(e){return Ou()?e instanceof Element||e instanceof sn(e).Element:!1}function or(e){return Ou()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function cx(e){return!Ou()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}const P2=new Set(["inline","contents"]);function Za(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!P2.has(s)}const A2=new Set(["table","td","th"]);function j2(e){return A2.has(xi(e))}const M2=[":popover-open",":modal"];function Lu(e){return M2.some(t=>{try{return e.matches(t)}catch{return!1}})}const O2=["transform","translate","scale","rotate","perspective"],L2=["transform","translate","scale","rotate","perspective","filter"],D2=["paint","layout","strict","content"];function um(e){const t=dm(),n=Fn(e)?Bn(e):e;return O2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||L2.some(r=>(n.willChange||"").includes(r))||D2.some(r=>(n.contain||"").includes(r))}function F2(e){let t=ws(e);for(;or(t)&&!li(t);){if(um(t))return t;if(Lu(t))return null;t=ws(t)}return null}function dm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const B2=new Set(["html","body","#document"]);function li(e){return B2.has(xi(e))}function Bn(e){return sn(e).getComputedStyle(e)}function Du(e){return Fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ws(e){if(xi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cx(e)&&e.host||cr(e);return cx(t)?t.host:t}function pC(e){const t=ws(e);return li(t)?e.ownerDocument?e.ownerDocument.body:e.body:or(t)&&Za(t)?t:pC(t)}function Fa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=pC(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=sn(s);if(o){const a=bh(i);return t.concat(i,i.visualViewport||[],Za(s)?s:[],a&&n?Fa(a):[])}return t.concat(s,Fa(s,[],n))}function bh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mC(e){const t=Bn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=or(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Yc(n)!==o||Yc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function fm(e){return Fn(e)?e:e.contextElement}function qo(e){const t=fm(e);if(!or(t))return sr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=mC(t);let i=(o?Yc(n.width):n.width)/r,a=(o?Yc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const z2=sr(0);function gC(e){const t=sn(e);return!dm()||!t.visualViewport?z2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sn(e)?!1:t}function Js(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=fm(e);let i=sr(1);t&&(r?Fn(r)&&(i=qo(r)):i=qo(e));const a=$2(o,n,r)?gC(o):sr(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=sn(o),m=r&&Fn(r)?sn(r):r;let w=p,y=bh(w);for(;y&&r&&m!==w;){const b=qo(y),g=y.getBoundingClientRect(),v=Bn(y),x=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,C=g.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=C,w=sn(y),y=bh(w)}}return Qc({width:d,height:h,x:l,y:u})}function Fu(e,t){const n=Du(e).scrollLeft;return t?t.left+n:Js(cr(e)).left+n}function yC(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Fu(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function U2(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=cr(r),a=t?Lu(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=sr(1);const d=sr(0),h=or(r);if((h||!h&&!o)&&((xi(r)!=="body"||Za(i))&&(l=Du(r)),or(r))){const m=Js(r);u=qo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!h&&!o?yC(i,l):sr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function H2(e){return Array.from(e.getClientRects())}function V2(e){const t=cr(e),n=Du(e),r=e.ownerDocument.body,s=en(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=en(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Fu(e);const a=-n.scrollTop;return Bn(r).direction==="rtl"&&(i+=en(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const ux=25;function W2(e,t){const n=sn(e),r=cr(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=dm();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Fu(r);if(u<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=ux&&(o-=w)}else u<=ux&&(o+=u);return{width:o,height:i,x:a,y:l}}const K2=new Set(["absolute","fixed"]);function q2(e,t){const n=Js(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=or(e)?qo(e):sr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function dx(e,t,n){let r;if(t==="viewport")r=W2(e,n);else if(t==="document")r=V2(cr(e));else if(Fn(t))r=q2(t,n);else{const s=gC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Qc(r)}function vC(e,t){const n=ws(e);return n===t||!Fn(n)||li(n)?!1:Bn(n).position==="fixed"||vC(n,t)}function G2(e,t){const n=t.get(e);if(n)return n;let r=Fa(e,[],!1).filter(a=>Fn(a)&&xi(a)!=="body"),s=null;const o=Bn(e).position==="fixed";let i=o?ws(e):e;for(;Fn(i)&&!li(i);){const a=Bn(i),l=um(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&K2.has(s.position)||Za(i)&&!l&&vC(e,i))?r=r.filter(d=>d!==i):s=a,i=ws(i)}return t.set(e,r),r}function Y2(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Lu(t)?[]:G2(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const h=dx(t,d,s);return u.top=en(h.top,u.top),u.right=xs(h.right,u.right),u.bottom=xs(h.bottom,u.bottom),u.left=en(h.left,u.left),u},dx(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function X2(e){const{width:t,height:n}=mC(e);return{width:t,height:n}}function Q2(e,t,n){const r=or(t),s=cr(t),o=n==="fixed",i=Js(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=sr(0);function u(){l.x=Fu(s)}if(r||!r&&!o)if((xi(t)!=="body"||Za(s))&&(a=Du(t)),r){const m=Js(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?yC(s,a):sr(0),h=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function Yd(e){return Bn(e).position==="static"}function fx(e,t){if(!or(e)||Bn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return cr(e)===n&&(n=n.ownerDocument.body),n}function xC(e,t){const n=sn(e);if(Lu(e))return n;if(!or(e)){let s=ws(e);for(;s&&!li(s);){if(Fn(s)&&!Yd(s))return s;s=ws(s)}return n}let r=fx(e,t);for(;r&&j2(r)&&Yd(r);)r=fx(r,t);return r&&li(r)&&Yd(r)&&!um(r)?n:r||F2(e)||n}const J2=async function(e){const t=this.getOffsetParent||xC,n=this.getDimensions,r=await n(e.floating);return{reference:Q2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z2(e){return Bn(e).direction==="rtl"}const eM={convertOffsetParentRelativeRectToViewportRelativeRect:U2,getDocumentElement:cr,getClippingRect:Y2,getOffsetParent:xC,getElementRects:J2,getClientRects:H2,getDimensions:X2,getScale:qo,isElement:Fn,isRTL:Z2};function wC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tM(e,t){let n=null,r;const s=cr(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(a||t(),!p||!m)return;const w=Ml(h),y=Ml(s.clientWidth-(d+p)),b=Ml(s.clientHeight-(h+m)),g=Ml(d),x={rootMargin:-w+"px "+-y+"px "+-b+"px "+-g+"px",threshold:en(0,xs(1,l))||1};let C=!0;function R(k){const N=k[0].intersectionRatio;if(N!==l){if(!C)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!wC(u,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(R,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return i(!0),o}function nM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=fm(e),d=s||o?[...u?Fa(u):[],...Fa(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&a?tM(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let w,y=l?Js(e):null;l&&b();function b(){const g=Js(e);y&&!wC(y,g)&&n(),y=g,w=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const rM=T2,sM=N2,oM=C2,iM=I2,aM=k2,hx=S2,lM=R2,cM=(e,t,n)=>{const r=new Map,s={platform:eM,...n},o={...s.platform,_c:r};return _2(e,t,{...s,platform:o})};var uM=typeof document<"u",dM=function(){},ac=uM?f.useLayoutEffect:dM;function Jc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Jc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Jc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function bC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function px(e,t){const n=bC(e);return Math.round(t*n)/n}function Xd(e){const t=f.useRef(e);return ac(()=>{t.current=e}),t}function fM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);Jc(p,r)||m(r);const[w,y]=f.useState(null),[b,g]=f.useState(null),v=f.useCallback(j=>{j!==k.current&&(k.current=j,y(j))},[]),x=f.useCallback(j=>{j!==N.current&&(N.current=j,g(j))},[]),C=o||w,R=i||b,k=f.useRef(null),N=f.useRef(null),I=f.useRef(d),M=l!=null,A=Xd(l),L=Xd(s),E=Xd(u),W=f.useCallback(()=>{if(!k.current||!N.current)return;const j={placement:t,strategy:n,middleware:p};L.current&&(j.platform=L.current),cM(k.current,N.current,j).then($=>{const S={...$,isPositioned:E.current!==!1};U.current&&!Jc(I.current,S)&&(I.current=S,gi.flushSync(()=>{h(S)}))})},[p,t,n,L,E]);ac(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const U=f.useRef(!1);ac(()=>(U.current=!0,()=>{U.current=!1}),[]),ac(()=>{if(C&&(k.current=C),R&&(N.current=R),C&&R){if(A.current)return A.current(C,R,W);W()}},[C,R,W,A,M]);const q=f.useMemo(()=>({reference:k,floating:N,setReference:v,setFloating:x}),[v,x]),K=f.useMemo(()=>({reference:C,floating:R}),[C,R]),Q=f.useMemo(()=>{const j={position:n,left:0,top:0};if(!K.floating)return j;const $=px(K.floating,d.x),S=px(K.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+S+"px)",...bC(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:S}},[n,a,K.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:W,refs:q,elements:K,floatingStyles:Q}),[d,W,q,K,Q])}const hM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?hx({element:r.current,padding:s}).fn(n):{}:r?hx({element:r,padding:s}).fn(n):{}}}},pM=(e,t)=>({...rM(e),options:[e,t]}),mM=(e,t)=>({...sM(e),options:[e,t]}),gM=(e,t)=>({...lM(e),options:[e,t]}),yM=(e,t)=>({...oM(e),options:[e,t]}),vM=(e,t)=>({...iM(e),options:[e,t]}),xM=(e,t)=>({...aM(e),options:[e,t]}),wM=(e,t)=>({...hM(e),options:[e,t]});var bM="Arrow",_C=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(ce.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});_C.displayName=bM;var _M=_C;function SC(e){const[t,n]=f.useState(void 0);return rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var hm="Popper",[CC,Bu]=lr(hm),[SM,kC]=CC(hm),EC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return c.jsx(SM,{scope:t,anchor:r,onAnchorChange:s,children:n})};EC.displayName=hm;var TC="PopperAnchor",NC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=kC(TC,n),i=f.useRef(null),a=xe(t,i),l=f.useRef(null);return f.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(ce.div,{...s,ref:a})});NC.displayName=TC;var pm="PopperContent",[CM,kM]=CC(pm),RC=f.forwardRef((e,t)=>{var J,me,Oe,be,ge,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,b=kC(pm,n),[g,v]=f.useState(null),x=xe(t,lt=>v(lt)),[C,R]=f.useState(null),k=SC(C),N=(k==null?void 0:k.width)??0,I=(k==null?void 0:k.height)??0,M=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],E=L.length>0,W={padding:A,boundary:L.filter(TM),altBoundary:E},{refs:U,floatingStyles:q,placement:K,isPositioned:Q,middlewareData:j}=fM({strategy:"fixed",placement:M,whileElementsMounted:(...lt)=>nM(...lt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[pM({mainAxis:s+I,alignmentAxis:i}),l&&mM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?gM():void 0,...W}),l&&yM({...W}),vM({...W,apply:({elements:lt,rects:Lt,availableWidth:qt,availableHeight:Cn})=>{const{width:Hn,height:Is}=Lt.reference,Vn=lt.floating.style;Vn.setProperty("--radix-popper-available-width",`${qt}px`),Vn.setProperty("--radix-popper-available-height",`${Cn}px`),Vn.setProperty("--radix-popper-anchor-width",`${Hn}px`),Vn.setProperty("--radix-popper-anchor-height",`${Is}px`)}}),C&&wM({element:C,padding:a}),NM({arrowWidth:N,arrowHeight:I}),p&&xM({strategy:"referenceHidden",...W})]}),[$,S]=AC(K),oe=Ye(w);rt(()=>{Q&&(oe==null||oe())},[Q,oe]);const pe=(J=j.arrow)==null?void 0:J.x,T=(me=j.arrow)==null?void 0:me.y,Pe=((Oe=j.arrow)==null?void 0:Oe.centerOffset)!==0,[Xe,we]=f.useState();return rt(()=>{g&&we(window.getComputedStyle(g).zIndex)},[g]),c.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Q?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(be=j.transformOrigin)==null?void 0:be.x,(ge=j.transformOrigin)==null?void 0:ge.y].join(" "),...((Te=j.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(CM,{scope:n,placedSide:$,onArrowChange:R,arrowX:pe,arrowY:T,shouldHideArrow:Pe,children:c.jsx(ce.div,{"data-side":$,"data-align":S,...y,ref:x,style:{...y.style,animation:Q?void 0:"none"}})})})});RC.displayName=pm;var IC="PopperArrow",EM={top:"bottom",right:"left",bottom:"top",left:"right"},PC=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=kM(IC,r),i=EM[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(_M,{...s,ref:n,style:{...s.style,display:"block"}})})});PC.displayName=IC;function TM(e){return e!==null}var NM=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=AC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=i?h:`${p}px`,y=`${-l}px`):u==="top"?(w=i?h:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=i?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,y=i?h:`${m}px`),{data:{x:w,y}}}});function AC(e){const[t,n="center"]=e.split("-");return[t,n]}var jC=EC,MC=NC,OC=RC,LC=PC,RM="Portal",mm=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=f.useState(!1);rt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?nI.createPortal(c.jsx(ce.div,{...r,ref:t}),i):null});mm.displayName=RM;function IM(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var ur=e=>{const{present:t,children:n}=e,r=PM(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=xe(r.ref,AM(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};ur.displayName="Presence";function PM(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=IM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Ol(r.current);o.current=a==="mounted"?u:"none"},[a]),rt(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,m=Ol(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),rt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=Ol(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=Ol(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ol(e){return(e==null?void 0:e.animationName)||"none"}function AM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qd="rovingFocusGroup.onEntryFocus",jM={bubbles:!1,cancelable:!0},el="RovingFocusGroup",[_h,DC,MM]=oC(el),[OM,FC]=lr(el,[MM]),[LM,DM]=OM(el),BC=f.forwardRef((e,t)=>c.jsx(_h.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(_h.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(FM,{...e,ref:t})})}));BC.displayName=el;var FM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),m=xe(t,p),w=ju(o),[y,b]=Qs({prop:i,defaultProp:a??null,onChange:l,caller:el}),[g,v]=f.useState(!1),x=Ye(u),C=DC(n),R=f.useRef(!1),[k,N]=f.useState(0);return f.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Qd,x),()=>I.removeEventListener(Qd,x)},[x]),c.jsx(LM,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:f.useCallback(I=>b(I),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(I=>I+1),[]),onFocusableItemRemove:f.useCallback(()=>N(I=>I-1),[]),children:c.jsx(ce.div,{tabIndex:g||k===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{R.current=!0}),onFocus:Z(e.onFocus,I=>{const M=!R.current;if(I.target===I.currentTarget&&M&&!g){const A=new CustomEvent(Qd,jM);if(I.currentTarget.dispatchEvent(A),!A.defaultPrevented){const L=C().filter(K=>K.focusable),E=L.find(K=>K.active),W=L.find(K=>K.id===y),q=[E,W,...L].filter(Boolean).map(K=>K.ref.current);UC(q,d)}}R.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),zC="RovingFocusGroupItem",$C=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=Er(),u=o||l,d=DM(zC,n),h=d.currentTabStopId===u,p=DC(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),c.jsx(_h.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(ce.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Z(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=$M(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=p().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const C=x.indexOf(b.currentTarget);x=d.loop?UM(x,C+1):x.slice(C+1)}setTimeout(()=>UC(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});$C.displayName=zC;var BM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $M(e,t,n){const r=zM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BM[r]}function UC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function UM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var HM=BC,VM=$C,WM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,Ll=new WeakMap,Dl={},Jd=0,HC=function(e){return e&&(e.host||HC(e.parentNode))},KM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=HC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qM=function(e,t,n,r){var s=KM(t,Array.isArray(e)?e:[e]);Dl[n]||(Dl[n]=new WeakMap);var o=Dl[n],i=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",y=(vo.get(p)||0)+1,b=(o.get(p)||0)+1;vo.set(p,y),o.set(p,b),i.push(p),y===1&&w&&Ll.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),a.clear(),Jd++,function(){i.forEach(function(h){var p=vo.get(h)-1,m=o.get(h)-1;vo.set(h,p),o.set(h,m),p||(Ll.has(h)||h.removeAttribute(r),Ll.delete(h)),m||h.removeAttribute(n)}),Jd--,Jd||(vo=new WeakMap,vo=new WeakMap,Ll=new WeakMap,Dl={})}},VC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=WM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),qM(r,s,n,"aria-hidden")):function(){return null}},Jn=function(){return Jn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Jn.apply(this,arguments)};function WC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function GM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var lc="right-scroll-bar-position",cc="width-before-scroll-bar",YM="with-scroll-bars-hidden",XM="--removed-body-scroll-bar-size";function Zd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function QM(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var JM=typeof window<"u"?f.useLayoutEffect:f.useEffect,mx=new WeakMap;function ZM(e,t){var n=QM(null,function(r){return e.forEach(function(s){return Zd(s,r)})});return JM(function(){var r=mx.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Zd(a,null)}),o.forEach(function(a){s.has(a)||Zd(a,i)})}mx.set(n,e)},[e]),n}function eO(e){return e}function tO(e,t){t===void 0&&(t=eO);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function nO(e){e===void 0&&(e={});var t=tO(null);return t.options=Jn({async:!0,ssr:!1},e),t}var KC=function(e){var t=e.sideCar,n=WC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Jn({},n))};KC.isSideCarExport=!0;function rO(e,t){return e.useMedium(t),KC}var qC=nO(),ef=function(){},zu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:ef,onWheelCapture:ef,onTouchMoveCapture:ef}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,x=e.gapMode,C=WC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,k=ZM([n,t]),N=Jn(Jn({},C),s);return f.createElement(f.Fragment,null,d&&f.createElement(R,{sideCar:qC,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:x}),i?f.cloneElement(f.Children.only(a),Jn(Jn({},N),{ref:k})):f.createElement(v,Jn({},N,{className:l,ref:k}),a))});zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zu.classNames={fullWidth:cc,zeroRight:lc};var sO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sO();return t&&e.setAttribute("nonce",t),e}function iO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=oO())&&(iO(t,n),aO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cO=function(){var e=lO();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},GC=function(){var e=cO(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},uO={left:0,top:0,right:0,gap:0},tf=function(e){return parseInt(e||"",10)||0},dO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[tf(n),tf(r),tf(s)]},fO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uO;var t=dO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},hO=GC(),Go="data-scroll-locked",pO=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(XM,": ").concat(a,`px;
  }
`)},gx=function(){var e=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(e)?e:0},mO=function(){f.useEffect(function(){return document.body.setAttribute(Go,(gx()+1).toString()),function(){var e=gx()-1;e<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,e.toString())}},[])},gO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;mO();var o=f.useMemo(function(){return fO(s)},[s]);return f.createElement(hO,{styles:pO(o,!t,s,n?"":"!important")})},Sh=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return Sh=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Sh=!1}var xo=Sh?{passive:!1}:!1,yO=function(e){return e.tagName==="TEXTAREA"},YC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!yO(e)&&n[t]==="visible")},vO=function(e){return YC(e,"overflowY")},xO=function(e){return YC(e,"overflowX")},yx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=XC(e,r);if(s){var o=QC(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},XC=function(e,t){return e==="v"?vO(t):xO(t)},QC=function(e,t){return e==="v"?wO(t):bO(t)},_O=function(e,t){return e==="h"&&t==="rtl"?-1:1},SO=function(e,t,n,r,s){var o=_O(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,h=0,p=0;do{if(!a)break;var m=QC(e,a),w=m[0],y=m[1],b=m[2],g=y-b-o*w;(w||g)&&XC(e,a)&&(h+=g,p+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Bl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vx=function(e){return[e.deltaX,e.deltaY]},xx=function(e){return e&&"current"in e?e.current:e},CO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EO=0,wo=[];function TO(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(EO++)[0],o=f.useState(GC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=GM([e.lockRef.current],(e.shards||[]).map(xx),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=Bl(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-g[0],C="deltaY"in y?y.deltaY:v[1]-g[1],R,k=y.target,N=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in y&&N==="h"&&k.type==="range")return!1;var I=window.getSelection(),M=I&&I.anchorNode,A=M?M===k||M.contains(k):!1;if(A)return!1;var L=yx(N,k);if(!L)return!0;if(L?R=N:(R=N==="v"?"h":"v",L=yx(N,k)),!L)return!1;if(!r.current&&"changedTouches"in y&&(x||C)&&(r.current=R),!R)return!0;var E=r.current||R;return SO(E,b,y,E==="h"?x:C)},[]),l=f.useCallback(function(y){var b=y;if(!(!wo.length||wo[wo.length-1]!==o)){var g="deltaY"in b?vx(b):Bl(b),v=t.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&CO(R.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(xx).filter(Boolean).filter(function(R){return R.contains(b.target)}),C=x.length>0?a(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(y,b,g,v){var x={name:y,delta:b,target:g,should:v,shadowParent:NO(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(y){n.current=Bl(y),r.current=void 0},[]),h=f.useCallback(function(y){u(y.type,vx(y),y.target,a(y,e.lockRef.current))},[]),p=f.useCallback(function(y){u(y.type,Bl(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return wo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,xo),document.addEventListener("touchmove",l,xo),document.addEventListener("touchstart",d,xo),function(){wo=wo.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,xo),document.removeEventListener("touchmove",l,xo),document.removeEventListener("touchstart",d,xo)}},[]);var m=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:kO(s)}):null,m?f.createElement(gO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function NO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RO=rO(qC,TO);var gm=f.forwardRef(function(e,t){return f.createElement(zu,Jn({},e,{ref:t,sideCar:RO}))});gm.classNames=zu.classNames;const JC=f.forwardRef((e,t)=>c.jsx(cn.div,{...e,ref:t}));JC.displayName="AttachmentPrimitive.Root";const Ch=()=>{const e=se(({attachment:t})=>t.name);return c.jsx(c.Fragment,{children:e})};Ch.displayName="AttachmentPrimitive.Name";const IO=()=>{const e=ve();return f.useCallback(()=>{e.attachment().remove()},[e])},PO=$n("AttachmentPrimitive.Remove",IO),AO=()=>{const e=ve(),t=se(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},jO=$n("BranchPickerPrimitive.Next",AO),MO=()=>{const e=ve(),t=se(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},OO=$n("BranchPickerPrimitive.Previous",MO),LO=()=>se(({message:t})=>t.branchCount),ZC=()=>{const e=LO();return c.jsx(c.Fragment,{children:e})};ZC.displayName="BranchPickerPrimitive.Count";const DO=()=>se(({message:t})=>t.branchNumber),e0=()=>{const e=DO();return c.jsx(c.Fragment,{children:e})};e0.displayName="BranchPickerPrimitive.Number";const tl=e=>{const t=f.useRef(void 0);return f.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},t0=(e,t)=>{const n=f.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return tl(n)},wx=f.createContext(!1),bx=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},n0=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=se(({thread:l,message:u})=>{var d;return u.isLast&&u.role==="assistant"&&u.index>=1&&((d=l.messages.at(u.index-1))==null?void 0:d.role)==="user"}),s=Au({optional:!0}),o=f.useContext(wx),i=f.useCallback(l=>{if(!s||o)return;const u=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:h,inset:p,userMessage:m}=d.height,w=bx(t,l),y=bx(n,l),b=m<=w?m:y,g=Math.max(0,h-p-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),s.subscribe(u)},[s,r,o,t,n]),a=tl(i);return c.jsx(wx.Provider,{value:!0,children:c.jsx(JS,{ref:a,children:e})})};n0.displayName="ThreadPrimitive.ViewportSlack";const FO=()=>{const e=ve(),t=se(()=>e.message()),n=f.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return tl(n)},BO=()=>{const e=Da(s=>s.turnAnchor),t=Da(s=>s.registerUserMessageHeight),n=se(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=f.useCallback(s=>s.offsetHeight,[]);return t0(n?t:null,r)},ym=f.forwardRef((e,t)=>{const n=FO(),r=BO(),s=xe(t,n,r);return c.jsx(n0,{children:c.jsx(cn.div,{...e,ref:s})})});ym.displayName="MessagePrimitive.Root";const zO=Object.freeze({type:"complete"}),$O=Me(({parts:e,getMessagePart:t})=>{const[n,r]=Ln(!0),s=ke(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??zO},[e]),o=ke(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),UO=({startIndex:e,endIndex:t,children:n})=>{const r=se(({message:i})=>i.parts).slice(e,t+1),s=ve(),o=ve({chainOfThought:$O({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return c.jsx(Cs,{value:o,children:n})},r0=()=>se(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),vm=f.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=BS(r0(),e);return c.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});vm.displayName="MessagePartPrimitive.Text";const HO=()=>se(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),s0=f.forwardRef((e,t)=>{const{image:n}=HO();return c.jsx(cn.img,{src:n,...e,ref:t})});s0.displayName="MessagePartPrimitive.Image";const o0=({children:e})=>se(({part:n})=>n.status.type==="running")?e:null;o0.displayName="MessagePartPrimitive.InProgress";const _x=e=>Symbol.iterator in e,Sx=e=>"entries"in e,Cx=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},VO=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function WO(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:_x(e)&&_x(t)?Sx(e)&&Sx(t)?Cx(e,t):VO(e,t):Cx({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function i0(e){const t=Se.useRef(void 0);return n=>{const r=e(n);return WO(t.current,r)?t.current:t.current=r}}const nf=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},KO=(e,t)=>{const n=[];if(t){const r=nf("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=nf("toolGroup"),s=nf("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},qO=e=>{const t=se(i0(n=>n.message.parts.map(r=>r.type)));return f.useMemo(()=>t.length===0?[]:KO(t,e),[t,e])},GO=({Fallback:e,...t})=>{const n=se(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?c.jsx(n,{...t}):null},br={Text:()=>c.jsxs("p",{style:{whiteSpace:"pre-line"},children:[c.jsx(vm,{}),c.jsx(o0,{children:c.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>c.jsx(s0,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},YO=({components:{Text:e=br.Text,Reasoning:t=br.Reasoning,Image:n=br.Image,Source:r=br.Source,File:s=br.File,Unstable_Audio:o=br.Unstable_Audio,tools:i={}}={}})=>{var d,h;const a=ve(),l=se(({part:p})=>p),u=l.type;if(u==="tool-call"){const p=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return c.jsx(i.Override,{...l,addResult:p,resume:m});const w=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return c.jsx(GO,{...l,Fallback:w,addResult:p,resume:m})}if(((h=l.status)==null?void 0:h.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return c.jsx(e,{...l});case"reasoning":return c.jsx(t,{...l});case"source":return c.jsx(r,{...l});case"image":return c.jsx(n,{...l});case"file":return c.jsx(s,{...l});case"audio":return c.jsx(o,{...l});case"data":return null;default:const p=u;throw new Error(`Unknown message part type: ${p}`)}},uc=f.memo(({index:e,components:t})=>c.jsx(QA,{index:e,children:c.jsx(YO,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u,d,h,p,m,w,y,b,g,v,x;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((d=e.components)==null?void 0:d.File)===((h=t.components)==null?void 0:h.File)&&((p=e.components)==null?void 0:p.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((w=e.components)==null?void 0:w.tools)===((y=t.components)==null?void 0:y.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((v=e.components)==null?void 0:v.ReasoningGroup)===((x=t.components)==null?void 0:x.ReasoningGroup)});uc.displayName="MessagePrimitive.PartByIndex";const XO=({status:e,component:t})=>c.jsx(tj,{text:"",isRunning:e.type==="running",children:c.jsx(t,{type:"text",text:"",status:e})}),QO=Object.freeze({type:"complete"}),JO=({components:e})=>{const t=se(n=>n.message.status??QO);return e!=null&&e.Empty?c.jsx(e.Empty,{status:t}):c.jsx(XO,{status:t,component:(e==null?void 0:e.Text)??br.Text})},a0=f.memo(JO,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),ZO=({components:e,enabled:t})=>se(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?c.jsx(a0,{components:e}):null,eL=f.memo(ZO,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),xm=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=se(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=qO(r),o=f.useMemo(()=>n===0?c.jsx(a0,{components:e}):s.map(i=>{if(i.type==="single")return c.jsx(uc,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?c.jsx(UO,{startIndex:i.startIndex,endIndex:i.endIndex,children:c.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??br.ToolGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(uc,{index:i.startIndex+u,components:e},u))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??br.ReasoningGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(uc,{index:i.startIndex+u,components:e},u))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return c.jsxs(c.Fragment,{children:[o,c.jsx(eL,{components:e,enabled:t})]})};xm.displayName="MessagePrimitive.Parts";const tL=e=>se(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:u}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!u&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),Mr=({children:e,...t})=>tL(t)?e:null;Mr.displayName="MessagePrimitive.If";const nL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},rL=({components:e})=>{const t=se(({attachment:r})=>r);if(!t)return null;const n=nL(e,t);return n?c.jsx(n,{}):null},l0=f.memo(({index:e,components:t})=>c.jsx(JA,{index:e,children:c.jsx(rL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});l0.displayName="MessagePrimitive.AttachmentByIndex";const c0=({components:e})=>{const t=se(({message:r})=>r.role!=="user"?0:r.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(l0,{index:s,components:e},s)),[t,e])};c0.displayName="MessagePrimitive.Attachments";const u0=f.forwardRef(({hideWhenSingleBranch:e,...t},n)=>c.jsx(Mr,{hasBranches:e?!0:void 0,children:c.jsx(cn.div,{...t,ref:n})}));u0.displayName="BranchPickerPrimitive.Root";const d0=()=>{const e=ve(),t=se(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=f.useCallback(()=>{e.composer().send()},[e]);return t?null:n},f0=$n("ComposerPrimitive.Send",d0),wm=f.forwardRef(({onSubmit:e,...t},n)=>{const r=d0(),s=o=>{o.preventDefault(),r&&r()};return c.jsx(cn.form,{...t,ref:n,onSubmit:Z(e,s)})});wm.displayName="ComposerPrimitive.Root";function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(null,arguments)}function sL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oL=f.useLayoutEffect,iL=function(t){var n=Se.useRef(t);return oL(function(){n.current=t}),n},kx=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},aL=function(t,n){var r=Se.useRef();return Se.useCallback(function(s){t.current=s,r.current&&kx(r.current,null),r.current=n,n&&kx(n,s)},[n])},Ex={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},lL=function(t){Object.keys(Ex).forEach(function(n){t.style.setProperty(n,Ex[n],"important")})},Tx=lL,It=null,Nx=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function cL(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),It||(It=document.createElement("textarea"),It.setAttribute("tabindex","-1"),It.setAttribute("aria-hidden","true"),Tx(It)),It.parentNode===null&&document.body.appendChild(It);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(p){var m=p;It.style[m]=i[m]}),Tx(It),It.value=t;var l=Nx(It,e);It.value=t,l=Nx(It,e),It.value="x";var u=It.scrollHeight-s,d=u*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var h=u*r;return a==="border-box"&&(h=h+s+o),l=Math.min(h,l),[l,u]}var Rx=function(){},uL=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},dL=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],fL=!!document.documentElement.currentStyle,hL=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=uL(dL,n),s=r.boxSizing;if(s==="")return null;fL&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},pL=hL;function bm(e,t,n){var r=iL(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var mL=function(t,n){bm(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},gL=function(t){bm(window,"resize",t)},yL=function(t){bm(document.fonts,"loadingdone",t)},vL=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],xL=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?Rx:i,l=t.onHeightChange,u=l===void 0?Rx:l,d=sL(t,vL),h=d.value!==void 0,p=f.useRef(null),m=aL(p,n),w=f.useRef(0),y=f.useRef(),b=function(){var x=p.current,C=r&&y.current?y.current:pL(x);if(C){y.current=C;var R=cL(C,x.value||x.placeholder||"x",o,s),k=R[0],N=R[1];w.current!==k&&(w.current=k,x.style.setProperty("height",k+"px","important"),u(k,{rowHeight:N}))}},g=function(x){h||b(),a(x)};return f.useLayoutEffect(b),mL(p,function(){if(!h){var v=p.current.value;requestAnimationFrame(function(){var x=p.current;x&&v!==x.value&&b()})}}),gL(b),yL(b),f.createElement("textarea",kh({},d,{onChange:g,ref:m}))},wL=f.forwardRef(xL);const h0=e=>{const t=Ye(e),n=Da(r=>r.onScrollToBottom);f.useEffect(()=>n(t),[n,t])},_m=f.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:u=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:h=!0,...p},m)=>{const w=ve(),y=se(({composer:I})=>I.isEditing?I.text:""),b=t?JS:wL,g=se(({thread:I,composer:M})=>{var A;return I.isDisabled||((A=M.dictation)==null?void 0:A.inputDisabled)})||n,v=f.useRef(null),x=xe(m,v);om(I=>{var A;if(!a||!((A=v.current)!=null&&A.contains(I.target)))return;const M=w.composer();M.getState().canCancel&&(M.cancel(),I.preventDefault())});const C=I=>{var M,A;g||!i||I.nativeEvent.isComposing||I.key==="Enter"&&I.shiftKey===!1&&(w.thread().getState().isRunning||(I.preventDefault(),(A=(M=v.current)==null?void 0:M.closest("form"))==null||A.requestSubmit()))},R=async I=>{var L;if(!h)return;const M=w.thread().getState().capabilities,A=Array.from(((L=I.clipboardData)==null?void 0:L.files)||[]);if(M.attachments&&A.length>0)try{I.preventDefault(),await Promise.all(A.map(E=>w.composer().addAttachment(E)))}catch(E){console.error("Error adding attachment:",E)}},k=e&&!g,N=f.useCallback(()=>{const I=v.current;!I||!k||(I.focus({preventScroll:!0}),I.setSelectionRange(I.value.length,I.value.length))},[k]);return f.useEffect(()=>N(),[N]),h0(()=>{w.composer().getState().type==="thread"&&u&&N()}),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!l))return w.on("thread.runStart",N)},[l,N,w]),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!d))return w.on("threadListItem.switchedTo",N)},[d,N,w]),c.jsx(b,{name:"input",value:y,...p,ref:x,disabled:g,onChange:Z(r,I=>{w.composer().getState().isEditing&&Z_(()=>{w.composer().setText(I.target.value)})}),onKeyDown:Z(s,C),onPaste:Z(o,R)})});_m.displayName="ComposerPrimitive.Input";const bL=()=>{const e=ve(),t=se(({composer:r})=>!r.canCancel),n=f.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},p0=$n("ComposerPrimitive.Cancel",bL),_L=({multiple:e=!0}={})=>{const t=se(({composer:s})=>!s.isEditing),n=ve(),r=f.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},SL=$n("ComposerPrimitive.AddAttachment",_L,["multiple"]),CL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},kL=({components:e})=>{const t=se(({attachment:r})=>r);if(!t)return null;const n=CL(e,t);return n?c.jsx(n,{}):null},m0=f.memo(({index:e,components:t})=>c.jsx(ZA,{index:e,children:c.jsx(kL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});m0.displayName="ComposerPrimitive.AttachmentByIndex";const g0=({components:e})=>{const t=se(r=>r.composer.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(m0,{index:s,components:e},s)),[t,e])};g0.displayName="ComposerPrimitive.Attachments";const y0=f.forwardRef((e,t)=>c.jsx(cn.div,{...e,ref:t}));y0.displayName="ThreadPrimitive.Root";const v0=({children:e})=>se(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;v0.displayName="ThreadPrimitive.Empty";const EL=e=>se(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),Ba=({children:e,...t})=>EL(t)?e:null;Ba.displayName="ThreadPrimitive.If";const TL=e=>{const t=Ye(e),n=f.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return tl(n)},NL=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=f.useRef(null),o=Au();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=f.useRef(0),a=f.useRef(null),l=f.useCallback(m=>{const w=s.current;w&&(a.current=m,w.scrollTo({top:w.scrollHeight,behavior:m}))},[]),u=()=>{const m=s.current;if(!m)return;const w=o.getState().isAtBottom,y=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!y&&i.current<m.scrollTop||(y&&(a.current=null),(y||a.current===null)&&y!==w&&La(o).setState({isAtBottom:y})),i.current=m.scrollTop},d=TL(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),u()}),h=tl(m=>(m.addEventListener("scroll",u),()=>{m.removeEventListener("scroll",u)}));return h0(({behavior:m})=>{l(m)}),Bd("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),Bd("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),Bd("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),xe(d,h,s)},RL=()=>{const e=Da(n=>n.registerViewport),t=f.useCallback(n=>n.clientHeight,[]);return t0(e,t)},x0=f.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=NL({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=RL(),u=xe(i,a,l);return c.jsx(cn.div,{...o,ref:u,children:s})});x0.displayName="ThreadPrimitive.ViewportScrollable";const w0=f.forwardRef(({turnAnchor:e,...t},n)=>c.jsx(qS,{options:{turnAnchor:e},children:c.jsx(x0,{...t,ref:n})}));w0.displayName="ThreadPrimitive.Viewport";const b0=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,IL=()=>null,PL=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??IL;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},AL=({components:e})=>{const t=se(({message:s})=>s.role),n=se(({message:s})=>s.composer.isEditing),r=PL(e,t,n);return c.jsx(r,{})},_0=f.memo(({index:e,components:t})=>c.jsx(XA,{index:e,children:c.jsx(AL,{components:t})}),(e,t)=>e.index===t.index&&b0(e.components,t.components));_0.displayName="ThreadPrimitive.MessageByIndex";const S0=({components:e})=>{const t=se(({thread:r})=>r.messages.length);return f.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>c.jsx(_0,{index:s,components:e},s)),[t,e])};S0.displayName="ThreadPrimitive.Messages";const jL=f.memo(S0,(e,t)=>b0(e.components,t.components)),ML=({behavior:e}={})=>{const t=Da(s=>s.isAtBottom),n=Au(),r=f.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},OL=$n("ThreadPrimitive.ScrollToBottom",ML,["behavior"]),LL=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=ve(),i=se(({thread:u})=>u.isDisabled),a=t??r??!1,l=f.useCallback(()=>{const u=o.thread().getState().isRunning;if(a&&!u)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},C0=$n("ThreadPrimitive.Suggestion",LL,["prompt","send","clearComposer","autoSend","method"]);var k0=f.createContext({}),Re=()=>f.useContext(k0),E0=({children:e,config:t})=>{const n=!!fj(),r=t&&Object.keys(t).length>0,s=Re();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?c.jsx(k0.Provider,{value:t,children:e}):c.jsx(c.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return c.jsx(GS,{runtime:t.runtime,children:o})};E0.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...FL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:T0("lucide",s),...a},[...i.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(e,t)=>{const n=f.forwardRef(({className:r,...s},o)=>f.createElement(BL,{ref:o,iconNode:t,className:T0(`lucide-${DL(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$L=Ot("ArrowDown",zL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],HL=Ot("AudioLines",UL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N0=Ot("Check",VL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KL=Ot("ChevronLeft",WL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GL=Ot("ChevronRight",qL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],XL=Ot("CircleStop",YL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JL=Ot("CircleX",QL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],R0=Ot("Copy",ZL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],tD=Ot("File",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],rD=Ot("Paperclip",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],oD=Ot("Pencil",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aD=Ot("RefreshCw",iD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],cD=Ot("SendHorizontal",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],dD=Ot("ThumbsDown",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],hD=Ot("ThumbsUp",fD);var I0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pD="VisuallyHidden",P0=f.forwardRef((e,t)=>c.jsx(ce.span,{...e,ref:t,style:{...I0,...e.style}}));P0.displayName=pD;var A0=P0,[$u]=lr("Tooltip",[Bu]),Uu=Bu(),j0="TooltipProvider",mD=700,Eh="tooltip.open",[gD,Sm]=$u(j0),M0=e=>{const{__scopeTooltip:t,delayDuration:n=mD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(gD,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};M0.displayName=j0;var za="Tooltip",[yD,Hu]=$u(za),O0=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Sm(za,e.__scopeTooltip),u=Uu(t),[d,h]=f.useState(null),p=Er(),m=f.useRef(0),w=i??l.disableHoverableContent,y=a??l.delayDuration,b=f.useRef(!1),[g,v]=Qs({prop:r,defaultProp:s??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(Eh))):l.onClose(),o==null||o(N)},caller:za}),x=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),R=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),k=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},y)},[y,v]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(jC,{...u,children:c.jsx(yD,{scope:t,contentId:p,open:g,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?k():C()},[l.isOpenDelayedRef,k,C]),onTriggerLeave:f.useCallback(()=>{w?R():(window.clearTimeout(m.current),m.current=0)},[R,w]),onOpen:C,onClose:R,disableHoverableContent:w,children:n})})};O0.displayName=za;var Th="TooltipTrigger",L0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Hu(Th,n),o=Sm(Th,n),i=Uu(n),a=f.useRef(null),l=xe(t,a,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(MC,{asChild:!0,...i,children:c.jsx(ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});L0.displayName=Th;var vD="TooltipPortal",[E8,xD]=$u(vD,{forceMount:void 0}),ci="TooltipContent",D0=f.forwardRef((e,t)=>{const n=xD(ci,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Hu(ci,e.__scopeTooltip);return c.jsx(ur,{present:r||i.open,children:i.disableHoverableContent?c.jsx(F0,{side:s,...o,ref:t}):c.jsx(wD,{side:s,...o,ref:t})})}),wD=f.forwardRef((e,t)=>{const n=Hu(ci,e.__scopeTooltip),r=Sm(ci,e.__scopeTooltip),s=f.useRef(null),o=xe(t,s),[i,a]=f.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{a(null),h(!1)},[h]),m=f.useCallback((w,y)=>{const b=w.currentTarget,g={x:w.clientX,y:w.clientY},v=kD(g,b.getBoundingClientRect()),x=ED(g,v),C=TD(y.getBoundingClientRect()),R=RD([...x,...C]);a(R),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&d){const w=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),f.useEffect(()=>{if(i){const w=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!ND(g,i);v?p():x&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,i,u,p]),c.jsx(F0,{...e,ref:o})}),[bD,_D]=$u(za,{isInside:!1}),SD=$j("TooltipContent"),F0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Hu(ci,n),u=Uu(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Eh,d),()=>document.removeEventListener(Eh,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(Mu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(OC,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(SD,{children:r}),c.jsx(bD,{scope:n,isInside:!0,children:c.jsx(A0,{id:l.contentId,role:"tooltip",children:s||r})})]})})});D0.displayName=ci;var B0="TooltipArrow",CD=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Uu(n);return _D(B0,n).isInside?null:c.jsx(LC,{...s,...r,ref:t})});CD.displayName=B0;function kD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ED(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function TD(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function ND(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function RD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ID(t)}function ID(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var z0=M0,PD=O0,AD=L0,jD=D0,$0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})($0);var MD=$0.exports;const X=fi(MD);var OD=({className:e,...t})=>({className:n,...r})=>({className:X(e,n),...t,...r}),Ee=(e,t)=>{const n=OD(t),r=f.forwardRef((s,o)=>{const i=e;return c.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},Cm=e=>c.jsx(z0,{children:c.jsx(PD,{...e})});Cm.displayName="Tooltip";var U0=AD,km=Ee(jD,{sideOffset:4,className:"aui-tooltip-content"});km.displayName="TooltipContent";function H0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=H0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function LD(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=H0(e))&&(r&&(r+=" "),r+=t);return r}const Ix=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Px=LD,DD=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Px(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const p=Ix(d)||Ix(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,h,p]:u},[]);return Px(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var FD=DD("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),Vu=f.forwardRef(({className:e,variant:t,size:n,...r},s)=>c.jsx(ce.button,{className:FD({variant:t,size:n,className:e}),...r,ref:s}));Vu.displayName="Button";var kt=f.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>c.jsxs(Cm,{children:[c.jsx(U0,{asChild:!0,children:c.jsxs(Vu,{variant:"ghost",size:"icon",...r,ref:s,children:[e,c.jsx("span",{className:"aui-sr-only",children:t})]})}),c.jsx(km,{side:n,children:t})]}));kt.displayName="TooltipIconButton";var BD=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=Re(),n=zn(r=>r.capabilities.unstable_copy);return t&&(!e||n)},Em=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=Re(),n=zn(r=>r.capabilities.speech);return t&&(!e||n)},V0=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=Re(),n=zn(r=>r.capabilities.reload);return t&&(!e||n)},W0=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=Re(),n=zn(r=>r.capabilities.feedback);return t&&(!e||n)},K0=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=Re(),n=zn(r=>r.capabilities.feedback);return t&&(!e||n)},q0=()=>{const e=BD(!0),t=V0(!0),n=Em(!0),r=W0(!0),s=K0(!0);return!e&&!t&&!n&&!r&&!s?null:c.jsxs(Tm,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&c.jsx(G0,{}),e&&c.jsx(Nm,{}),t&&c.jsx(Pm,{}),r&&c.jsx(Am,{}),s&&c.jsx(jm,{})]})};q0.displayName="AssistantActionBar";var Tm=Ee(sm,{className:"aui-assistant-action-bar-root"});Tm.displayName="AssistantActionBarRoot";var Nm=f.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=Re();return c.jsx(ZS,{copiedDuration:e,asChild:!0,children:c.jsx(kt,{tooltip:r,...t,ref:n,children:t.children??c.jsxs(c.Fragment,{children:[c.jsx(Mr,{copied:!0,children:c.jsx(N0,{})}),c.jsx(Mr,{copied:!1,children:c.jsx(R0,{})})]})})})});Nm.displayName="AssistantActionBarCopy";var G0=()=>c.jsxs(c.Fragment,{children:[c.jsx(Mr,{speaking:!1,children:c.jsx(Rm,{})}),c.jsx(Mr,{speaking:!0,children:c.jsx(Im,{})})]}),Rm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=Re(),r=Em();return c.jsx(Pj,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(HL,{})})})});Rm.displayName="AssistantActionBarSpeak";var Im=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=Re(),r=Em();return c.jsx(eC,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(XL,{})})})});Im.displayName="AssistantActionBarStopSpeaking";var Pm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=Re(),r=V0();return c.jsx(Tj,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(aD,{})})})});Pm.displayName="AssistantActionBarReload";var Am=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=Re(),r=W0();return c.jsx(tC,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(hD,{})})})});Am.displayName="AssistantActionBarFeedbackPositive";var jm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=Re(),r=K0();return c.jsx(nC,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(dD,{})})})});jm.displayName="AssistantActionBarFeedbackNegative";var zD={Root:Tm,Reload:Pm,Copy:Nm,Speak:Rm,StopSpeaking:Im,SpeechControl:G0,FeedbackPositive:Am,FeedbackNegative:jm},Y0=Object.assign(q0,zD),Mm=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=Re(),n=zn(r=>r.capabilities.edit);return t&&(!e||n)},X0=()=>Mm(!0)?c.jsxs(Om,{hideWhenSingleBranch:!0,children:[c.jsx(Lm,{}),c.jsx(Q0,{}),c.jsx(Dm,{})]}):null;X0.displayName="BranchPicker";var Om=Ee(u0,{className:"aui-branch-picker-root"});Om.displayName="BranchPickerRoot";var Lm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=Re(),r=Mm();return c.jsx(OO,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(KL,{})})})});Lm.displayName="BranchPickerPrevious";var $D=Ee("span",{className:"aui-branch-picker-state"}),Q0=f.forwardRef((e,t)=>c.jsxs($D,{...e,ref:t,children:[c.jsx(e0,{})," / ",c.jsx(ZC,{})]}));Q0.displayName="BranchPickerState";var Dm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=Re(),r=Mm();return c.jsx(jO,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(GL,{})})})});Dm.displayName="BranchPickerNext";var UD={Root:Om,Previous:Lm,Next:Dm},Wu=Object.assign(X0,UD),J0={exports:{}},Z0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=f;function HD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VD=typeof Object.is=="function"?Object.is:HD,WD=ui.useState,KD=ui.useEffect,qD=ui.useLayoutEffect,GD=ui.useDebugValue;function YD(e,t){var n=t(),r=WD({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return qD(function(){s.value=n,s.getSnapshot=t,rf(s)&&o({inst:s})},[e,n,t]),KD(function(){return rf(s)&&o({inst:s}),e(function(){rf(s)&&o({inst:s})})},[e]),GD(n),n}function rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!VD(e,n)}catch{return!0}}function XD(e,t){return t()}var QD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XD:YD;Z0.useSyncExternalStore=ui.useSyncExternalStore!==void 0?ui.useSyncExternalStore:QD;J0.exports=Z0;var JD=J0.exports;function ZD(){return JD.useSyncExternalStore(eF,()=>!0,()=>!1)}function eF(){return()=>{}}var Fm="Avatar",[tF]=lr(Fm),[nF,ek]=tF(Fm),tk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return c.jsx(nF,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(ce.span,{...r,ref:t})})});tk.displayName=Fm;var nk="AvatarImage",rk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=ek(nk,n),a=rF(r,o),l=Ye(u=>{s(u),i.onImageLoadingStatusChange(u)});return rt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ce.img,{...o,ref:t,src:r}):null});rk.displayName=nk;var sk="AvatarFallback",Bm=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=ek(sk,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(ce.span,{...s,ref:t}):null});Bm.displayName=sk;function Ax(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rF(e,{referrerPolicy:t,crossOrigin:n}){const r=ZD(),s=f.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=f.useState(()=>Ax(o,e));return rt(()=>{a(Ax(o,e))},[o,e]),rt(()=>{const l=h=>()=>{a(h)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var sF=tk,oF=rk,iF=Bm,zm=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:c.jsxs($m,{children:[e!=null&&c.jsx(Um,{src:e,alt:t}),n!=null&&c.jsx(ok,{children:n})]});zm.displayName="Avatar";var $m=Ee(sF,{className:"aui-avatar-root"});$m.displayName="AvatarRoot";var Um=Ee(oF,{className:"aui-avatar-image"});Um.displayName="AvatarImage";var ok=Ee(iF,{className:"aui-avatar-fallback"});ok.displayName="AvatarFallback";var{useSmoothStatus:aF,withSmoothContextProvider:lF}=nm,cF=()=>{const e=aF();return c.jsx(vm,{className:X("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},uF={Text:lF(cF)},ik=uF,ak=()=>c.jsxs(Hm,{children:[c.jsx(lk,{}),c.jsx(Vm,{}),c.jsx(Wu,{}),c.jsx(Y0,{})]});ak.displayName="AssistantMessage";var lk=()=>{const{assistantAvatar:e={fallback:"A"}}=Re();return c.jsx(zm,{...e})},Hm=Ee(ym,{className:"aui-assistant-message-root"});Hm.displayName="AssistantMessageRoot";var dF=Ee("div",{className:"aui-assistant-message-content"}),Vm=f.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=Re(),o=f.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return c.jsxs(dF,{...t,ref:n,children:[c.jsx(xm,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??ik.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&c.jsx(i,{})]})});Vm.displayName="AssistantMessageContent";var fF={Root:Hm,Avatar:lk,Content:Vm},dc=Object.assign(ak,fF),ck=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:c.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});ck.displayName="CircleStopIcon";var Ku="Dialog",[uk]=lr(Ku),[hF,Un]=uk(Ku),dk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[u,d]=Qs({prop:r,defaultProp:s??!1,onChange:o,caller:Ku});return c.jsx(hF,{scope:t,triggerRef:a,contentRef:l,contentId:Er(),titleId:Er(),descriptionId:Er(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};dk.displayName=Ku;var fk="DialogTrigger",hk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(fk,n),o=xe(t,s.triggerRef);return c.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gm(s.open),...r,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});hk.displayName=fk;var Wm="DialogPortal",[pF,pk]=uk(Wm,{forceMount:void 0}),mk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Un(Wm,t);return c.jsx(pF,{scope:t,forceMount:n,children:f.Children.map(r,i=>c.jsx(ur,{present:n||o.open,children:c.jsx(mm,{asChild:!0,container:s,children:i})}))})};mk.displayName=Wm;var Zc="DialogOverlay",gk=f.forwardRef((e,t)=>{const n=pk(Zc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Un(Zc,e.__scopeDialog);return o.modal?c.jsx(ur,{present:r||o.open,children:c.jsx(gF,{...s,ref:t})}):null});gk.displayName=Zc;var mF=ai("DialogOverlay.RemoveScroll"),gF=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(Zc,n);return c.jsx(gm,{as:mF,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ce.div,{"data-state":Gm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Zs="DialogContent",yk=f.forwardRef((e,t)=>{const n=pk(Zs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Un(Zs,e.__scopeDialog);return c.jsx(ur,{present:r||o.open,children:o.modal?c.jsx(yF,{...s,ref:t}):c.jsx(vF,{...s,ref:t})})});yk.displayName=Zs;var yF=f.forwardRef((e,t)=>{const n=Un(Zs,e.__scopeDialog),r=f.useRef(null),s=xe(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return VC(o)},[]),c.jsx(vk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),vF=f.forwardRef((e,t)=>{const n=Un(Zs,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return c.jsx(vk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),vk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Un(Zs,n),l=f.useRef(null),u=xe(t,l);return cC(),c.jsxs(c.Fragment,{children:[c.jsx(im,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Mu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gm(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(xF,{titleId:a.titleId}),c.jsx(bF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Km="DialogTitle",qm=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(Km,n);return c.jsx(ce.h2,{id:s.titleId,...r,ref:t})});qm.displayName=Km;var xk="DialogDescription",wk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(xk,n);return c.jsx(ce.p,{id:s.descriptionId,...r,ref:t})});wk.displayName=xk;var bk="DialogClose",_k=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(bk,n);return c.jsx(ce.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});_k.displayName=bk;function Gm(e){return e?"open":"closed"}var Sk="DialogTitleWarning",[T8,Ck]=Oj(Sk,{contentName:Zs,titleName:Km,docsSlug:"dialog"}),xF=({titleId:e})=>{const t=Ck(Sk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},wF="DialogDescriptionWarning",bF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ck(wF).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},kk=dk,Ek=hk,Tk=mk,Ym=gk,Xm=yk,_F=qm,SF=wk,CF=_k,kF=kk,EF=Ek,TF=Tk,Nk=f.forwardRef(({className:e,...t},n)=>c.jsx(Ym,{ref:n,className:X("aui-dialog-overlay",e),...t}));Nk.displayName=Ym.displayName;var Rk=f.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(TF,{children:[c.jsx(Nk,{}),c.jsx(Xm,{ref:r,className:X("aui-dialog-content",e),...n,children:t})]}));Rk.displayName=Xm.displayName;var Qm=Ee(JC,{className:"aui-attachment-root"}),NF=Ee("div",{className:"aui-attachment-content"});Qm.displayName="AttachmentRoot";var RF=e=>{const[t,n]=f.useState(void 0);return f.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},Ik=()=>{const{file:e,src:t}=qc(i0(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return RF(e)??t},IF=({src:e})=>{const[t,n]=f.useState(!1);return c.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},PF=({children:e})=>{const t=Ik();return t?c.jsxs(kF,{children:[c.jsx(EF,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),c.jsxs(Rk,{children:[c.jsx(qm,{className:"aui-sr-only",children:"Image Attachment Preview"}),c.jsx(IF,{src:t})]})]}):e},AF=()=>{const e=qc(n=>n.type==="image"),t=Ik();return c.jsxs($m,{className:"aui-attachment-thumb",children:[c.jsx(Bm,{delayMs:e?200:0,children:c.jsx(tD,{})}),c.jsx(Um,{src:t})]})},Pk=()=>{const e=qc(n=>n.source!=="message"),t=qc(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return c.jsxs(Cm,{children:[c.jsxs(Qm,{children:[c.jsx(PF,{children:c.jsx(U0,{asChild:!0,children:c.jsxs(NF,{children:[c.jsx(AF,{}),c.jsxs("div",{className:"aui-attachment-text",children:[c.jsx("p",{className:"aui-attachment-name",children:c.jsx(Ch,{})}),c.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&c.jsx(Jm,{})]}),c.jsx(km,{side:"top",children:c.jsx(Ch,{})})]})};Pk.displayName="Attachment";var Jm=f.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=Re();return c.jsx(PO,{asChild:!0,children:c.jsx(kt,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??c.jsx(JL,{})})})});Jm.displayName="AttachmentRemove";var jF={Root:Qm,Remove:Jm},Ak=Object.assign(Pk,jF),jk=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=Re(),n=zn(r=>r.capabilities.attachments);return t&&(!e||n)},Mk=()=>{const e=jk(!0);return c.jsxs(Zm,{children:[e&&c.jsx(Ok,{}),e&&c.jsx(tg,{}),c.jsx(eg,{autoFocus:!0}),c.jsx(ng,{})]})};Mk.displayName="Composer";var Zm=Ee(wm,{className:"aui-composer-root"});Zm.displayName="ComposerRoot";var MF=Ee(_m,{rows:1,autoFocus:!0,className:"aui-composer-input"}),eg=f.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=Re();return c.jsx(MF,{placeholder:n,...e,ref:t})});eg.displayName="ComposerInput";var OF=Ee("div",{className:"aui-composer-attachments"}),Ok=({components:e})=>c.jsx(OF,{children:c.jsx(g0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??Ak}})}),LF=Ee(kt,{variant:"default",className:"aui-composer-attach"}),tg=f.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=Re(),r=jk();return c.jsx(SL,{disabled:!r,asChild:!0,children:c.jsx(LF,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??c.jsx(rD,{})})})});tg.displayName="ComposerAddAttachment";var DF=()=>zn(t=>t.capabilities.cancel),ng=()=>DF()?c.jsxs(c.Fragment,{children:[c.jsx(Ba,{running:!1,children:c.jsx(eu,{})}),c.jsx(Ba,{running:!0,children:c.jsx(rg,{})})]}):c.jsx(eu,{});ng.displayName="ComposerAction";var FF=Ee(kt,{variant:"default",className:"aui-composer-send"}),eu=f.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=Re();return c.jsx(f0,{asChild:!0,children:c.jsx(FF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(cD,{})})})});eu.displayName="ComposerSend";var BF=Ee(kt,{variant:"default",className:"aui-composer-cancel"}),rg=f.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=Re();return c.jsx(p0,{asChild:!0,children:c.jsx(BF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(ck,{})})})});rg.displayName="ComposerCancel";var zF={Root:Zm,Input:eg,Action:ng,Send:eu,Cancel:rg,AddAttachment:tg,Attachments:Ok},$F=Object.assign(Mk,zF),Lk=()=>c.jsxs(sg,{children:[c.jsxs(Dk,{children:[c.jsx(Fk,{}),c.jsx(og,{})]}),c.jsx(ig,{})]});Lk.displayName="ThreadWelcome";var UF=Ee("div",{className:"aui-thread-welcome-root"}),Dk=Ee("div",{className:"aui-thread-welcome-center"}),sg=f.forwardRef((e,t)=>c.jsx(v0,{children:c.jsx(UF,{...e,ref:t})}));sg.displayName="ThreadWelcomeRoot";var Fk=()=>{const{assistantAvatar:e={fallback:"A"}}=Re();return c.jsx(zm,{...e})},HF=Ee("p",{className:"aui-thread-welcome-message"}),og=f.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=Re();return c.jsx(HF,{...t,ref:n,children:e??r??s})});og.displayName="ThreadWelcomeMessage";var VF=Ee("div",{className:"aui-thread-welcome-suggestions"}),WF=Ee(C0,{className:"aui-thread-welcome-suggestion"}),Bk=({suggestion:{text:e,prompt:t}})=>c.jsx(WF,{prompt:t,method:"replace",autoSend:!0,children:c.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),ig=()=>{const e=zn(r=>r.suggestions),{welcome:{suggestions:t}={}}=Re(),n=e.length?e:t;return c.jsx(VF,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return c.jsx(Bk,{suggestion:r},o)})})};ig.displayName="ThreadWelcomeSuggestions";var KF={Root:sg,Center:Dk,Avatar:Fk,Message:og,Suggestions:ig,Suggestion:Bk},qF=Object.assign(Lk,KF),zk=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=Re(),n=zn(r=>r.capabilities.edit);return t&&(!e||n)},$k=()=>zk(!0)?c.jsx(ag,{hideWhenRunning:!0,autohide:"not-last",children:c.jsx(lg,{})}):null;$k.displayName="UserActionBar";var ag=Ee(sm,{className:"aui-user-action-bar-root"});ag.displayName="UserActionBarRoot";var lg=f.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=Re(),r=zk();return c.jsx(Rj,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(oD,{})})})});lg.displayName="UserActionBarEdit";var GF={Root:ag,Edit:lg},Uk=Object.assign($k,GF),Hk=()=>c.jsxs(cg,{children:[c.jsx(Vk,{}),c.jsxs(Mr,{hasContent:!0,children:[c.jsx(Uk,{}),c.jsx(ug,{})]}),c.jsx(Wu,{})]});Hk.displayName="UserMessage";var cg=Ee(ym,{className:"aui-user-message-root"});cg.displayName="UserMessageRoot";var YF=Ee("div",{className:"aui-user-message-content"}),ug=f.forwardRef(({components:e,...t},n)=>c.jsx(YF,{...t,ref:n,children:c.jsx(xm,{components:{...e,Text:(e==null?void 0:e.Text)??ik.Text}})}));ug.displayName="UserMessageContent";var XF=Ee("div",{className:"aui-user-message-attachments"}),Vk=({components:e})=>c.jsx(Mr,{hasAttachments:!0,children:c.jsx(XF,{children:c.jsx(c0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??Ak}})})}),QF={Root:cg,Content:ug,Attachments:Vk},fc=Object.assign(Hk,QF),Wk=()=>c.jsxs(dg,{children:[c.jsx(fg,{}),c.jsxs(hg,{children:[c.jsx(pg,{}),c.jsx(mg,{})]})]});Wk.displayName="EditComposer";var dg=Ee(wm,{className:"aui-edit-composer-root"});dg.displayName="EditComposerRoot";var fg=Ee(_m,{className:"aui-edit-composer-input"});fg.displayName="EditComposerInput";var hg=Ee("div",{className:"aui-edit-composer-footer"});hg.displayName="EditComposerFooter";var pg=f.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=Re();return c.jsx(p0,{asChild:!0,children:c.jsx(Vu,{variant:"ghost",...e,ref:t,children:e.children??n})})});pg.displayName="EditComposerCancel";var mg=f.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=Re();return c.jsx(f0,{asChild:!0,children:c.jsx(Vu,{...e,ref:t,children:e.children??n})})});mg.displayName="EditComposerSend";var JF={Root:dg,Input:fg,Footer:hg,Cancel:pg,Send:mg},ZF=Object.assign(Wk,JF),eB=e=>{const{components:{Composer:t=$F,ThreadWelcome:n=qF,MessagesFooter:r,...s}={}}=e;return c.jsx(gg,{config:e,children:c.jsxs(yg,{children:[c.jsx(n,{}),c.jsx(xg,{MessagesFooter:r,components:s}),c.jsx(Kk,{}),c.jsxs(vg,{children:[c.jsx(wg,{}),c.jsx(t,{})]})]})})},tB=Ee(y0,{className:"aui-root aui-thread-root"}),gg=f.forwardRef(({config:e,...t},n)=>c.jsx(E0,{config:e,children:c.jsx(tB,{...t,ref:n})}));gg.displayName="ThreadRoot";var yg=Ee(w0,{className:"aui-thread-viewport"});yg.displayName="ThreadViewport";var vg=Ee("div",{className:"aui-thread-viewport-footer"});vg.displayName="ThreadViewportFooter";var xg=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>c.jsxs(c.Fragment,{children:[c.jsx(jL,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??fc,AssistantMessage:(e==null?void 0:e.AssistantMessage)??dc,EditComposer:(e==null?void 0:e.EditComposer)??ZF},...r}),t&&c.jsx(t,{}),n&&c.jsx(Ba,{empty:!1,children:c.jsx("div",{style:{flexGrow:1}})})]});xg.displayName="ThreadMessages";var Kk=()=>{const e=zn(t=>t.suggestions);return c.jsx(Ba,{empty:!1,running:!1,children:c.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>c.jsx(C0,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},nB=Ee(kt,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),wg=f.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=Re();return c.jsx(OL,{asChild:!0,children:c.jsx(nB,{tooltip:n,...e,ref:t,children:e.children??c.jsx($L,{})})})});wg.displayName="ThreadScrollToBottom";var rB={Root:gg,Viewport:yg,Messages:xg,FollowupSuggestions:Kk,ScrollToBottom:wg,ViewportFooter:vg},sB=Object.assign(eB,rB),oB=({copiedDuration:e=3e3}={})=>{const[t,n]=f.useState(!1);return{isCopied:t,copyToClipboard:s=>{s&&navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},iB=({language:e,code:t})=>{const{strings:{code:{header:{copy:{tooltip:n="Copy"}={}}={}}={}}={}}=Re(),{isCopied:r,copyToClipboard:s}=oB(),o=()=>{!t||r||s(t)};return c.jsxs("div",{className:"aui-code-header-root",children:[c.jsx("span",{className:"aui-code-header-language",children:e}),c.jsxs(kt,{tooltip:n,onClick:o,children:[!r&&c.jsx(R0,{}),r&&c.jsx(N0,{})]})]})};function aB(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uB={};function jx(e,t){return(uB.jsx?cB:lB).test(e)}const dB=/[ \t\n\f\r]/g;function fB(e){return typeof e=="object"?e.type==="text"?Mx(e.value):!1:Mx(e)}function Mx(e){return e.replace(dB,"")===""}class nl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}nl.prototype.normal={};nl.prototype.property={};nl.prototype.space=void 0;function qk(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new nl(n,r,t)}function Nh(e){return e.toLowerCase()}class Kt{constructor(t,n){this.attribute=n,this.property=t}}Kt.prototype.attribute="";Kt.prototype.booleanish=!1;Kt.prototype.boolean=!1;Kt.prototype.commaOrSpaceSeparated=!1;Kt.prototype.commaSeparated=!1;Kt.prototype.defined=!1;Kt.prototype.mustUseProperty=!1;Kt.prototype.number=!1;Kt.prototype.overloadedBoolean=!1;Kt.prototype.property="";Kt.prototype.spaceSeparated=!1;Kt.prototype.space=void 0;let hB=0;const ue=oo(),tt=oo(),Rh=oo(),z=oo(),Le=oo(),Yo=oo(),Qt=oo();function oo(){return 2**++hB}const Ih=Object.freeze(Object.defineProperty({__proto__:null,boolean:ue,booleanish:tt,commaOrSpaceSeparated:Qt,commaSeparated:Yo,number:z,overloadedBoolean:Rh,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),sf=Object.keys(Ih);class bg extends Kt{constructor(t,n,r,s){let o=-1;if(super(t,n),Ox(this,"space",s),typeof r=="number")for(;++o<sf.length;){const i=sf[o];Ox(this,sf[o],(r&Ih[i])===Ih[i])}}}bg.prototype.defined=!0;function Ox(e,t,n){n&&(e[t]=n)}function wi(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new bg(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Nh(r)]=r,n[Nh(o.attribute)]=r}return new nl(t,n,e.space)}const Gk=wi({properties:{ariaActiveDescendant:null,ariaAtomic:tt,ariaAutoComplete:null,ariaBusy:tt,ariaChecked:tt,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:tt,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:tt,ariaFlowTo:Le,ariaGrabbed:tt,ariaHasPopup:null,ariaHidden:tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:z,ariaLive:null,ariaModal:tt,ariaMultiLine:tt,ariaMultiSelectable:tt,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:tt,ariaReadOnly:tt,ariaRelevant:null,ariaRequired:tt,ariaRoleDescription:Le,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:tt,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Yk(e,t){return t in e?e[t]:t}function Xk(e,t){return Yk(e,t.toLowerCase())}const pB=wi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yo,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:ue,allowPaymentRequest:ue,allowUserMedia:ue,alt:null,as:null,async:ue,autoCapitalize:null,autoComplete:Le,autoFocus:ue,autoPlay:ue,blocking:Le,capture:null,charSet:null,checked:ue,cite:null,className:Le,cols:z,colSpan:null,content:null,contentEditable:tt,controls:ue,controlsList:Le,coords:z|Yo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ue,defer:ue,dir:null,dirName:null,disabled:ue,download:Rh,draggable:tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ue,formTarget:null,headers:Le,height:z,hidden:Rh,high:z,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:ue,inputMode:null,integrity:null,is:null,isMap:ue,itemId:null,itemProp:Le,itemRef:Le,itemScope:ue,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ue,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ue,muted:ue,name:null,nonce:null,noModule:ue,noValidate:ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ue,optimum:z,pattern:null,ping:Le,placeholder:null,playsInline:ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ue,referrerPolicy:null,rel:Le,required:ue,reversed:ue,rows:z,rowSpan:z,sandbox:Le,scope:null,scoped:ue,seamless:ue,selected:ue,shadowRootClonable:ue,shadowRootDelegatesFocus:ue,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ue,useMap:null,value:tt,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ue,declare:ue,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ue,noHref:ue,noShade:ue,noWrap:ue,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:tt,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ue,disableRemotePlayback:ue,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:Xk}),mB=wi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qt,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yo,g2:Yo,glyphName:Yo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Qt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qt,rev:Qt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qt,requiredFeatures:Qt,requiredFonts:Qt,requiredFormats:Qt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Qt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qt,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Yk}),Qk=wi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Jk=wi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Xk}),Zk=wi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),gB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yB=/[A-Z]/g,Lx=/-[a-z]/g,vB=/^data[-\w.:]+$/i;function xB(e,t){const n=Nh(t);let r=t,s=Kt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vB.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Lx,bB);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Lx.test(o)){let i=o.replace(yB,wB);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=bg}return new s(r,t)}function wB(e){return"-"+e.toLowerCase()}function bB(e){return e.charAt(1).toUpperCase()}const _B=qk([Gk,pB,Qk,Jk,Zk],"html"),_g=qk([Gk,mB,Qk,Jk,Zk],"svg");function SB(e){return e.join(" ").trim()}var Sg={},Dx=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,CB=/\n/g,kB=/^\s*/,EB=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,TB=/^:\s*/,NB=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,RB=/^[;\s]*/,IB=/^\s+|\s+$/g,PB=`
`,Fx="/",Bx="*",Fs="",AB="comment",jB="declaration";function MB(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(w){var y=w.match(CB);y&&(n+=y.length);var b=w.lastIndexOf(PB);r=~b?w.length-b:r+w.length}function o(){var w={line:n,column:r};return function(y){return y.position=new i(w),u(),y}}function i(w){this.start=w,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function a(w){var y=new Error(t.source+":"+n+":"+r+": "+w);if(y.reason=w,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(w){var y=w.exec(e);if(y){var b=y[0];return s(b),e=e.slice(b.length),y}}function u(){l(kB)}function d(w){var y;for(w=w||[];y=h();)y!==!1&&w.push(y);return w}function h(){var w=o();if(!(Fx!=e.charAt(0)||Bx!=e.charAt(1))){for(var y=2;Fs!=e.charAt(y)&&(Bx!=e.charAt(y)||Fx!=e.charAt(y+1));)++y;if(y+=2,Fs===e.charAt(y-1))return a("End of comment missing");var b=e.slice(2,y-2);return r+=2,s(b),e=e.slice(y),r+=2,w({type:AB,comment:b})}}function p(){var w=o(),y=l(EB);if(y){if(h(),!l(TB))return a("property missing ':'");var b=l(NB),g=w({type:jB,property:zx(y[0].replace(Dx,Fs)),value:b?zx(b[0].replace(Dx,Fs)):Fs});return l(RB),g}}function m(){var w=[];d(w);for(var y;y=p();)y!==!1&&(w.push(y),d(w));return w}return u(),m()}function zx(e){return e?e.replace(IB,Fs):Fs}var OB=MB,LB=yc&&yc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.default=FB;const DB=LB(OB);function FB(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,DB.default)(e),s=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:a}=o;s?t(i,a,o):a&&(n=n||{},n[i]=a)}),n}var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.camelCase=void 0;var BB=/^--[a-zA-Z0-9_-]+$/,zB=/-([a-z])/g,$B=/^[^-]+$/,UB=/^-(webkit|moz|ms|o|khtml)-/,HB=/^-(ms)-/,VB=function(e){return!e||$B.test(e)||BB.test(e)},WB=function(e,t){return t.toUpperCase()},$x=function(e,t){return"".concat(t,"-")},KB=function(e,t){return t===void 0&&(t={}),VB(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(HB,$x):e=e.replace(UB,$x),e.replace(zB,WB))};qu.camelCase=KB;var qB=yc&&yc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},GB=qB(Sg),YB=qu;function Ph(e,t){var n={};return!e||typeof e!="string"||(0,GB.default)(e,function(r,s){r&&s&&(n[(0,YB.camelCase)(r,t)]=s)}),n}Ph.default=Ph;var XB=Ph;const QB=fi(XB),e1=t1("end"),Cg=t1("start");function t1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function JB(e){const t=Cg(e),n=e1(e);if(t&&n)return{start:t,end:n}}function fa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ux(e.position):"start"in e||"end"in e?Ux(e):"line"in e||"column"in e?Ah(e):""}function Ah(e){return Hx(e&&e.line)+":"+Hx(e&&e.column)}function Ux(e){return Ah(e&&e.start)+"-"+Ah(e&&e.end)}function Hx(e){return e&&typeof e=="number"?e:1}class Et extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},i=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(i=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=fa(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Et.prototype.file="";Et.prototype.name="";Et.prototype.reason="";Et.prototype.message="";Et.prototype.stack="";Et.prototype.column=void 0;Et.prototype.line=void 0;Et.prototype.ancestors=void 0;Et.prototype.cause=void 0;Et.prototype.fatal=void 0;Et.prototype.place=void 0;Et.prototype.ruleId=void 0;Et.prototype.source=void 0;const kg={}.hasOwnProperty,ZB=new Map,ez=/[A-Z]/g,tz=new Set(["table","tbody","thead","tfoot","tr"]),nz=new Set(["td","th"]),n1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=uz(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_g:_B,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=r1(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function r1(e,t,n){if(t.type==="element")return sz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return oz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return az(e,t,n);if(t.type==="mdxjsEsm")return iz(e,t);if(t.type==="root")return lz(e,t,n);if(t.type==="text")return cz(e,t)}function sz(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=_g,e.schema=s),e.ancestors.push(t);const o=o1(e,t.tagName,!1),i=fz(e,t);let a=Tg(e,t);return tz.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!fB(l):!0})),s1(e,i,o,t),Eg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function oz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}$a(e,t.position)}function iz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$a(e,t.position)}function az(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=_g,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:o1(e,t.name,!0),i=hz(e,t),a=Tg(e,t);return s1(e,i,o,t),Eg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function lz(e,t,n){const r={};return Eg(r,Tg(e,t)),e.create(t,e.Fragment,r,n)}function cz(e,t){return t.value}function s1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Eg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function uz(e,t,n){return r;function r(s,o,i,a){const u=Array.isArray(i.children)?n:t;return a?u(o,i,a):u(o,i)}}function dz(e,t){return n;function n(r,s,o,i){const a=Array.isArray(o.children),l=Cg(r);return t(s,o,i,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function fz(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&kg.call(t.properties,s)){const o=pz(e,s,t.properties[s]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&i==="align"&&typeof a=="string"&&nz.has(t.tagName)?r=a:n[i]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const a=i.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else $a(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else $a(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function Tg(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:ZB;for(;++r<t.children.length;){const o=t.children[r];let i;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=s.get(l)||0;i=l+"-"+u,s.set(l,u+1)}}const a=r1(e,o,i);a!==void 0&&n.push(a)}return n}function pz(e,t,n){const r=xB(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?aB(n):SB(n)),r.property==="style"){let s=typeof n=="object"?n:mz(e,String(n));return e.stylePropertyNameCase==="css"&&(s=gz(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?gB[r.property]||r.property:r.attribute,n]}}function mz(e,t){try{return QB(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Et("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=n1+"#cannot-parse-style-attribute",s}}function o1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,i;for(;++o<s.length;){const a=jx(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};i=i?{type:"MemberExpression",object:i,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=i}else r=jx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return kg.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);$a(e)}function $a(e,t){const n=new Et("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=n1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gz(e){const t={};let n;for(n in e)kg.call(e,n)&&(t[yz(n)]=e[n]);return t}function yz(e){let t=e.replace(ez,vz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vz(e){return"-"+e.toLowerCase()}const of={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xz={};function wz(e,t){const n=xz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return i1(e,r,s)}function i1(e,t,n){if(bz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vx(e.children,t,n)}return Array.isArray(e)?Vx(e,t,n):""}function Vx(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=i1(e[s],t,n);return r.join("")}function bz(e){return!!(e&&typeof e=="object")}const Wx=document.createElement("i");function Ng(e){const t="&"+e+";";Wx.innerHTML=t;const n=Wx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ir(e,t,n,r){const s=e.length;let o=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function vn(e,t){return e.length>0?(ir(e,e.length,0,t),e):t}const Kx={}.hasOwnProperty;function _z(e){const t={};let n=-1;for(;++n<e.length;)Sz(t,e[n]);return t}function Sz(e,t){let n;for(n in t){const s=(Kx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){Kx.call(s,i)||(s[i]=[]);const a=o[i];Cz(s[i],Array.isArray(a)?a:a?[a]:[])}}}function Cz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ir(e,0,0,r)}function a1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Xo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zn=Es(/[A-Za-z]/),nn=Es(/[\dA-Za-z]/),kz=Es(/[#-'*+\--9=?A-Z^-~]/);function jh(e){return e!==null&&(e<32||e===127)}const Mh=Es(/\d/),Ez=Es(/[\dA-Fa-f]/),Tz=Es(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function Wt(e){return e!==null&&(e<0||e===32)}function Ie(e){return e===-2||e===-1||e===32}const Nz=Es(new RegExp("\\p{P}|\\p{S}","u")),Rz=Es(/\s/);function Es(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function bi(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let i="";if(o===37&&nn(e.charCodeAt(n+1))&&nn(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(i=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(i=String.fromCharCode(o,a),s=1):i=""}else i=String.fromCharCode(o);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return i;function i(l){return Ie(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ie(l)&&o++<s?(e.consume(l),a):(e.exit(n),t(l))}}const Iz={tokenize:Pz};function Pz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,i(a)}function i(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return le(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),i)}}const Az={tokenize:jz},qx={tokenize:Mz};function jz(e){const t=this,n=[];let r=0,s,o,i;return a;function a(x){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const C=t.events.length;let R=C,k;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){k=t.events[R][1].end;break}g(r);let N=C;for(;N<t.events.length;)t.events[N][1].end={...k},N++;return ir(t.events,R+1,0,t.events.slice(C)),t.events.length=N,u(x)}return a(x)}function u(x){if(r===n.length){if(!s)return p(x);if(s.currentConstruct&&s.currentConstruct.concrete)return w(x);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qx,d,h)(x)}function d(x){return s&&v(),g(r),p(x)}function h(x){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,w(x)}function p(x){return t.containerState={},e.attempt(qx,m,w)(x)}function m(x){return r++,n.push([t.currentConstruct,t.containerState]),p(x)}function w(x){if(x===null){s&&v(),g(0),e.consume(x);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),y(x)}function y(x){if(x===null){b(e.exit("chunkFlow"),!0),g(0),e.consume(x);return}return le(x)?(e.consume(x),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),y)}function b(x,C){const R=t.sliceStream(x);if(C&&R.push(null),x.previous=o,o&&(o.next=x),o=x,s.defineSkip(x.start),s.write(R),t.parser.lazy[x.start.line]){let k=s.events.length;for(;k--;)if(s.events[k][1].start.offset<i&&(!s.events[k][1].end||s.events[k][1].end.offset>i))return;const N=t.events.length;let I=N,M,A;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){A=t.events[I][1].end;break}M=!0}for(g(r),k=N;k<t.events.length;)t.events[k][1].end={...A},k++;ir(t.events,I+1,0,t.events.slice(N)),t.events.length=k}}function g(x){let C=n.length;for(;C-- >x;){const R=n[C];t.containerState=R[1],R[0].exit.call(t,e)}n.length=x}function v(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Mz(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gx(e){if(e===null||Wt(e)||Rz(e))return 1;if(Nz(e))return 2}function Rg(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Oh={name:"attention",resolveAll:Oz,tokenize:Lz};function Oz(e,t){let n=-1,r,s,o,i,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};Yx(h,-l),Yx(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[r][1].end={...i.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=vn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=vn(u,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",o,t]]),u=vn(u,Rg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=vn(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=vn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ir(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Lz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Gx(r);let o;return i;function i(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=Gx(l),h=!d||d===2&&s||n.includes(l),p=!s||s===2&&d||n.includes(r);return u._open=!!(o===42?h:h&&(s||!p)),u._close=!!(o===42?p:p&&(d||!h)),t(l)}}function Yx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Dz={name:"autolink",tokenize:Fz};function Fz(e,t,n){let r=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Zn(m)?(e.consume(m),i):m===64?n(m):u(m)}function i(m){return m===43||m===45||m===46||nn(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||nn(m))&&r++<32?(e.consume(m),a):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||jh(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):kz(m)?(e.consume(m),u):n(m)}function d(m){return nn(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||nn(m))&&r++<63){const w=m===45?p:h;return e.consume(m),w}return n(m)}}const Gu={partial:!0,tokenize:Bz};function Bz(e,t,n){return r;function r(o){return Ie(o)?Fe(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||le(o)?t(o):n(o)}}const l1={continuation:{tokenize:$z},exit:Uz,name:"blockQuote",tokenize:zz};function zz(e,t,n){const r=this;return s;function s(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)}function o(i){return Ie(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function $z(e,t,n){const r=this;return s;function s(i){return Ie(i)?Fe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)}function o(i){return e.attempt(l1,t,n)(i)}}function Uz(e){e.exit("blockQuote")}const c1={name:"characterEscape",tokenize:Hz};function Hz(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return Tz(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const u1={name:"characterReference",tokenize:Vz};function Vz(e,t,n){const r=this;let s=0,o,i;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,i=nn,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Ez,d):(e.enter("characterReferenceValue"),o=7,i=Mh,d(h))}function d(h){if(h===59&&s){const p=e.exit("characterReferenceValue");return i===nn&&!Ng(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(h)&&s++<o?(e.consume(h),d):n(h)}}const Xx={partial:!0,tokenize:Kz},Qx={concrete:!0,name:"codeFenced",tokenize:Wz};function Wz(e,t,n){const r=this,s={partial:!0,tokenize:R};let o=0,i=0,a;return l;function l(k){return u(k)}function u(k){const N=r.events[r.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===a?(i++,e.consume(k),d):i<3?n(k):(e.exit("codeFencedFenceSequence"),Ie(k)?Fe(e,h,"whitespace")(k):h(k))}function h(k){return k===null||le(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(Xx,y,C)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Ie(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,m,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),p)}function m(k){return k===null||le(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(e.consume(k),w)}function y(k){return e.attempt(s,C,b)(k)}function b(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g}function g(k){return o>0&&Ie(k)?Fe(e,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||le(k)?e.check(Xx,y,C)(k):(e.enter("codeFlowValue"),x(k))}function x(k){return k===null||le(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),x)}function C(k){return e.exit("codeFenced"),t(k)}function R(k,N,I){let M=0;return A;function A(q){return k.enter("lineEnding"),k.consume(q),k.exit("lineEnding"),L}function L(q){return k.enter("codeFencedFence"),Ie(q)?Fe(k,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):E(q)}function E(q){return q===a?(k.enter("codeFencedFenceSequence"),W(q)):I(q)}function W(q){return q===a?(M++,k.consume(q),W):M>=i?(k.exit("codeFencedFenceSequence"),Ie(q)?Fe(k,U,"whitespace")(q):U(q)):I(q)}function U(q){return q===null||le(q)?(k.exit("codeFencedFence"),N(q)):I(q)}}}function Kz(e,t,n){const r=this;return s;function s(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const af={name:"codeIndented",tokenize:Gz},qz={partial:!0,tokenize:Yz};function Gz(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),Fe(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?l(u):le(u)?e.attempt(qz,i,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||le(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Yz(e,t,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):Fe(e,o,"linePrefix",5)(i)}function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):le(i)?s(i):n(i)}}const Xz={name:"codeText",previous:Jz,resolve:Qz,tokenize:Zz};function Qz(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function Jz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zz(e,t,n){let r=0,s,o;return i;function i(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),s=0,d(h)):le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||le(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",u(h))}}class e3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Ui(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ui(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ui(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ui(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ui(this.left,n.reverse())}}}function Ui(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function d1(e){const t={};let n=-1,r,s,o,i,a,l,u;const d=new e3(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,t3(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(i=d.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=o);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},a=d.slice(s,n),a.unshift(r),d.splice(s,n-s+1,a))}}return ir(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function t3(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const a=i.events,l=[],u={};let d,h,p=-1,m=n,w=0,y=0;const b=[y];for(;m;){for(;e.get(++s)[1]!==m;);o.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const g=a.slice(b[p],b[p+1]),v=o.pop();l.push([v,v+g.length-1]),e.splice(v,2,g)}for(l.reverse(),p=-1;++p<l.length;)u[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return u}const n3={resolve:s3,tokenize:o3},r3={partial:!0,tokenize:i3};function s3(e){return d1(e),e}function o3(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?o(a):le(a)?e.check(r3,i,o)(a):(e.consume(a),s)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function i3(e,t,n){const r=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Fe(e,o,"linePrefix")}function o(i){if(i===null||le(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function f1(e,t,n,r,s,o,i,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(g){return g===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(g),e.exit(o),p):g===null||g===32||g===41||jh(g)?n(g):(e.enter(r),e.enter(i),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(a),p(g)):g===null||g===60||le(g)?n(g):(e.consume(g),g===92?w:m)}function w(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Wt(g))?(e.exit("chunkString"),e.exit(a),e.exit(i),e.exit(r),t(g)):d<u&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||jh(g)?n(g):(e.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function h1(e,t,n,r,s,o){const i=this;let a=0,l;return u;function u(m){return e.enter(r),e.enter(s),e.consume(m),e.exit(s),e.enter(o),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in i.parser.constructs?n(m):m===93?(e.exit(o),e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):le(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||le(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Ie(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}}function p1(e,t,n,r,s,o){let i;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(s),e.consume(p),e.exit(s),i=p===40?41:p,l):n(p)}function l(p){return p===i?(e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):(e.enter(o),u(p))}function u(p){return p===i?(e.exit(o),l(i)):p===null?n(p):le(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===i||p===null||le(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:d)}function h(p){return p===i||p===92?(e.consume(p),d):d(p)}}function ha(e,t){let n;return r;function r(s){return le(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Ie(s)?Fe(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const a3={name:"definition",tokenize:c3},l3={partial:!0,tokenize:u3};function c3(e,t,n){const r=this;let s;return o;function o(m){return e.enter("definition"),i(m)}function i(m){return h1.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return s=Xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Wt(m)?ha(e,u)(m):u(m)}function u(m){return f1(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(l3,h,h)(m)}function h(m){return Ie(m)?Fe(e,p,"whitespace")(m):p(m)}function p(m){return m===null||le(m)?(e.exit("definition"),r.parser.defined.push(s),t(m)):n(m)}}function u3(e,t,n){return r;function r(a){return Wt(a)?ha(e,s)(a):n(a)}function s(a){return p1(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ie(a)?Fe(e,i,"whitespace")(a):i(a)}function i(a){return a===null||le(a)?t(a):n(a)}}const d3={name:"hardBreakEscape",tokenize:f3};function f3(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const h3={name:"headingAtx",resolve:p3,tokenize:m3};function p3(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ir(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function m3(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Wt(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||le(d)?(e.exit("atxHeading"),t(d)):Ie(d)?Fe(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Wt(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const g3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Jx=["pre","script","style","textarea"],y3={concrete:!0,name:"htmlFlow",resolveTo:w3,tokenize:b3},v3={partial:!0,tokenize:S3},x3={partial:!0,tokenize:_3};function w3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function b3(e,t,n){const r=this;let s,o,i,a,l;return u;function u(T){return d(T)}function d(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),h}function h(T){return T===33?(e.consume(T),p):T===47?(e.consume(T),o=!0,y):T===63?(e.consume(T),s=3,r.interrupt?t:S):Zn(T)?(e.consume(T),i=String.fromCharCode(T),b):n(T)}function p(T){return T===45?(e.consume(T),s=2,m):T===91?(e.consume(T),s=5,a=0,w):Zn(T)?(e.consume(T),s=4,r.interrupt?t:S):n(T)}function m(T){return T===45?(e.consume(T),r.interrupt?t:S):n(T)}function w(T){const Pe="CDATA[";return T===Pe.charCodeAt(a++)?(e.consume(T),a===Pe.length?r.interrupt?t:E:w):n(T)}function y(T){return Zn(T)?(e.consume(T),i=String.fromCharCode(T),b):n(T)}function b(T){if(T===null||T===47||T===62||Wt(T)){const Pe=T===47,Xe=i.toLowerCase();return!Pe&&!o&&Jx.includes(Xe)?(s=1,r.interrupt?t(T):E(T)):g3.includes(i.toLowerCase())?(s=6,Pe?(e.consume(T),g):r.interrupt?t(T):E(T)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):o?v(T):x(T))}return T===45||nn(T)?(e.consume(T),i+=String.fromCharCode(T),b):n(T)}function g(T){return T===62?(e.consume(T),r.interrupt?t:E):n(T)}function v(T){return Ie(T)?(e.consume(T),v):A(T)}function x(T){return T===47?(e.consume(T),A):T===58||T===95||Zn(T)?(e.consume(T),C):Ie(T)?(e.consume(T),x):A(T)}function C(T){return T===45||T===46||T===58||T===95||nn(T)?(e.consume(T),C):R(T)}function R(T){return T===61?(e.consume(T),k):Ie(T)?(e.consume(T),R):x(T)}function k(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),l=T,N):Ie(T)?(e.consume(T),k):I(T)}function N(T){return T===l?(e.consume(T),l=null,M):T===null||le(T)?n(T):(e.consume(T),N)}function I(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Wt(T)?R(T):(e.consume(T),I)}function M(T){return T===47||T===62||Ie(T)?x(T):n(T)}function A(T){return T===62?(e.consume(T),L):n(T)}function L(T){return T===null||le(T)?E(T):Ie(T)?(e.consume(T),L):n(T)}function E(T){return T===45&&s===2?(e.consume(T),K):T===60&&s===1?(e.consume(T),Q):T===62&&s===4?(e.consume(T),oe):T===63&&s===3?(e.consume(T),S):T===93&&s===5?(e.consume(T),$):le(T)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(v3,pe,W)(T)):T===null||le(T)?(e.exit("htmlFlowData"),W(T)):(e.consume(T),E)}function W(T){return e.check(x3,U,pe)(T)}function U(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),q}function q(T){return T===null||le(T)?W(T):(e.enter("htmlFlowData"),E(T))}function K(T){return T===45?(e.consume(T),S):E(T)}function Q(T){return T===47?(e.consume(T),i="",j):E(T)}function j(T){if(T===62){const Pe=i.toLowerCase();return Jx.includes(Pe)?(e.consume(T),oe):E(T)}return Zn(T)&&i.length<8?(e.consume(T),i+=String.fromCharCode(T),j):E(T)}function $(T){return T===93?(e.consume(T),S):E(T)}function S(T){return T===62?(e.consume(T),oe):T===45&&s===2?(e.consume(T),S):E(T)}function oe(T){return T===null||le(T)?(e.exit("htmlFlowData"),pe(T)):(e.consume(T),oe)}function pe(T){return e.exit("htmlFlow"),t(T)}}function _3(e,t,n){const r=this;return s;function s(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function S3(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Gu,t,n)}}const C3={name:"htmlText",tokenize:k3};function k3(e,t,n){const r=this;let s,o,i;return a;function a(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),R):S===63?(e.consume(S),x):Zn(S)?(e.consume(S),I):n(S)}function u(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),o=0,w):Zn(S)?(e.consume(S),v):n(S)}function d(S){return S===45?(e.consume(S),m):n(S)}function h(S){return S===null?n(S):S===45?(e.consume(S),p):le(S)?(i=h,Q(S)):(e.consume(S),h)}function p(S){return S===45?(e.consume(S),m):h(S)}function m(S){return S===62?K(S):S===45?p(S):h(S)}function w(S){const oe="CDATA[";return S===oe.charCodeAt(o++)?(e.consume(S),o===oe.length?y:w):n(S)}function y(S){return S===null?n(S):S===93?(e.consume(S),b):le(S)?(i=y,Q(S)):(e.consume(S),y)}function b(S){return S===93?(e.consume(S),g):y(S)}function g(S){return S===62?K(S):S===93?(e.consume(S),g):y(S)}function v(S){return S===null||S===62?K(S):le(S)?(i=v,Q(S)):(e.consume(S),v)}function x(S){return S===null?n(S):S===63?(e.consume(S),C):le(S)?(i=x,Q(S)):(e.consume(S),x)}function C(S){return S===62?K(S):x(S)}function R(S){return Zn(S)?(e.consume(S),k):n(S)}function k(S){return S===45||nn(S)?(e.consume(S),k):N(S)}function N(S){return le(S)?(i=N,Q(S)):Ie(S)?(e.consume(S),N):K(S)}function I(S){return S===45||nn(S)?(e.consume(S),I):S===47||S===62||Wt(S)?M(S):n(S)}function M(S){return S===47?(e.consume(S),K):S===58||S===95||Zn(S)?(e.consume(S),A):le(S)?(i=M,Q(S)):Ie(S)?(e.consume(S),M):K(S)}function A(S){return S===45||S===46||S===58||S===95||nn(S)?(e.consume(S),A):L(S)}function L(S){return S===61?(e.consume(S),E):le(S)?(i=L,Q(S)):Ie(S)?(e.consume(S),L):M(S)}function E(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),s=S,W):le(S)?(i=E,Q(S)):Ie(S)?(e.consume(S),E):(e.consume(S),U)}function W(S){return S===s?(e.consume(S),s=void 0,q):S===null?n(S):le(S)?(i=W,Q(S)):(e.consume(S),W)}function U(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||Wt(S)?M(S):(e.consume(S),U)}function q(S){return S===47||S===62||Wt(S)?M(S):n(S)}function K(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function Q(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),j}function j(S){return Ie(S)?Fe(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):$(S)}function $(S){return e.enter("htmlTextData"),i(S)}}const Ig={name:"labelEnd",resolveAll:R3,resolveTo:I3,tokenize:P3},E3={tokenize:A3},T3={tokenize:j3},N3={tokenize:M3};function R3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&ir(e,0,e.length,n),e}function I3(e,t){let n=e.length,r=0,s,o,i,a;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=vn(a,e.slice(o+1,o+r+3)),a=vn(a,[["enter",d,t]]),a=vn(a,Rg(t.parser.constructs.insideSpan.null,e.slice(o+r+4,i-3),t)),a=vn(a,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),a=vn(a,e.slice(i+1)),a=vn(a,[["exit",l,t]]),ir(e,o,e.length,a),e}function P3(e,t,n){const r=this;let s=r.events.length,o,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return a;function a(p){return o?o._inactive?h(p):(i=r.parser.defined.includes(Xo(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(E3,d,i?d:h)(p):p===91?e.attempt(T3,d,i?u:h)(p):i?d(p):h(p)}function u(p){return e.attempt(N3,d,h)(p)}function d(p){return t(p)}function h(p){return o._balanced=!0,n(p)}}function A3(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Wt(h)?ha(e,o)(h):o(h)}function o(h){return h===41?d(h):f1(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function i(h){return Wt(h)?ha(e,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?p1(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Wt(h)?ha(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function j3(e,t,n){const r=this;return s;function s(a){return h1.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}function M3(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const O3={name:"labelStartImage",resolveAll:Ig.resolveAll,tokenize:L3};function L3(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const D3={name:"labelStartLink",resolveAll:Ig.resolveAll,tokenize:F3};function F3(e,t,n){const r=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o}function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const lf={name:"lineEnding",tokenize:B3};function B3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const hc={name:"thematicBreak",tokenize:z3};function z3(e,t,n){let r=0,s;return o;function o(u){return e.enter("thematicBreak"),i(u)}function i(u){return s=u,a(u)}function a(u){return u===s?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===s?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ie(u)?Fe(e,a,"whitespace")(u):a(u))}}const Bt={continuation:{tokenize:V3},exit:K3,name:"list",tokenize:H3},$3={partial:!0,tokenize:q3},U3={partial:!0,tokenize:W3};function H3(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return a;function a(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Mh(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(hc,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Mh(m)&&++i<10?(e.consume(m),l):(!r.interrupt||i<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Gu,r.interrupt?n:d,e.attempt($3,p,h))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function h(m){return Ie(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function V3(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Gu,s,o);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ie(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(U3,t,i)(a))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(Bt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function W3(e,t,n){const r=this;return Fe(e,s,"listItemIndent",r.containerState.size+1);function s(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)}}function K3(e){e.exit(this.containerState.type)}function q3(e,t,n){const r=this;return Fe(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const i=r.events[r.events.length-1];return!Ie(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Zx={name:"setextUnderline",resolveTo:G3,tokenize:Y3};function G3(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",i,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function Y3(e,t,n){const r=this;let s;return o;function o(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===s?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Ie(u)?Fe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const X3={tokenize:Q3};function Q3(e){const t=this,n=e.attempt(Gu,r,e.attempt(this.parser.constructs.flowInitial,s,Fe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(n3,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const J3={resolveAll:g1()},Z3=m1("string"),e$=m1("text");function m1(e){return{resolveAll:g1(e==="text"?t$:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,i,a);return i;function i(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=s[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function g1(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function t$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,i=-1,a=0,l;for(;o--;){const u=s[o];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)a++,i--;if(i)break;i=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?i:r.start._bufferIndex+i,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const n$={42:Bt,43:Bt,45:Bt,48:Bt,49:Bt,50:Bt,51:Bt,52:Bt,53:Bt,54:Bt,55:Bt,56:Bt,57:Bt,62:l1},r$={91:a3},s$={[-2]:af,[-1]:af,32:af},o$={35:h3,42:hc,45:[Zx,hc],60:y3,61:Zx,95:hc,96:Qx,126:Qx},i$={38:u1,92:c1},a$={[-5]:lf,[-4]:lf,[-3]:lf,33:O3,38:u1,42:Oh,60:[Dz,C3],91:D3,92:[d3,c1],93:Ig,95:Oh,96:Xz},l$={null:[Oh,J3]},c$={null:[42,95]},u$={null:[]},d$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:c$,contentInitial:r$,disable:u$,document:n$,flow:o$,flowInitial:s$,insideSpan:l$,string:i$,text:a$},Symbol.toStringTag,{value:"Module"}));function f$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let i=[],a=[];const l={attempt:N(R),check:N(k),consume:v,enter:x,exit:C,interrupt:N(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function h(L){return i=vn(i,L),b(),i[i.length-1]!==null?[]:(I(t,0),u.events=Rg(o,u.events,u),u.events)}function p(L,E){return p$(m(L),E)}function m(L){return h$(i,L)}function w(){const{_bufferIndex:L,_index:E,line:W,column:U,offset:q}=r;return{_bufferIndex:L,_index:E,line:W,column:U,offset:q}}function y(L){s[L.line]=L.column,A()}function b(){let L;for(;r._index<i.length;){const E=i[r._index];if(typeof E=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<E.length;)g(E.charCodeAt(r._bufferIndex));else g(E)}}function g(L){d=d(L)}function v(L){le(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,A()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function x(L,E){const W=E||{};return W.type=L,W.start=w(),u.events.push(["enter",W,u]),a.push(W),W}function C(L){const E=a.pop();return E.end=w(),u.events.push(["exit",E,u]),E}function R(L,E){I(L,E.from)}function k(L,E){E.restore()}function N(L,E){return W;function W(U,q,K){let Q,j,$,S;return Array.isArray(U)?pe(U):"tokenize"in U?pe([U]):oe(U);function oe(we){return J;function J(me){const Oe=me!==null&&we[me],be=me!==null&&we.null,ge=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(be)?be:be?[be]:[]];return pe(ge)(me)}}function pe(we){return Q=we,j=0,we.length===0?K:T(we[j])}function T(we){return J;function J(me){return S=M(),$=we,we.partial||(u.currentConstruct=we),we.name&&u.parser.constructs.disable.null.includes(we.name)?Xe():we.tokenize.call(E?Object.assign(Object.create(u),E):u,l,Pe,Xe)(me)}}function Pe(we){return L($,S),q}function Xe(we){return S.restore(),++j<Q.length?T(Q[j]):K}}}function I(L,E){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&ir(u.events,E,u.events.length-E,L.resolve(u.events.slice(E),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function M(){const L=w(),E=u.previous,W=u.currentConstruct,U=u.events.length,q=Array.from(a);return{from:U,restore:K};function K(){r=L,u.previous=E,u.currentConstruct=W,u.events.length=U,a=q,A()}}function A(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function h$(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,o)];else{if(i=e.slice(n,s),r>-1){const a=i[0];typeof a=="string"?i[0]=a.slice(r):i.shift()}o>0&&i.push(e[s].slice(0,o))}return i}function p$(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let i;if(typeof o=="string")i=o;else switch(o){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(o)}s=o===-2,r.push(i)}return r.join("")}function m$(e){const r={constructs:_z([d$,...(e||{}).extensions||[]]),content:s(Iz),defined:[],document:s(Az),flow:s(X3),lazy:{},string:s(Z3),text:s(e$)};return r;function s(o){return i;function i(a){return f$(r,o,a)}}}function g$(e){for(;!d1(e););return e}const ew=/[\0\t\n\r]/g;function y$(){let e=1,t="",n=!0,r;return s;function s(o,i,a){const l=[];let u,d,h,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(i||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(ew.lastIndex=h,u=ew.exec(o),p=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(p),!u){t=o.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(o.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const v$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function x$(e){return e.replace(v$,w$)}function w$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return a1(n.slice(o?2:1),o?16:10)}return Ng(n)||e}const y1={}.hasOwnProperty;function b$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_$(n)(g$(m$(n).document().write(y$()(e,t,!0))))}function _$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Vn),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(qt),blockQuote:o(be),characterEscape:M,characterReference:M,codeFenced:o(ge),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(ge,i),codeText:o(Te,i),codeTextData:M,data:M,codeFlowValue:M,definition:o(lt),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o(Lt),hardBreakEscape:o(Cn),hardBreakTrailing:o(Cn),htmlFlow:o(Hn,i),htmlFlowData:M,htmlText:o(Hn,i),htmlTextData:M,image:o(Is),label:i,link:o(Vn),listItem:o(od),listItemValue:p,listOrdered:o(Ci,h),listUnordered:o(Ci),paragraph:o(fr),reference:T,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(qt),strong:o(ki),thematicBreak:o(id)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:Oe,autolinkProtocol:me,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Xe,characterReferenceMarkerNumeric:Xe,characterReferenceValue:we,characterReference:J,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:A,codeIndented:l(g),codeText:l(q),codeTextData:A,data:A,definition:l(),definitionDestinationString:C,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(W),htmlFlowData:A,htmlText:l(U),htmlTextData:A,image:l(Q),label:$,labelText:j,lineEnding:L,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Pe,resourceDestinationString:S,resourceTitleString:oe,resource:pe,setextHeading:l(I),setextHeadingLineSequence:N,setextHeadingText:k,strong:l(),thematicBreak:l()}};v1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(O){let F={type:"root",children:[]};const ie={stack:[F],tokenStack:[],config:t,enter:a,exit:u,buffer:i,resume:d,data:n},de=[];let Ae=-1;for(;++Ae<O.length;)if(O[Ae][1].type==="listOrdered"||O[Ae][1].type==="listUnordered")if(O[Ae][0]==="enter")de.push(Ae);else{const Gt=de.pop();Ae=s(O,Gt,Ae)}for(Ae=-1;++Ae<O.length;){const Gt=t[O[Ae][0]];y1.call(Gt,O[Ae][1].type)&&Gt[O[Ae][1].type].call(Object.assign({sliceSerialize:O[Ae][2].sliceSerialize},ie),O[Ae][1])}if(ie.tokenStack.length>0){const Gt=ie.tokenStack[ie.tokenStack.length-1];(Gt[1]||tw).call(ie,void 0,Gt[0])}for(F.position={start:Kr(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:Kr(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<t.transforms.length;)F=t.transforms[Ae](F)||F;return F}function s(O,F,ie){let de=F-1,Ae=-1,Gt=!1,Wn,Yt,Fr,hr;for(;++de<=ie;){const yt=O[de];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Ae++:Ae--,hr=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(Wn&&!hr&&!Ae&&!Fr&&(Fr=de),hr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hr=void 0}if(!Ae&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Ae===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(Wn){let pr=de;for(Yt=void 0;pr--;){const Nt=O[pr];if(Nt[1].type==="lineEnding"||Nt[1].type==="lineEndingBlank"){if(Nt[0]==="exit")continue;Yt&&(O[Yt][1].type="lineEndingBlank",Gt=!0),Nt[1].type="lineEnding",Yt=pr}else if(!(Nt[1].type==="linePrefix"||Nt[1].type==="blockQuotePrefix"||Nt[1].type==="blockQuotePrefixWhitespace"||Nt[1].type==="blockQuoteMarker"||Nt[1].type==="listItemIndent"))break}Fr&&(!Yt||Fr<Yt)&&(Wn._spread=!0),Wn.end=Object.assign({},Yt?O[Yt][1].start:yt[1].end),O.splice(Yt||de,0,["exit",Wn,yt[2]]),de++,ie++}if(yt[1].type==="listItemPrefix"){const pr={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};Wn=pr,O.splice(de,0,["enter",pr,yt[2]]),de++,ie++,Fr=void 0,hr=!0}}}return O[F][1]._spread=Gt,ie}function o(O,F){return ie;function ie(de){a.call(this,O(de),de),F&&F.call(this,de)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(O,F,ie){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([F,ie||void 0]),O.position={start:Kr(F.start),end:void 0}}function l(O){return F;function F(ie){O&&O.call(this,ie),u.call(this,ie)}}function u(O,F){const ie=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==O.type&&(F?F.call(this,O,de[0]):(de[1]||tw).call(this,O,de[0]));else throw new Error("Cannot close `"+O.type+"` ("+fa({start:O.start,end:O.end})+"): its not open");ie.position.end=Kr(O.end)}function d(){return wz(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(O){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function m(){const O=this.resume(),F=this.stack[this.stack.length-1];F.lang=O}function w(){const O=this.resume(),F=this.stack[this.stack.length-1];F.meta=O}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O.replace(/(\r?\n|\r)$/g,"")}function v(O){const F=this.resume(),ie=this.stack[this.stack.length-1];ie.label=F,ie.identifier=Xo(this.sliceSerialize(O)).toLowerCase()}function x(){const O=this.resume(),F=this.stack[this.stack.length-1];F.title=O}function C(){const O=this.resume(),F=this.stack[this.stack.length-1];F.url=O}function R(O){const F=this.stack[this.stack.length-1];if(!F.depth){const ie=this.sliceSerialize(O).length;F.depth=ie}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function N(O){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(O){const ie=this.stack[this.stack.length-1].children;let de=ie[ie.length-1];(!de||de.type!=="text")&&(de=sl(),de.position={start:Kr(O.start),end:void 0},ie.push(de)),this.stack.push(de)}function A(O){const F=this.stack.pop();F.value+=this.sliceSerialize(O),F.position.end=Kr(O.end)}function L(O){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=F.children[F.children.length-1];ie.position.end=Kr(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(F.type)&&(M.call(this,O),A.call(this,O))}function E(){this.data.atHardBreak=!0}function W(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function U(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function q(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function K(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=F,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function Q(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=F,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function j(O){const F=this.sliceSerialize(O),ie=this.stack[this.stack.length-2];ie.label=x$(F),ie.identifier=Xo(F).toLowerCase()}function $(){const O=this.stack[this.stack.length-1],F=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const de=O.children;ie.children=de}else ie.alt=F}function S(){const O=this.resume(),F=this.stack[this.stack.length-1];F.url=O}function oe(){const O=this.resume(),F=this.stack[this.stack.length-1];F.title=O}function pe(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Pe(O){const F=this.resume(),ie=this.stack[this.stack.length-1];ie.label=F,ie.identifier=Xo(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Xe(O){this.data.characterReferenceType=O.type}function we(O){const F=this.sliceSerialize(O),ie=this.data.characterReferenceType;let de;ie?(de=a1(F,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=Ng(F);const Ae=this.stack[this.stack.length-1];Ae.value+=de}function J(O){const F=this.stack.pop();F.position.end=Kr(O.end)}function me(O){A.call(this,O);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(O)}function Oe(O){A.call(this,O);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(O)}function be(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Lt(){return{type:"emphasis",children:[]}}function qt(){return{type:"heading",depth:0,children:[]}}function Cn(){return{type:"break"}}function Hn(){return{type:"html",value:""}}function Is(){return{type:"image",title:null,url:"",alt:null}}function Vn(){return{type:"link",title:null,url:"",children:[]}}function Ci(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function od(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function fr(){return{type:"paragraph",children:[]}}function ki(){return{type:"strong",children:[]}}function sl(){return{type:"text",value:""}}function id(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function v1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?v1(e,r):S$(e,r)}}function S$(e,t){let n;for(n in t)if(y1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function tw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fa({start:t.start,end:t.end})+") is still open")}function C$(e){const t=this;t.parser=n;function n(r){return b$(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function k$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function E$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function T$(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function N$(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function R$(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I$(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=bi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let i,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function P$(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A$(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function x1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function j$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return x1(e,t);const s={src:bi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function M$(e,t){const n={src:bi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function O$(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function L$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return x1(e,t);const s={href:bi(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function D$(e,t){const n={href:bi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function F$(e,t,n){const r=e.all(t),s=n?B$(n):w1(t),o={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(s||a!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:i};return e.patch(t,u),e.applyData(t,u)}function B$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=w1(n[r])}return t}function w1(e){const t=e.spread;return t??e.children.length>1}function z$(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function $$(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U$(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function H$(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V$(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Cg(t.children[1]),l=e1(t.children[t.children.length-1]);a&&l&&(i.position={start:a,end:l}),s.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function W$(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],p={},m=i?i[l]:void 0;m&&(p.align=m);let w={type:"element",tagName:o,properties:p,children:[]};h&&(w.children=e.all(h),e.patch(h,w),w=e.applyData(h,w)),u.push(w)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function K$(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const nw=9,rw=32;function q$(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(sw(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(sw(t.slice(s),s>0,!1)),o.join("")}function sw(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===nw||o===rw;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===nw||o===rw;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function G$(e,t){const n={type:"text",value:q$(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Y$(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const X$={blockquote:k$,break:E$,code:T$,delete:N$,emphasis:R$,footnoteReference:I$,heading:P$,html:A$,imageReference:j$,image:M$,inlineCode:O$,linkReference:L$,link:D$,listItem:F$,list:z$,paragraph:$$,root:U$,strong:H$,table:V$,tableCell:K$,tableRow:W$,text:G$,thematicBreak:Y$,toml:zl,yaml:zl,definition:zl,footnoteDefinition:zl};function zl(){}const b1=-1,Yu=0,pa=1,tu=2,Pg=3,Ag=4,jg=5,Mg=6,_1=7,S1=8,ow=typeof self=="object"?self:globalThis,Q$=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,i]=t[s];switch(o){case Yu:case b1:return n(i,s);case pa:{const a=n([],s);for(const l of i)a.push(r(l));return a}case tu:{const a=n({},s);for(const[l,u]of i)a[r(l)]=r(u);return a}case Pg:return n(new Date(i),s);case Ag:{const{source:a,flags:l}=i;return n(new RegExp(a,l),s)}case jg:{const a=n(new Map,s);for(const[l,u]of i)a.set(r(l),r(u));return a}case Mg:{const a=n(new Set,s);for(const l of i)a.add(r(l));return a}case _1:{const{name:a,message:l}=i;return n(new ow[a](l),s)}case S1:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:a}=new Uint8Array(i);return n(new DataView(a),i)}}return n(new ow[o](i),s)};return r},iw=e=>Q$(new Map,e)(0),bo="",{toString:J$}={},{keys:Z$}=Object,Hi=e=>{const t=typeof e;if(t!=="object"||!e)return[Yu,t];const n=J$.call(e).slice(8,-1);switch(n){case"Array":return[pa,bo];case"Object":return[tu,bo];case"Date":return[Pg,bo];case"RegExp":return[Ag,bo];case"Map":return[jg,bo];case"Set":return[Mg,bo];case"DataView":return[pa,n]}return n.includes("Array")?[pa,n]:n.includes("Error")?[_1,n]:[tu,n]},$l=([e,t])=>e===Yu&&(t==="function"||t==="symbol"),e4=(e,t,n,r)=>{const s=(i,a)=>{const l=r.push(i)-1;return n.set(a,l),l},o=i=>{if(n.has(i))return n.get(i);let[a,l]=Hi(i);switch(a){case Yu:{let d=i;switch(l){case"bigint":a=S1,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([b1],i)}return s([a,d],i)}case pa:{if(l){let p=i;return l==="DataView"?p=new Uint8Array(i.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(i)),s([l,[...p]],i)}const d=[],h=s([a,d],i);for(const p of i)d.push(o(p));return h}case tu:{if(l)switch(l){case"BigInt":return s([l,i.toString()],i);case"Boolean":case"Number":case"String":return s([l,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const d=[],h=s([a,d],i);for(const p of Z$(i))(e||!$l(Hi(i[p])))&&d.push([o(p),o(i[p])]);return h}case Pg:return s([a,i.toISOString()],i);case Ag:{const{source:d,flags:h}=i;return s([a,{source:d,flags:h}],i)}case jg:{const d=[],h=s([a,d],i);for(const[p,m]of i)(e||!($l(Hi(p))||$l(Hi(m))))&&d.push([o(p),o(m)]);return h}case Mg:{const d=[],h=s([a,d],i);for(const p of i)(e||!$l(Hi(p)))&&d.push(o(p));return h}}const{message:u}=i;return s([a,{name:l,message:u}],i)};return o},aw=(e,{json:t,lossy:n}={})=>{const r=[];return e4(!(t||n),!!t,new Map,r)(e),r},nu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?iw(aw(e,t)):structuredClone(e):(e,t)=>iw(aw(e,t));function t4(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function n4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function r4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||t4,r=e.options.footnoteBackLabel||n4,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),p=bi(h.toLowerCase());let m=0;const w=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++m<=y;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,m);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...w)}else d.push(...w);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...nu(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const C1=function(e){if(e==null)return a4;if(typeof e=="function")return Xu(e);if(typeof e=="object")return Array.isArray(e)?s4(e):o4(e);if(typeof e=="string")return i4(e);throw new Error("Expected function, string, or object as test")};function s4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=C1(e[n]);return Xu(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function o4(e){const t=e;return Xu(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function i4(e){return Xu(t);function t(n){return n&&n.type===e}}function Xu(e){return t;function t(n,r,s){return!!(l4(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function a4(){return!0}function l4(e){return e!==null&&typeof e=="object"&&"type"in e}const k1=[],c4=!0,lw=!1,u4="skip";function d4(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=C1(s),i=r?-1:1;a(e,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=k1,w,y,b;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=f4(n(l,d)),m[0]===lw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==u4)for(y=(r?g.children.length:-1)+i,b=d.concat(g);y>-1&&y<g.children.length;){const v=g.children[y];if(w=a(v,y,b)(),w[0]===lw)return w;y=typeof w[1]=="number"?w[1]:y+i}}return m}}}function f4(e){return Array.isArray(e)?e:typeof e=="number"?[c4,e]:e==null?k1:[e]}function E1(e,t,n,r){let s,o,i;typeof t=="function"&&typeof n!="function"?(o=void 0,i=t,s=n):(o=t,i=n,s=r),d4(e,o,a,s);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return i(l,h,d)}}const Lh={}.hasOwnProperty,h4={};function p4(e,t){const n=t||h4,r=new Map,s=new Map,o=new Map,i={...X$,...n.handlers},a={all:u,applyData:g4,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:i,one:l,options:n,patch:m4,wrap:v4};return E1(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(Lh.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,g=nu(b);return g.children=a.all(d),g}return nu(d)}return(a.options.unknownHandler||y4)(a,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const w=a.one(p[m],d);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=cw(w.value)),!Array.isArray(w)&&w.type==="element")){const y=w.children[0];y&&y.type==="text"&&(y.value=cw(y.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function m4(e,t){e.position&&(t.position=JB(e))}function g4(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&o&&Object.assign(n.properties,nu(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function y4(e,t){const n=t.data||{},r="value"in t&&!(Lh.call(n,"hProperties")||Lh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function cw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function uw(e,t){const n=p4(e,t),r=n.one(e,void 0),s=r4(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function x4(e,t){return e&&"run"in e?async function(n,r){const s=uw(n,{file:r,...t});await e.run(s,r)}:function(n,r){return uw(n,{file:r,...e||t})}}function dw(e){if(e)throw e}var pc=Object.prototype.hasOwnProperty,T1=Object.prototype.toString,fw=Object.defineProperty,hw=Object.getOwnPropertyDescriptor,pw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):T1.call(t)==="[object Array]"},mw=function(t){if(!t||T1.call(t)!=="[object Object]")return!1;var n=pc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&pc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||pc.call(t,s)},gw=function(t,n){fw&&n.name==="__proto__"?fw(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},yw=function(t,n){if(n==="__proto__")if(pc.call(t,n)){if(hw)return hw(t,n).value}else return;return t[n]},w4=function e(){var t,n,r,s,o,i,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=yw(a,n),s=yw(t,n),a!==s&&(d&&s&&(mw(s)||(o=pw(s)))?(o?(o=!1,i=r&&pw(r)?r:[]):i=r&&mw(r)?r:{},gw(a,{name:n,newValue:e(d,i,s)})):typeof s<"u"&&gw(a,{name:n,newValue:s}));return a};const cf=fi(w4);function Dh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function b4(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);a(null,...s);function a(l,...u){const d=e[++o];let h=-1;if(l){i(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?_4(d,a)(...u):i(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function _4(e,t){let n;return r;function r(...i){const a=e.length>i.length;let l;a&&i.push(s);try{l=e.apply(this,i)}catch(u){const d=u;if(a&&n)throw d;return s(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,s):l instanceof Error?s(l):o(l))}function s(i,...a){n||(n=!0,t(i,...a))}function o(i){s(null,i)}}const Xn={basename:S4,dirname:C4,extname:k4,join:E4,sep:"/"};function S4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');rl(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function C4(e){if(rl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function k4(e){rl(e);let t=e.length,n=-1,r=0,s=-1,o=0,i;for(;t--;){const a=e.codePointAt(t);if(a===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),a===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function E4(...e){let t=-1,n;for(;++t<e.length;)rl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":T4(n)}function T4(e){rl(e);const t=e.codePointAt(0)===47;let n=N4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function N4(e,t){let n="",r=0,s=-1,o=0,i=-1,a,l;for(;++i<=e.length;){if(i<e.length)a=e.codePointAt(i);else{if(a===47)break;a=47}if(a===47){if(!(s===i-1||o===1))if(s!==i-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=i,o=0;continue}}else if(n.length>0){n="",r=0,s=i,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,i):n=e.slice(s+1,i),r=i-s-1;s=i,o=0}else a===46&&o>-1?o++:o=-1}return n}function rl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const R4={cwd:I4};function I4(){return"/"}function Fh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function P4(e){if(typeof e=="string")e=new URL(e);else if(!Fh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return A4(e)}function A4(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const uf=["history","path","basename","stem","extname","dirname"];class N1{constructor(t){let n;t?Fh(t)?n={path:t}:typeof t=="string"||j4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":R4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<uf.length;){const o=uf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)uf.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Xn.basename(this.path):void 0}set basename(t){ff(t,"basename"),df(t,"basename"),this.path=Xn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Xn.dirname(this.path):void 0}set dirname(t){vw(this.basename,"dirname"),this.path=Xn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Xn.extname(this.path):void 0}set extname(t){if(df(t,"extname"),vw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Fh(t)&&(t=P4(t)),ff(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Xn.basename(this.path,this.extname):void 0}set stem(t){ff(t,"stem"),df(t,"stem"),this.path=Xn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Et(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function df(e,t){if(e&&e.includes(Xn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xn.sep+"`")}function ff(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function j4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const M4=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},O4={}.hasOwnProperty;class Og extends M4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=b4()}copy(){const t=new Og;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(cf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(mf("data",this.frozen),this.namespace[t]=n,this):O4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(mf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ul(t),r=this.parser||this.Parser;return hf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),hf("process",this.parser||this.Parser),pf("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,i){const a=Ul(t),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return u(d);const m=h,w=r.stringify(m,p);F4(w)?p.value=w:p.result=w,u(d,p)});function u(d,h){d||!h?i(d):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),hf("processSync",this.parser||this.Parser),pf("processSync",this.compiler||this.Compiler),this.process(t,s),ww("processSync","process",n),r;function s(o,i){n=!0,dw(o),r=i}}run(t,n,r){xw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(i,a){const l=Ul(n);s.run(t,l,u);function u(d,h,p){const m=h||t;d?a(d):i?i(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),ww("runSync","run",r),s;function o(i,a){dw(i),s=a,r=!0}}stringify(t,n){this.freeze();const r=Ul(n),s=this.compiler||this.Compiler;return pf("stringify",s),xw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(mf("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(s.settings=cf(!0,s.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...w]=d;const y=r[p][1];Dh(y)&&Dh(m)&&(m=cf(!0,y,m)),r[p]=[u,m,...w]}}}}const L4=new Og().freeze();function hf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function pf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function mf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xw(e){if(!Dh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ww(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ul(e){return D4(e)?e:new N1(e)}function D4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function F4(e){return typeof e=="string"||B4(e)}function B4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const z4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bw=[],_w={allowDangerousHtml:!0},$4=/^(https?|ircs?|mailto|xmpp)$/i,U4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H4(e){const t=V4(e),n=W4(e);return K4(t.runSync(t.parse(n),n),e)}function V4(e){const t=e.rehypePlugins||bw,n=e.remarkPlugins||bw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,..._w}:_w;return L4().use(C$).use(n).use(x4,r).use(t)}function W4(e){const t=e.children||"",n=new N1;return typeof t=="string"&&(n.value=t),n}function K4(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,i=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||q4;for(const d of U4)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+z4+d.id,void 0);return E1(e,u),rz(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return i?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in of)if(Object.hasOwn(of,m)&&Object.hasOwn(d.properties,m)){const w=d.properties[m],y=of[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(w||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function q4(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||$4.test(e.slice(0,t))?e:""}const G4=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),Y4=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:s,data:o,...i}=r||{};return i};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&G4(e.children,t.children)},Lg=(e,t)=>Y4(e.node,t.node),X4=(e={})=>Object.fromEntries(Object.entries(e??{}).map(([t,n])=>{if(!n)return[t,n];const r=n,s=({node:o,...i})=>c.jsx(r,{...i});return[t,f.memo(s,Lg)]})),Dg=f.createContext(null),R1=()=>f.useContext(Dg)!==null,Q4=({children:e,...t})=>c.jsx(Dg.Provider,{value:t,children:e}),J4=f.memo(Q4,Lg),Z4=({node:e,...t})=>c.jsx("pre",{...t}),e5=({node:e,...t})=>c.jsx("code",{...t}),Fg=({node:e,components:{Pre:t,Code:n},code:r})=>c.jsx(t,{children:c.jsx(n,{node:e,children:r})}),t5=()=>null,n5=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},language:o,code:i})=>{const a=f.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=o?r:Fg;return c.jsxs(c.Fragment,{children:[c.jsx(s,{node:e,language:o,code:i}),c.jsx(l,{node:e,components:a,language:o??"unknown",code:i})]})},Sw=({className:e,...t})=>({className:n,...r})=>({className:X(e,n),...t,...r}),r5=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},componentsByLanguage:o={},children:i,...a})=>{var b,g,v;const l=f.useContext(Dg),u=Sw(l),d=Ye(x=>c.jsx(t,{...u(x)})),h=Sw(a),p=Ye(x=>c.jsx(n,{...h(x)})),m=((b=/language-(\w+)/.exec(a.className||""))==null?void 0:b[1])??"";if(typeof i!="string")return c.jsx(Fg,{node:e,components:{Pre:d,Code:p},code:i});const w=((g=o[m])==null?void 0:g.SyntaxHighlighter)??r,y=((v=o[m])==null?void 0:v.CodeHeader)??s;return c.jsx(n5,{node:e,components:{Pre:d,Code:p,SyntaxHighlighter:w,CodeHeader:y},language:m||"unknown",code:i})},s5=({node:e,components:t,componentsByLanguage:n,...r})=>R1()?c.jsx(r5,{node:e,components:t,componentsByLanguage:n,...r}):c.jsx(t.Code,{...r}),o5=f.memo(s5,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&Lg(e,t)),{useSmooth:i5,useSmoothStatus:a5,withSmoothContextProvider:l5}=nm,c5=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...s})=>{const o=r0(),i=f.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:a}=i5(i,n),{pre:l=Z4,code:u=e5,SyntaxHighlighter:d=Fg,CodeHeader:h=t5}=e??{},p=f.useMemo(()=>({Pre:l,Code:u,SyntaxHighlighter:d,CodeHeader:h}),[l,u,d,h]),m=Ye(y=>c.jsx(o5,{components:p,componentsByLanguage:t,...y})),w=f.useMemo(()=>{const{pre:y,code:b,SyntaxHighlighter:g,CodeHeader:v,...x}=e??{};return{...x,pre:J4,code:m}},[m,e]);return c.jsx(H4,{components:w,...s,children:a})},I1=f.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},s)=>{const o=a5();return c.jsx(n,{"data-status":o.type,...t,className:X(e,t==null?void 0:t.className),ref:s,children:c.jsx(c5,{...r})})});I1.displayName="MarkdownTextPrimitive";const u5=l5(I1);var{withSmoothContextProvider:d5,useSmoothStatus:f5}=nm,h5=X4({h1:({className:e,...t})=>c.jsx("h1",{className:X("aui-md-h1",e),...t}),h2:({className:e,...t})=>c.jsx("h2",{className:X("aui-md-h2",e),...t}),h3:({className:e,...t})=>c.jsx("h3",{className:X("aui-md-h3",e),...t}),h4:({className:e,...t})=>c.jsx("h4",{className:X("aui-md-h4",e),...t}),h5:({className:e,...t})=>c.jsx("h5",{className:X("aui-md-h5",e),...t}),h6:({className:e,...t})=>c.jsx("h6",{className:X("aui-md-h6",e),...t}),p:({className:e,...t})=>c.jsx("p",{className:X("aui-md-p",e),...t}),a:({className:e,...t})=>c.jsx("a",{className:X("aui-md-a",e),...t}),blockquote:({className:e,...t})=>c.jsx("blockquote",{className:X("aui-md-blockquote",e),...t}),ul:({className:e,...t})=>c.jsx("ul",{className:X("aui-md-ul",e),...t}),ol:({className:e,...t})=>c.jsx("ol",{className:X("aui-md-ol",e),...t}),hr:({className:e,...t})=>c.jsx("hr",{className:X("aui-md-hr",e),...t}),table:({className:e,...t})=>c.jsx("table",{className:X("aui-md-table",e),...t}),th:({className:e,...t})=>c.jsx("th",{className:X("aui-md-th",e),...t}),td:({className:e,...t})=>c.jsx("td",{className:X("aui-md-td",e),...t}),tr:({className:e,...t})=>c.jsx("tr",{className:X("aui-md-tr",e),...t}),sup:({className:e,...t})=>c.jsx("sup",{className:X("aui-md-sup",e),...t}),pre:({className:e,...t})=>c.jsx("pre",{className:X("aui-md-pre",e),...t}),code:function({className:t,...n}){const r=R1();return c.jsx("code",{className:X(!r&&"aui-md-inline-code",t),...n})},CodeHeader:iB}),p5=({className:e,components:t,...n}={})=>{const r={...h5,...Object.fromEntries(Object.entries(t??{}).filter(([o,i])=>i!==void 0))},s=()=>{const o=f5();return c.jsx(u5,{components:r,...n,className:X(o.type==="running"&&"aui-md-running",e)})};return s.displayName="MarkdownText",f.memo(d5(s),()=>!0)};function P1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Bh(e,[t,n]){return Math.min(n,Math.max(t,e))}function m5(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Bg="ScrollArea",[A1]=lr(Bg),[g5,Sn]=A1(Bg),j1=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=f.useState(null),[u,d]=f.useState(null),[h,p]=f.useState(null),[m,w]=f.useState(null),[y,b]=f.useState(null),[g,v]=f.useState(0),[x,C]=f.useState(0),[R,k]=f.useState(!1),[N,I]=f.useState(!1),M=xe(t,L=>l(L)),A=ju(s);return c.jsx(g5,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:R,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:C,children:c.jsx(ce.div,{dir:A,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});j1.displayName=Bg;var M1="ScrollAreaViewport",O1=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=Sn(M1,n),a=f.useRef(null),l=xe(t,a,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ce.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});O1.displayName=M1;var dr="ScrollAreaScrollbar",L1=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sn(dr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return f.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?c.jsx(y5,{...r,ref:t,forceMount:n}):s.type==="scroll"?c.jsx(v5,{...r,ref:t,forceMount:n}):s.type==="auto"?c.jsx(D1,{...r,ref:t,forceMount:n}):s.type==="always"?c.jsx(zg,{...r,ref:t}):null});L1.displayName=dr;var y5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sn(dr,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(ur,{present:n||o,children:c.jsx(D1,{"data-state":o?"visible":"hidden",...r,ref:t})})}),v5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sn(dr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Ju(()=>l("SCROLL_END"),100),[a,l]=m5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(l("SCROLL"),i()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),c.jsx(ur,{present:n||a!=="hidden",children:c.jsx(zg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),D1=f.forwardRef((e,t)=>{const n=Sn(dr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=f.useState(!1),a=e.orientation==="horizontal",l=Ju(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return di(n.viewport,l),di(n.content,l),c.jsx(ur,{present:r||o,children:c.jsx(zg,{"data-state":o?"visible":"hidden",...s,ref:t})})}),zg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Sn(dr,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=U1(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return C5(p,i.current,a,m)}return n==="horizontal"?c.jsx(x5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=Cw(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?c.jsx(w5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=Cw(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),x5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Sn(dr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=xe(t,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(B1,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),V1(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:su(i.paddingLeft),paddingEnd:su(i.paddingRight)}})}})}),w5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Sn(dr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=xe(t,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(B1,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),V1(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:su(i.paddingTop),paddingEnd:su(i.paddingBottom)}})}})}),[b5,F1]=A1(dr),B1=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,m=Sn(dr,n),[w,y]=f.useState(null),b=xe(t,M=>y(M)),g=f.useRef(null),v=f.useRef(""),x=m.viewport,C=r.content-r.viewport,R=Ye(d),k=Ye(l),N=Ju(h,10);function I(M){if(g.current){const A=M.clientX-g.current.left,L=M.clientY-g.current.top;u({x:A,y:L})}}return f.useEffect(()=>{const M=A=>{const L=A.target;(w==null?void 0:w.contains(L))&&R(A,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,w,C,R]),f.useEffect(k,[r,k]),di(w,N),di(m.content,N),c.jsx(b5,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ye(o),onThumbPointerUp:Ye(i),onThumbPositionChange:k,onThumbPointerDown:Ye(a),children:c.jsx(ce.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:Z(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(M))}),onPointerMove:Z(e.onPointerMove,I),onPointerUp:Z(e.onPointerUp,M=>{const A=M.target;A.hasPointerCapture(M.pointerId)&&A.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),ru="ScrollAreaThumb",z1=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=F1(ru,e.__scopeScrollArea);return c.jsx(ur,{present:n||s.hasThumb,children:c.jsx(_5,{ref:t,...r})})}),_5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Sn(ru,n),i=F1(ru,n),{onThumbPositionChange:a}=i,l=xe(t,h=>i.onThumbChange(h)),u=f.useRef(void 0),d=Ju(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!u.current){const m=k5(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,a]),c.jsx(ce.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,y=h.clientY-m.top;i.onThumbPointerDown({x:w,y})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});z1.displayName=ru;var $g="ScrollAreaCorner",$1=f.forwardRef((e,t)=>{const n=Sn($g,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(S5,{...e,ref:t}):null});$1.displayName=$g;var S5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Sn($g,n),[o,i]=f.useState(0),[a,l]=f.useState(0),u=!!(o&&a);return di(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),di(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?c.jsx(ce.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function su(e){return e?parseInt(e,10):0}function U1(e,t){const n=e/t;return isNaN(n)?0:n}function Qu(e){const t=U1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function C5(e,t,n,r="ltr"){const s=Qu(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return H1([l,u],h)(e)}function Cw(e,t,n="ltr"){const r=Qu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=Bh(e,l);return H1([0,i],[0,a])(u)}function H1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function V1(e,t){return e>0&&e<t}var k5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ju(e,t){const n=Ye(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function di(e,t){const n=Ye(t);rt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var W1=j1,K1=O1,zh=L1,$h=z1,E5=$1,T5=[" ","Enter","ArrowUp","ArrowDown"],N5=[" ","Enter"],eo="Select",[Zu,ed,R5]=oC(eo),[_i]=lr(eo,[R5,Bu]),td=Bu(),[I5,Ts]=_i(eo),[P5,A5]=_i(eo),q1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:w}=e,y=td(t),[b,g]=f.useState(null),[v,x]=f.useState(null),[C,R]=f.useState(!1),k=ju(u),[N,I]=Qs({prop:r,defaultProp:s??!1,onChange:o,caller:eo}),[M,A]=Qs({prop:i,defaultProp:a,onChange:l,caller:eo}),L=f.useRef(null),E=b?w||!!b.closest("form"):!0,[W,U]=f.useState(new Set),q=Array.from(W).map(K=>K.props.value).join(";");return c.jsx(jC,{...y,children:c.jsxs(I5,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:R,contentId:Er(),value:M,onValueChange:A,open:N,onOpenChange:I,dir:k,triggerPointerDownPosRef:L,disabled:p,children:[c.jsx(Zu.Provider,{scope:t,children:c.jsx(P5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(K=>{U(Q=>new Set(Q).add(K))},[]),onNativeOptionRemove:f.useCallback(K=>{U(Q=>{const j=new Set(Q);return j.delete(K),j})},[]),children:n})}),E?c.jsxs(gE,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:K=>A(K.target.value),disabled:p,form:w,children:[M===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},q):null]})})};q1.displayName=eo;var G1="SelectTrigger",Y1=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=td(n),i=Ts(G1,n),a=i.disabled||r,l=xe(t,i.onTriggerChange),u=ed(n),d=f.useRef("touch"),[h,p,m]=vE(y=>{const b=u().filter(x=>!x.disabled),g=b.find(x=>x.value===i.value),v=xE(b,y,g);v!==void 0&&i.onValueChange(v.value)}),w=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(MC,{asChild:!0,...o,children:c.jsx(ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":yE(i.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:Z(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Z(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&T5.includes(y.key)&&(w(),y.preventDefault())})})})});Y1.displayName=G1;var X1="SelectValue",Q1=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=Ts(X1,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,h=xe(t,l.onValueNodeChange);return rt(()=>{u(d)},[u,d]),c.jsx(ce.span,{...a,ref:h,style:{pointerEvents:"none"},children:yE(l.value)?c.jsx(c.Fragment,{children:i}):o})});Q1.displayName=X1;var j5="SelectIcon",J1=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(ce.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});J1.displayName=j5;var M5="SelectPortal",Z1=e=>c.jsx(mm,{asChild:!0,...e});Z1.displayName=M5;var to="SelectContent",eE=f.forwardRef((e,t)=>{const n=Ts(to,e.__scopeSelect),[r,s]=f.useState();if(rt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?gi.createPortal(c.jsx(tE,{scope:e.__scopeSelect,children:c.jsx(Zu.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(nE,{...e,ref:t})});eE.displayName=to;var En=10,[tE,Ns]=_i(to),O5="SelectContentImpl",L5=ai("SelectContent.RemoveScroll"),nE=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b,...g}=e,v=Ts(to,n),[x,C]=f.useState(null),[R,k]=f.useState(null),N=xe(t,J=>C(J)),[I,M]=f.useState(null),[A,L]=f.useState(null),E=ed(n),[W,U]=f.useState(!1),q=f.useRef(!1);f.useEffect(()=>{if(x)return VC(x)},[x]),cC();const K=f.useCallback(J=>{const[me,...Oe]=E().map(Te=>Te.ref.current),[be]=Oe.slice(-1),ge=document.activeElement;for(const Te of J)if(Te===ge||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===me&&R&&(R.scrollTop=0),Te===be&&R&&(R.scrollTop=R.scrollHeight),Te==null||Te.focus(),document.activeElement!==ge))return},[E,R]),Q=f.useCallback(()=>K([I,x]),[K,I,x]);f.useEffect(()=>{W&&Q()},[W,Q]);const{onOpenChange:j,triggerPointerDownPosRef:$}=v;f.useEffect(()=>{if(x){let J={x:0,y:0};const me=be=>{var ge,Te;J={x:Math.abs(Math.round(be.pageX)-(((ge=$.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Te=$.current)==null?void 0:Te.y)??0))}},Oe=be=>{J.x<=10&&J.y<=10?be.preventDefault():x.contains(be.target)||j(!1),document.removeEventListener("pointermove",me),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[x,j,$]),f.useEffect(()=>{const J=()=>j(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[j]);const[S,oe]=vE(J=>{const me=E().filter(ge=>!ge.disabled),Oe=me.find(ge=>ge.ref.current===document.activeElement),be=xE(me,J,Oe);be&&setTimeout(()=>be.ref.current.focus())}),pe=f.useCallback((J,me,Oe)=>{const be=!q.current&&!Oe;(v.value!==void 0&&v.value===me||be)&&(M(J),be&&(q.current=!0))},[v.value]),T=f.useCallback(()=>x==null?void 0:x.focus(),[x]),Pe=f.useCallback((J,me,Oe)=>{const be=!q.current&&!Oe;(v.value!==void 0&&v.value===me||be)&&L(J)},[v.value]),Xe=r==="popper"?Uh:rE,we=Xe===Uh?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(tE,{scope:n,content:x,viewport:R,onViewportChange:k,itemRefCallback:pe,selectedItem:I,onItemLeave:T,itemTextRefCallback:Pe,focusSelectedItem:Q,selectedItemText:A,position:r,isPositioned:W,searchRef:S,children:c.jsx(gm,{as:L5,allowPinchZoom:!0,children:c.jsx(im,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Z(s,J=>{var me;(me=v.trigger)==null||me.focus({preventScroll:!0}),J.preventDefault()}),children:c.jsx(Mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(Xe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...g,...we,onPlaced:()=>U(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Z(g.onKeyDown,J=>{const me=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!me&&J.key.length===1&&oe(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let be=E().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(J.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ge=J.target,Te=be.indexOf(ge);be=be.slice(Te+1)}setTimeout(()=>K(be)),J.preventDefault()}})})})})})})});nE.displayName=O5;var D5="SelectItemAlignedPosition",rE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ts(to,n),i=Ns(to,n),[a,l]=f.useState(null),[u,d]=f.useState(null),h=xe(t,N=>d(N)),p=ed(n),m=f.useRef(!1),w=f.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&b&&g){const N=o.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(o.dir!=="rtl"){const ge=A.left-I.left,Te=M.left-ge,lt=N.left-Te,Lt=N.width+lt,qt=Math.max(Lt,I.width),Cn=window.innerWidth-En,Hn=Bh(Te,[En,Math.max(En,Cn-qt)]);a.style.minWidth=Lt+"px",a.style.left=Hn+"px"}else{const ge=I.right-A.right,Te=window.innerWidth-M.right-ge,lt=window.innerWidth-N.right-Te,Lt=N.width+lt,qt=Math.max(Lt,I.width),Cn=window.innerWidth-En,Hn=Bh(Te,[En,Math.max(En,Cn-qt)]);a.style.minWidth=Lt+"px",a.style.right=Hn+"px"}const L=p(),E=window.innerHeight-En*2,W=y.scrollHeight,U=window.getComputedStyle(u),q=parseInt(U.borderTopWidth,10),K=parseInt(U.paddingTop,10),Q=parseInt(U.borderBottomWidth,10),j=parseInt(U.paddingBottom,10),$=q+K+W+j+Q,S=Math.min(b.offsetHeight*5,$),oe=window.getComputedStyle(y),pe=parseInt(oe.paddingTop,10),T=parseInt(oe.paddingBottom,10),Pe=N.top+N.height/2-En,Xe=E-Pe,we=b.offsetHeight/2,J=b.offsetTop+we,me=q+K+J,Oe=$-me;if(me<=Pe){const ge=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-y.offsetTop-y.offsetHeight,lt=Math.max(Xe,we+(ge?T:0)+Te+Q),Lt=me+lt;a.style.height=Lt+"px"}else{const ge=L.length>0&&b===L[0].ref.current;a.style.top="0px";const lt=Math.max(Pe,q+y.offsetTop+(ge?pe:0)+we)+Oe;a.style.height=lt+"px",y.scrollTop=me-Pe+y.offsetTop}a.style.margin=`${En}px 0`,a.style.minHeight=S+"px",a.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,b,g,o.dir,r]);rt(()=>x(),[x]);const[C,R]=f.useState();rt(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(N=>{N&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return c.jsx(B5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(ce.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rE.displayName=D5;var F5="SelectPopperPosition",Uh=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=En,...o}=e,i=td(n);return c.jsx(OC,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uh.displayName=F5;var[B5,Ug]=_i(to,{}),Hh="SelectViewport",sE=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Ns(Hh,n),i=Ug(Hh,n),a=xe(t,o.onViewportChange),l=f.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Zu.Slot,{scope:n,children:c.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const w=window.innerHeight-En*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(y,b);if(g<w){const v=g+m,x=Math.min(w,v),C=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});sE.displayName=Hh;var oE="SelectGroup",[z5,$5]=_i(oE),iE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Er();return c.jsx(z5,{scope:n,id:s,children:c.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:t})})});iE.displayName=oE;var aE="SelectLabel",lE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$5(aE,n);return c.jsx(ce.div,{id:s.id,...r,ref:t})});lE.displayName=aE;var ou="SelectItem",[U5,cE]=_i(ou),uE=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Ts(ou,n),l=Ns(ou,n),u=a.value===r,[d,h]=f.useState(o??""),[p,m]=f.useState(!1),w=xe(t,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),y=Er(),b=f.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(U5,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:f.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(Zu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(ce.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:Z(i.onFocus,()=>m(!0)),onBlur:Z(i.onBlur,()=>m(!1)),onClick:Z(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:Z(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:Z(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:Z(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Z(i.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(N5.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});uE.displayName=ou;var Qi="SelectItemText",dE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Ts(Qi,n),a=Ns(Qi,n),l=cE(Qi,n),u=A5(Qi,n),[d,h]=f.useState(null),p=xe(t,g=>h(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,w=f.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return rt(()=>(y(w),()=>b(w)),[y,b,w]),c.jsxs(c.Fragment,{children:[c.jsx(ce.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gi.createPortal(o.children,i.valueNode):null]})});dE.displayName=Qi;var fE="SelectItemIndicator",hE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return cE(fE,n).isSelected?c.jsx(ce.span,{"aria-hidden":!0,...r,ref:t}):null});hE.displayName=fE;var Vh="SelectScrollUpButton",H5=f.forwardRef((e,t)=>{const n=Ns(Vh,e.__scopeSelect),r=Ug(Vh,e.__scopeSelect),[s,o]=f.useState(!1),i=xe(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(pE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});H5.displayName=Vh;var Wh="SelectScrollDownButton",V5=f.forwardRef((e,t)=>{const n=Ns(Wh,e.__scopeSelect),r=Ug(Wh,e.__scopeSelect),[s,o]=f.useState(!1),i=xe(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(pE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});V5.displayName=Wh;var pE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Ns("SelectScrollButton",n),i=f.useRef(null),a=ed(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),rt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),W5="SelectSeparator",mE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(ce.div,{"aria-hidden":!0,...r,ref:t})});mE.displayName=W5;var Kh="SelectArrow",K5=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=td(n),o=Ts(Kh,n),i=Ns(Kh,n);return o.open&&i.position==="popper"?c.jsx(LC,{...s,...r,ref:t}):null});K5.displayName=Kh;var q5="SelectBubbleInput",gE=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=xe(r,s),i=P1(t);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),c.jsx(ce.select,{...n,style:{...I0,...n.style},ref:o,defaultValue:t})});gE.displayName=q5;function yE(e){return e===""||e===void 0}function vE(e){const t=Ye(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const a=n.current+i;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function xE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=G5(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function G5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Y5=q1,X5=Y1,Q5=Q1,J5=J1,Z5=Z1,eU=eE,tU=sE,nU=iE,rU=lE,sU=uE,oU=dE,iU=hE,aU=mE,nd="Switch",[lU]=lr(nd),[cU,uU]=lU(nd),wE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=e,[p,m]=f.useState(null),w=xe(t,x=>m(x)),y=f.useRef(!1),b=p?d||!!p.closest("form"):!0,[g,v]=Qs({prop:s,defaultProp:o??!1,onChange:u,caller:nd});return c.jsxs(cU,{scope:n,checked:g,disabled:a,children:[c.jsx(ce.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":CE(g),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:w,onClick:Z(e.onClick,x=>{v(C=>!C),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&c.jsx(SE,{control:p,bubbles:!y.current,name:r,value:l,checked:g,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});wE.displayName=nd;var bE="SwitchThumb",_E=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=uU(bE,n);return c.jsx(ce.span,{"data-state":CE(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});_E.displayName=bE;var dU="SwitchBubbleInput",SE=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=f.useRef(null),a=xe(i,o),l=P1(n),u=SC(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SE.displayName=dU;function CE(e){return e?"checked":"unchecked"}var fU=wE,hU=_E,rd="Tabs",[pU]=lr(rd,[FC]),kE=FC(),[mU,Hg]=pU(rd),EE=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=ju(a),[h,p]=Qs({prop:r,onChange:s,defaultProp:o??"",caller:rd});return c.jsx(mU,{scope:n,baseId:Er(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:l,children:c.jsx(ce.div,{dir:d,"data-orientation":i,...u,ref:t})})});EE.displayName=rd;var TE="TabsList",NE=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Hg(TE,n),i=kE(n);return c.jsx(HM,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});NE.displayName=TE;var RE="TabsTrigger",IE=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Hg(RE,n),a=kE(n),l=jE(i.baseId,r),u=ME(i.baseId,r),d=r===i.value;return c.jsx(VM,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:Z(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:Z(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:Z(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});IE.displayName=RE;var PE="TabsContent",AE=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=Hg(PE,n),l=jE(a.baseId,r),u=ME(a.baseId,r),d=r===a.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(ur,{present:s||d,children:({present:p})=>c.jsx(ce.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});AE.displayName=PE;function jE(e,t){return`${e}-trigger-${t}`}function ME(e,t){return`${e}-content-${t}`}var gU=EE,yU=NE,vU=IE,xU=AE;const Lr={asChild:{type:"boolean"}},mc={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},OE={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},wU=["1","2","3","4"],bU={...Lr,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:wU,default:"3",responsive:!0},width:mc.width,minWidth:mc.minWidth,maxWidth:{...mc.maxWidth,default:"600px"},...OE},LE=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],Dr={color:{type:"enum",values:LE,default:void 0}},Vg={color:{type:"enum",values:LE,default:""}},Rs={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},_U=["normal","start","end","both"],DE={trim:{type:"enum",className:"rt-r-lt",values:_U,responsive:!0}},SU=["left","center","right"],FE={align:{type:"enum",className:"rt-r-ta",values:SU,responsive:!0}},CU=["wrap","nowrap","pretty","balance"],BE={wrap:{type:"enum",className:"rt-r-tw",values:CU,responsive:!0}},zE={truncate:{type:"boolean",className:"rt-truncate"}},kU=["light","regular","medium","bold"],$E={weight:{type:"enum",className:"rt-r-weight",values:kU,responsive:!0}},EU=["h1","h2","h3","h4","h5","h6"],TU=["1","2","3","4","5","6","7","8","9"],NU={as:{type:"enum",values:EU,default:"h1"},...Lr,size:{type:"enum",className:"rt-r-size",values:TU,default:"6",responsive:!0},...$E,...FE,...DE,...zE,...BE,...Dr,...Rs},RU=["initial","xs","sm","md","lg","xl"],Wg=new Set(RU);function UE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ma(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>Wg.has(t))}function Xr({className:e,customProperties:t,...n}){const r=iu({allowArbitraryValues:!0,className:e,...n}),s=IU({customProperties:t,...n});return[r,s]}function iu({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return kw(n,t,s);if(ma(t)){const i=t;for(const a in i){if(!UE(i,a)||!Wg.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const u=kw(n,l,s),d=a==="initial"?u:`${a}:${u}`;o.push(d)}else if(e){const u=a==="initial"?n:`${a}:${n}`;o.push(u)}}}return o.join(" ")}if(e)return n}}function kw(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function IU({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),ma(t)){const o=t;for(const i in o){if(!UE(o,i)||!Wg.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function au(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function PU(...e){return Object.assign({},...e)}function at(e,...t){let n,r;const s={...e},o=PU(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!ma(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const u="responsive"in l;if(!a||ma(a)&&!u)continue;if(ma(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=iu({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=X(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[h,p]=Xr({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=au(r,p),n=X(n,h);continue}if(l.type==="boolean"&&a){n=X(n,l.className);continue}}}return s.className=X(n,e.className),s.style=au(r,e.style),s}const As=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Tt={m:{type:"enum | string",values:As,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:As,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:As,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:As,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:As,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:As,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:As,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},Kg=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=at(e,NU,Tt);return f.createElement(ks,{"data-accent-color":i,...a,ref:t,className:X("rt-Heading",r)},s?n:f.createElement(o,null,n))});Kg.displayName="Heading";const AU=["span","div","label","p"],jU=["1","2","3","4","5","6","7","8","9"],MU={as:{type:"enum",values:AU,default:"span"},...Lr,size:{type:"enum",className:"rt-r-size",values:jU,responsive:!0},...$E,...FE,...DE,...zE,...BE,...Dr,...Rs},Y=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=at(e,MU,Tt);return f.createElement(ks,{"data-accent-color":i,...a,ref:t,className:X("rt-Text",r)},s?n:f.createElement(o,null,n))});Y.displayName="Text";function OU(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const LU=["none","small","medium","large","full"],Si={radius:{type:"enum",values:LU,default:void 0}},Zt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},_o=()=>{},lu=f.createContext(void 0);function DU(){const e=f.useContext(lu);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const sd=f.forwardRef((e,t)=>f.useContext(lu)===void 0?f.createElement(z0,{delayDuration:200},f.createElement(qj,{dir:"ltr"},f.createElement(HE,{...e,ref:t}))):f.createElement(qg,{...e,ref:t}));sd.displayName="Theme";const HE=f.forwardRef((e,t)=>{const{appearance:n=Zt.appearance.default,accentColor:r=Zt.accentColor.default,grayColor:s=Zt.grayColor.default,panelBackground:o=Zt.panelBackground.default,radius:i=Zt.radius.default,scaling:a=Zt.scaling.default,hasBackground:l=Zt.hasBackground.default,...u}=e,[d,h]=f.useState(n);f.useEffect(()=>h(n),[n]);const[p,m]=f.useState(r);f.useEffect(()=>m(r),[r]);const[w,y]=f.useState(s);f.useEffect(()=>y(s),[s]);const[b,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[v,x]=f.useState(i);f.useEffect(()=>x(i),[i]);const[C,R]=f.useState(a);return f.useEffect(()=>R(a),[a]),f.createElement(qg,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:p,grayColor:w,panelBackground:b,radius:v,scaling:C,onAppearanceChange:h,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:x,onScalingChange:R})});HE.displayName="ThemeRoot";const qg=f.forwardRef((e,t)=>{const n=f.useContext(lu),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??Zt.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??Zt.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??Zt.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??Zt.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Zt.radius.default,scaling:h=(n==null?void 0:n.scaling)??Zt.scaling.default,onAppearanceChange:p=_o,onAccentColorChange:m=_o,onGrayColorChange:w=_o,onPanelBackgroundChange:y=_o,onRadiusChange:b=_o,onScalingChange:g=_o,...v}=e,x=r?ks:"div",C=l==="auto"?OU(a):l,R=e.appearance==="light"||e.appearance==="dark",k=o===void 0?s||R:o;return f.createElement(lu.Provider,{value:f.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:C,panelBackground:u,radius:d,scaling:h,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:w,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:g}),[i,a,l,C,u,d,h,p,m,w,y,b,g])},f.createElement(x,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":C,"data-has-background":k?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":h,ref:t,...v,className:X("radix-themes",{light:i==="light",dark:i==="dark"},v.className)}))});qg.displayName="ThemeImpl";const VE=e=>{if(!f.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${f.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function FU(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=f.Children.only(r);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const BU=["1","2","3"],zU=["solid","soft","surface","outline"],$U={...Lr,size:{type:"enum",className:"rt-r-size",values:BU,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:zU,default:"soft"},...Vg,...Rs,...Si},Gg=f.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=at(e,$U,Tt),a=n?ks:"span";return f.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:X("rt-reset","rt-Badge",r)})});Gg.displayName="Badge";const UU=ks,js=["0","1","2","3","4","5","6","7","8","9"],gc={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:js,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:js,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:js,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:js,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:js,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:js,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:js,responsive:!0}},gf=["visible","hidden","clip","scroll","auto"],HU=["static","relative","absolute","fixed","sticky"],Vi=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],VU=["0","1"],WU=["0","1"],KU=["start","center","end","baseline","stretch"],qU=["start","center","end","baseline","stretch"],GU={...gc,...mc,...OE,position:{type:"enum",className:"rt-r-position",values:HU,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:Vi,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:Vi,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:Vi,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:Vi,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:Vi,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:gf,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:gf,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:gf,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:VU,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:WU,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:KU,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:qU,responsive:!0}},YU=["1","2","3","4"],XU=["classic","solid","soft","surface","outline","ghost"],Ew={...Lr,size:{type:"enum",className:"rt-r-size",values:YU,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:XU,default:"solid"},...Vg,...Rs,...Si,loading:{type:"boolean",className:"rt-loading",default:!1}},yf=["0","1","2","3","4","5","6","7","8","9"],QU={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:yf,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:yf,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:yf,responsive:!0}},JU=["div","span"],ZU=["none","inline-flex","flex"],e6=["row","column","row-reverse","column-reverse"],t6=["start","center","end","baseline","stretch"],n6=["start","center","end","between"],r6=["nowrap","wrap","wrap-reverse"],WE={as:{type:"enum",values:JU,default:"div"},...Lr,display:{type:"enum",className:"rt-r-display",values:ZU,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:e6,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:t6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:n6,parseValue:s6,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:r6,responsive:!0},...QU};function s6(e){return e==="between"?"space-between":e}const Mn=f.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=at(e,WE,GU,Tt);return f.createElement(r?UU:s,{...o,ref:t,className:X("rt-Flex",n)})});Mn.displayName="Flex";const o6=["1","2","3"],i6={size:{type:"enum",className:"rt-r-size",values:o6,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},KE=f.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=at(e,i6,Tt);if(!s)return r;const i=f.createElement("span",{...o,ref:t,className:X("rt-Spinner",n)},f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:f.createElement(Mn,{asChild:!0,position:"relative",align:"center",justify:"center"},f.createElement("span",null,f.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),f.createElement(Mn,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,i))))});KE.displayName="Spinner";const a6=A0;function qE(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function l6(e){return e==="3"?"3":"2"}function c6(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const GE=f.forwardRef((e,t)=>{const{size:n=Ew.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...u}=at(e,Ew,Tt),d=o?ks:"button";return f.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...u,ref:t,className:X("rt-reset","rt-BaseButton",r),disabled:l},e.loading?f.createElement(f.Fragment,null,f.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),f.createElement(a6,null,s),f.createElement(Mn,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,f.createElement(KE,{size:qE(n,c6)})))):s)});GE.displayName="BaseButton";const mn=f.forwardRef(({className:e,...t},n)=>f.createElement(GE,{...t,ref:n,className:X("rt-Button",e)}));mn.displayName="Button";const u6=["1","2","3"],d6=["soft","surface","outline"],Tw={...Lr,size:{type:"enum",className:"rt-r-size",values:u6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:d6,default:"soft"},...Vg,...Rs},YE=f.createContext({}),hn=f.forwardRef((e,t)=>{const{size:n=Tw.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=at(e,Tw,Tt),l=r?ks:"div";return f.createElement(l,{"data-accent-color":i,...a,className:X("rt-CalloutRoot",o),ref:t},f.createElement(YE.Provider,{value:f.useMemo(()=>({size:n}),[n])},s))});hn.displayName="Callout.Root";const f6=f.forwardRef(({className:e,...t},n)=>f.createElement("div",{...t,className:X("rt-CalloutIcon",e),ref:n}));f6.displayName="Callout.Icon";const pn=f.forwardRef(({className:e,...t},n)=>{const{size:r}=f.useContext(YE);return f.createElement(Y,{as:"p",size:qE(r,l6),...t,asChild:!1,ref:n,className:X("rt-CalloutText",e)})});pn.displayName="Callout.Text";const h6=["1","2","3","4","5"],p6=["surface","classic","ghost"],m6={...Lr,size:{type:"enum",className:"rt-r-size",values:h6,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:p6,default:"surface"}},St=f.forwardRef((e,t)=>{const{asChild:n,className:r,...s}=at(e,m6,Tt),o=n?ks:"div";return f.createElement(o,{ref:t,...s,className:X("rt-reset","rt-BaseCard","rt-Card",r)})});St.displayName="Card";var XE=ce;XE.dispatchDiscreteCustomEvent=sC;XE.Root=ce;const g6=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));g6.displayName="ThickDividerHorizontalIcon";const QE=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));QE.displayName="ThickCheckIcon";const JE=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));JE.displayName="ChevronDownIcon";const y6=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));y6.displayName="ThickChevronRightIcon";const v6=["1","2","3"],Wi={...Lr,size:{values:v6,default:"1"},...Si,scrollbars:{default:"both"}};function x6(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const Ms=Tt.m.values;function w6(e){const[t,n]=Xr({className:"rt-r-m",customProperties:["--margin"],propValues:Ms,value:e.m}),[r,s]=Xr({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:Ms,value:e.mx}),[o,i]=Xr({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:Ms,value:e.my}),[a,l]=Xr({className:"rt-r-mt",customProperties:["--margin-top"],propValues:Ms,value:e.mt}),[u,d]=Xr({className:"rt-r-mr",customProperties:["--margin-right"],propValues:Ms,value:e.mr}),[h,p]=Xr({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:Ms,value:e.mb}),[m,w]=Xr({className:"rt-r-ml",customProperties:["--margin-left"],propValues:Ms,value:e.ml});return[X(t,r,o,a,u,h,m),au(n,s,i,l,d,p,w)]}const ZE=f.forwardRef((e,t)=>{const{rest:n,...r}=x6(e),[s,o]=w6(r),{asChild:i,children:a,className:l,style:u,type:d,scrollHideDelay:h=d!=="scroll"?0:void 0,dir:p,size:m=Wi.size.default,radius:w=Wi.radius.default,scrollbars:y=Wi.scrollbars.default,...b}=n;return f.createElement(W1,{type:d,scrollHideDelay:h,className:X("rt-ScrollAreaRoot",s,l),style:au(o,u),asChild:i},FU({asChild:i,children:a},g=>f.createElement(f.Fragment,null,f.createElement(K1,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),y!=="vertical"?f.createElement(zh,{"data-radius":w,orientation:"horizontal",className:X("rt-ScrollAreaScrollbar",iu({className:"rt-r-size",value:m,propValues:Wi.size.values}))},f.createElement($h,{className:"rt-ScrollAreaThumb"})):null,y!=="horizontal"?f.createElement(zh,{"data-radius":w,orientation:"vertical",className:X("rt-ScrollAreaScrollbar",iu({className:"rt-r-size",value:m,propValues:Wi.size.values}))},f.createElement($h,{className:"rt-ScrollAreaThumb"})):null,y==="both"?f.createElement(E5,{className:"rt-ScrollAreaCorner"}):null)))});ZE.displayName="ScrollArea";const Lo=e=>f.createElement(kk,{...e,modal:!0});Lo.displayName="Dialog.Root";const b6=f.forwardRef(({children:e,...t},n)=>f.createElement(Ek,{...t,ref:n,asChild:!0},VE(e)));b6.displayName="Dialog.Trigger";const Do=f.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=bU,{className:o}=at({align:e},{align:r}),{className:i,forceMount:a,container:l,...u}=at(t,s);return f.createElement(Tk,{container:l,forceMount:a},f.createElement(sd,{asChild:!0},f.createElement(Ym,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},f.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},f.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},f.createElement(Xm,{...u,ref:n,className:X("rt-BaseDialogContent","rt-DialogContent",i)}))))))});Do.displayName="Dialog.Content";const Fo=f.forwardRef((e,t)=>f.createElement(_F,{asChild:!0},f.createElement(Kg,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));Fo.displayName="Dialog.Title";const Bo=f.forwardRef((e,t)=>f.createElement(SF,{asChild:!0},f.createElement(Y,{as:"p",size:"3",...e,asChild:!1,ref:t})));Bo.displayName="Dialog.Description";const eT=f.forwardRef(({children:e,...t},n)=>f.createElement(CF,{...t,ref:n,asChild:!0},VE(e)));eT.displayName="Dialog.Close";const _6=["1","2","3"],Yg={size:{type:"enum",className:"rt-r-size",values:_6,default:"2",responsive:!0}},S6=["classic","surface","soft","ghost"],C6={variant:{type:"enum",className:"rt-variant",values:S6,default:"surface"},...Dr,...Si,placeholder:{type:"string"}},k6=["solid","soft"],E6={variant:{type:"enum",className:"rt-variant",values:k6,default:"solid"},...Dr,...Rs},Xg=f.createContext({}),tT=e=>{const{children:t,size:n=Yg.size.default,...r}=e;return f.createElement(Y5,{...r},f.createElement(Xg.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};tT.displayName="Select.Root";const nT=f.forwardRef((e,t)=>{const n=f.useContext(Xg),{children:r,className:s,color:o,radius:i,placeholder:a,...l}=at({size:n==null?void 0:n.size,...e},{size:Yg.size},C6,Tt);return f.createElement(X5,{asChild:!0},f.createElement("button",{"data-accent-color":o,"data-radius":i,...l,ref:t,className:X("rt-reset","rt-SelectTrigger",s)},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(Q5,{placeholder:a},r)),f.createElement(J5,{asChild:!0},f.createElement(JE,{className:"rt-SelectIcon"}))))});nT.displayName="Select.Trigger";const rT=f.forwardRef((e,t)=>{const n=f.useContext(Xg),{className:r,children:s,color:o,container:i,...a}=at({size:n==null?void 0:n.size,...e},{size:Yg.size},E6),l=DU(),u=o||l.accentColor;return f.createElement(Z5,{container:i},f.createElement(sd,{asChild:!0},f.createElement(eU,{"data-accent-color":u,sideOffset:4,...a,asChild:!1,ref:t,className:X({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",r)},f.createElement(W1,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(tU,{asChild:!0,className:"rt-SelectViewport"},f.createElement(K1,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},s)),f.createElement(zh,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement($h,{className:"rt-ScrollAreaThumb"}))))))});rT.displayName="Select.Content";const sT=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(sU,{...s,asChild:!1,ref:t,className:X("rt-SelectItem",n)},f.createElement(iU,{className:"rt-SelectItemIndicator"},f.createElement(QE,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(oU,null,r))});sT.displayName="Select.Item";const T6=f.forwardRef(({className:e,...t},n)=>f.createElement(nU,{...t,asChild:!1,ref:n,className:X("rt-SelectGroup",e)}));T6.displayName="Select.Group";const N6=f.forwardRef(({className:e,...t},n)=>f.createElement(rU,{...t,asChild:!1,ref:n,className:X("rt-SelectLabel",e)}));N6.displayName="Select.Label";const R6=f.forwardRef(({className:e,...t},n)=>f.createElement(aU,{...t,asChild:!1,ref:n,className:X("rt-SelectSeparator",e)}));R6.displayName="Select.Separator";const I6=["horizontal","vertical"],P6=["1","2","3","4"],A6={orientation:{type:"enum",className:"rt-r-orientation",values:I6,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:P6,default:"1",responsive:!0},color:{...Dr.color,default:"gray"},decorative:{type:"boolean",default:!0}},Qg=f.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=at(e,A6,Tt);return f.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:X("rt-Separator",n)})});Qg.displayName="Separator";const j6=["1","2","3"],M6=["classic","surface","soft"],O6={size:{type:"enum",className:"rt-r-size",values:j6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:M6,default:"surface"},...Dr,...Rs,...Si},oT=f.forwardRef((e,t)=>{const{className:n,color:r,radius:s,...o}=at(e,O6,Tt);return f.createElement(fU,{"data-accent-color":r,"data-radius":s,...o,asChild:!1,ref:t,className:X("rt-reset","rt-SwitchRoot",n)},f.createElement(hU,{className:X("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});oT.displayName="Switch";const L6=["1","2"],D6=["nowrap","wrap","wrap-reverse"],F6=["start","center","end"],B6={size:{type:"enum",className:"rt-r-size",values:L6,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:D6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:F6,responsive:!0},...Dr,...Rs},iT=f.forwardRef((e,t)=>{const{className:n,...r}=at(e,Tt);return f.createElement(gU,{...r,ref:t,className:X("rt-TabsRoot",n)})});iT.displayName="Tabs.Root";const aT=f.forwardRef((e,t)=>{const{className:n,color:r,...s}=at(e,B6,Tt);return f.createElement(yU,{"data-accent-color":r,...s,asChild:!1,ref:t,className:X("rt-BaseTabList","rt-TabsList",n)})});aT.displayName="Tabs.List";const Qr=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(vU,{...s,asChild:!1,ref:t,className:X("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},r))});Qr.displayName="Tabs.Trigger";const Jr=f.forwardRef((e,t)=>{const{className:n,...r}=at(e,Tt);return f.createElement(xU,{...r,ref:t,className:X("rt-TabsContent",n)})});Jr.displayName="Tabs.Content";const z6=["1","2","3"],$6=["classic","surface","soft"],U6={size:{type:"enum",className:"rt-r-size",values:z6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:$6,default:"surface"},...Dr,...Si},H6=["left","right"],V6={side:{type:"enum",values:H6},...Dr,gap:WE.gap,px:gc.px,pl:gc.pl,pr:gc.pr},te=f.forwardRef((e,t)=>{const n=f.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=at(e,U6,Tt);return f.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:X("rt-TextFieldRoot",s),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const h=n.current;if(!h)return;const p=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(p,p)}catch{}h.focus()})}},f.createElement("input",{spellCheck:"false",...l,ref:Pu(n,t),className:"rt-reset rt-TextFieldInput"}),r)});te.displayName="TextField.Root";const W6=f.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=at(e,V6);return f.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:X("rt-TextFieldSlot",n)})});W6.displayName="TextField.Slot";function K6(e){const t=/^session-(\d{14})$/.exec(e.trim());if(!t)return null;const n=t[1],r=Number(n.slice(0,4)),s=Number(n.slice(4,6)),o=Number(n.slice(6,8)),i=Number(n.slice(8,10)),a=Number(n.slice(10,12)),l=Number(n.slice(12,14));if(!Number.isFinite(r)||!Number.isFinite(s)||!Number.isFinite(o))return null;const u=new Date(r,s-1,o,i,a,l);return Number.isNaN(u.getTime())?null:u}function Hl(e){return String(e).padStart(2,"0")}function q6(e){const t=K6(e.session_key),n=Date.parse(e.last_message_time||""),r=t||(Number.isFinite(n)?new Date(n):null);return r?`created ${r.getFullYear()}-${Hl(r.getMonth()+1)}-${Hl(r.getDate())} ${Hl(r.getHours())}:${Hl(r.getMinutes())}`:"created --"}function G6({appearance:e,onToggleAppearance:t,uiTheme:n,onUiThemeChange:r,uiThemeOptions:s,sessionItems:o,selectedSessionKey:i,onSessionSelect:a,onRefreshSession:l,onResetSession:u,onDeleteSession:d,onOpenConfig:h,onOpenUsage:p,onNewSession:m,appVersion:w}){const y=e==="dark",[b,g]=f.useState(null),[v,x]=f.useState(!1),C=f.useRef(null),R=f.useRef(null),k=f.useRef(null);return f.useEffect(()=>{const N=M=>{var L,E,W;const A=M.target;A&&((L=R.current)!=null&&L.contains(A)||(E=C.current)!=null&&E.contains(A)||(W=k.current)!=null&&W.contains(A)||(g(null),x(!1)))},I=()=>{g(null),x(!1)};return window.addEventListener("pointerdown",N),window.addEventListener("scroll",I,!0),()=>{window.removeEventListener("pointerdown",N),window.removeEventListener("scroll",I,!0)}},[]),c.jsxs("aside",{className:y?"flex h-full min-h-0 flex-col border-r p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",style:y?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-sidebar)"}:void 0,children:[c.jsxs(Mn,{justify:"between",align:"center",className:"mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/icon.png",alt:"MicroClaw",className:"h-7 w-7 rounded-md border border-black/10 object-cover",loading:"eager",decoding:"async"}),c.jsx(Y,{size:"5",weight:"bold",children:"MicroClaw"})]}),c.jsxs("div",{className:"relative flex items-center gap-2",children:[c.jsx("button",{ref:R,type:"button",onClick:N=>{N.stopPropagation(),x(I=>!I)},"aria-label":"Change UI theme color",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:""})}),c.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),t()},"aria-label":y?"Switch to light mode":"Switch to dark mode",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:y?"":""})}),v?c.jsxs("div",{ref:C,className:y?"absolute right-0 top-10 z-50 w-56 rounded-lg border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-sidebar)] p-2 shadow-xl":"absolute right-0 top-10 z-50 w-56 rounded-lg border border-slate-300 bg-white p-2 shadow-xl",children:[c.jsx(Y,{size:"1",color:"gray",children:"Theme"}),c.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:s.map(N=>c.jsxs("button",{type:"button",onClick:I=>{I.stopPropagation(),r(N.key),x(!1)},className:n===N.key?y?"flex items-center gap-2 rounded-md border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-2 py-1 text-left text-xs text-slate-100":"flex items-center gap-2 rounded-md border px-2 py-1 text-left text-xs text-slate-900":y?"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-600 hover:border-slate-200 hover:bg-slate-50",style:!y&&n===N.key?{borderColor:"var(--mc-accent)",backgroundColor:"color-mix(in srgb, var(--mc-accent) 12%, white)"}:void 0,children:[c.jsx("span",{className:y?"h-3 w-3 rounded-sm border border-white/20":"h-3 w-3 rounded-sm border border-slate-300",style:{backgroundColor:N.color},"aria-hidden":"true"}),N.label]},N.key))})]}):null]})]}),c.jsx(Mn,{direction:"column",gap:"2",className:"mb-4",children:c.jsx("button",{type:"button",onClick:m,className:"inline-flex h-9 w-full items-center justify-center rounded-md border border-transparent text-[15px] font-medium transition hover:brightness-110 active:brightness-95",style:y?{backgroundColor:"var(--mc-accent)",color:"#06110f"}:{backgroundColor:"var(--mc-accent)",color:"#ffffff"},children:"New Session"})}),c.jsx(Qg,{size:"4",className:"my-4"}),c.jsxs(Mn,{justify:"between",align:"center",className:"mb-2",children:[c.jsx(Y,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),c.jsx(Gg,{variant:"surface",children:o.length})]}),c.jsx("div",{className:y?"min-h-0 flex-1 rounded-xl border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:c.jsxs(ZE,{type:"auto",style:{height:"100%"},children:[c.jsx("div",{className:"mb-2",children:c.jsx(Y,{size:"1",color:"gray",children:"Chats"})}),c.jsx("div",{className:"flex flex-col gap-1.5 pr-4",children:o.map(N=>c.jsxs("button",{type:"button",onClick:()=>a(N.session_key),onContextMenu:I=>{I.preventDefault(),g({x:I.clientX,y:I.clientY,key:N.session_key})},className:i===N.session_key?y?"flex w-full max-w-full flex-col items-start rounded-lg border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-3 py-2 text-left shadow-sm":"flex w-full max-w-full flex-col items-start rounded-lg border bg-white px-3 py-2 text-left shadow-sm":y?"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",style:!y&&i===N.session_key?{borderColor:"color-mix(in srgb, var(--mc-accent) 36%, #94a3b8)",boxShadow:"0 4px 12px color-mix(in srgb, var(--mc-accent) 12%, transparent)"}:void 0,children:[c.jsx("span",{className:"max-w-[220px] truncate text-sm font-medium",children:N.label}),c.jsx("span",{className:y?"mt-0.5 text-[11px] uppercase tracking-wide text-slate-500":"mt-0.5 text-[11px] uppercase tracking-wide text-slate-400",children:N.chat_type}),c.jsx("span",{className:y?"mt-0.5 text-[11px] text-slate-500":"mt-0.5 text-[11px] text-slate-400",children:q6(N)})]},N.session_key))})]})}),c.jsxs("div",{className:y?"mt-4 border-t border-[color:var(--mc-border-soft)] pt-3":"mt-4 border-t border-slate-200 pt-3",children:[c.jsx(mn,{size:"2",variant:"soft",onClick:()=>void p(),style:{width:"100%"},children:"Usage Panel"}),c.jsx(mn,{size:"2",variant:"soft",onClick:()=>void h(),style:{width:"100%",marginTop:"8px"},children:"Runtime Config"}),c.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[c.jsx("a",{href:"https://microclaw.ai",target:"_blank",rel:"noreferrer",className:y?"text-xs text-slate-400 hover:text-slate-200":"text-xs text-slate-600 hover:text-slate-900",children:"microclaw.ai"}),c.jsx(Y,{size:"1",className:"text-slate-500",children:w?`v${w}`:"v--"})]})]}),b?c.jsxs("div",{ref:k,className:y?"fixed z-50 min-w-[170px] rounded-lg border border-emerald-900/80 bg-[#092018] p-1.5 shadow-xl":"fixed z-50 min-w-[170px] rounded-lg border border-slate-300 bg-white p-1.5 shadow-xl",style:{left:b.x,top:b.y},onClick:N=>N.stopPropagation(),children:[c.jsx("button",{type:"button",className:y?"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-100 hover:bg-emerald-900/50":"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{l(b.key),g(null)},children:"Refresh"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-300 hover:bg-amber-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-700 hover:bg-amber-50",onClick:()=>{u(b.key),g(null)},children:"Clear Context"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-300 hover:bg-red-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-700 hover:bg-red-50",onClick:()=>{d(b.key),g(null)},children:"Delete"})]}):null]})}function Gn(e){return Number.isFinite(e)?Math.trunc(e).toLocaleString("en-US"):"0"}function Y6(e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t<=0?"0%":`${(e/t*100).toFixed(1)}%`}function Vl(e,t,n){const r=Date.now(),s=3600*1e3,o=r-t*s,i=Math.max(1,Math.ceil(t/n)),a=Array.from({length:i},(l,u)=>({label:`${u+1}`,a:0,b:0,c:0}));for(const l of e){const u=Date.parse(l.ts);if(!Number.isFinite(u)||u<o||u>r)continue;const d=Math.min(i-1,Math.max(0,Math.floor((u-o)/(n*s))));a[d].a+=l.a,a[d].b+=l.b,a[d].c+=l.c}return a}function X6(e,t=320,n=70){if(e.length===0)return"";const r=Math.max(...e,1),s=Math.min(...e,0),o=Math.max(1e-6,r-s);return e.map((i,a)=>{const l=a/Math.max(1,e.length-1)*t,u=n-(i-s)/o*n;return`${a===0?"M":"L"}${l.toFixed(2)},${u.toFixed(2)}`}).join(" ")}function qr({title:e,subtitle:t,values:n,color:r}){const s=X6(n);return c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",children:e}),c.jsx(Y,{size:"1",color:"gray",className:"block",children:t}),c.jsx("div",{className:"mt-2",children:c.jsx("svg",{viewBox:"0 0 320 70",className:"h-[70px] w-full",children:c.jsx("path",{d:s,fill:"none",stroke:r,strokeWidth:"2.5"})})})]})}function Q6(e){const{open:t,onOpenChange:n,usageSession:r,sessionKey:s,usageLoading:o,usageError:i,usageReport:a,usageMemory:l,reflectorRuns:u,injectionLogs:d,onRefreshCurrent:h,onRefreshThis:p}=e,m=f.useMemo(()=>{const y=Vl(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),24,1),b=Vl(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24,1);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]),w=f.useMemo(()=>{const y=Vl(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),168,24),b=Vl(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24*7,24);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]);return c.jsx(Lo,{open:t,onOpenChange:n,children:c.jsxs(Do,{maxWidth:"980px",className:"min-h-0 overflow-hidden flex flex-col",style:{width:"980px",height:"760px",maxWidth:"980px",maxHeight:"760px"},children:[c.jsx(Fo,{children:"Usage Panel"}),c.jsxs(Bo,{size:"2",mb:"3",children:["Token and memory observability for session ",c.jsx("code",{children:r||s})]}),c.jsx("div",{className:"mb-3",children:c.jsxs(Mn,{gap:"2",children:[c.jsx(mn,{size:"2",variant:"soft",onClick:h,disabled:o,children:"Refresh Current Session"}),c.jsx(mn,{size:"2",variant:"soft",onClick:p,disabled:o,children:"Refresh This Panel"})]})}),c.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:c.jsx(St,{className:"min-h-0 p-3",children:o?c.jsx(Y,{size:"2",children:"Loading usage report..."}):i?c.jsx(hn,{color:"red",size:"1",variant:"soft",children:c.jsx(pn,{children:i})}):c.jsxs("div",{className:"space-y-4",children:[l?c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Mn,{justify:"between",align:"center",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Memory Observability"}),c.jsx(Y,{size:"1",color:"gray",children:"24h + 7d trends"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:[c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Memory Pool"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Gn(l.total)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["active ",Gn(l.active)," / archived ",Gn(l.archived)]})]}),c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Avg Confidence"}),c.jsxs(Y,{size:"4",weight:"bold",className:"mt-1 block",children:[(l.avg_confidence*100).toFixed(1),"%"]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["low confidence: ",Gn(l.low_confidence)]})]}),c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Reflector 24h"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Gn(l.reflector_runs_24h)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["+",Gn(l.reflector_inserted_24h)," / ~",Gn(l.reflector_updated_24h)," / -",Gn(l.reflector_skipped_24h)]})]}),c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Injection Coverage 24h"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Y6(l.injection_selected_24h,l.injection_candidates_24h)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:[Gn(l.injection_selected_24h)," selected / ",Gn(l.injection_candidates_24h)," candidates"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(qr,{title:"Reflector Inserts (24h)",subtitle:"hourly buckets",values:m.inserted,color:"#10b981"}),c.jsx(qr,{title:"Reflector Updates (24h)",subtitle:"hourly buckets",values:m.updated,color:"#3b82f6"}),c.jsx(qr,{title:"Reflector Skips (24h)",subtitle:"hourly buckets",values:m.skipped,color:"#f59e0b"}),c.jsx(qr,{title:"Injection Coverage (24h)",subtitle:"selected/candidates %",values:m.coverage,color:"#a855f7"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(qr,{title:"Reflector Inserts (7d)",subtitle:"daily buckets",values:w.inserted,color:"#059669"}),c.jsx(qr,{title:"Reflector Updates (7d)",subtitle:"daily buckets",values:w.updated,color:"#2563eb"}),c.jsx(qr,{title:"Reflector Skips (7d)",subtitle:"daily buckets",values:w.skipped,color:"#d97706"}),c.jsx(qr,{title:"Injection Coverage (7d)",subtitle:"selected/candidates %",values:w.coverage,color:"#7e22ce"})]})]}):null,c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Token Usage Report"}),c.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-[13px] leading-6",children:a||"(no usage data)"})]})]})})})]})})}const ts="https://microclaw.ai/docs";function J6(e){switch(e){case"sandbox_disabled":case"sandbox_runtime_unavailable":case"sandbox_mount_allowlist_missing":return`${ts}/configuration#sandbox`;case"auth_password_not_configured":case"legacy_auth_token_enabled":case"web_host_not_loopback":return`${ts}/permissions`;case"web_rate_limit_too_high":case"web_inflight_limit_too_high":case"web_rate_window_too_small_for_limit":case"web_session_idle_ttl_too_low":return`${ts}/configuration#web`;case"hooks_max_input_bytes_too_high":case"hooks_max_output_bytes_too_high":return`${ts}/hooks`;case"otlp_enabled_without_endpoint":case"otlp_queue_capacity_low":case"otlp_retry_attempts_too_low":return`${ts}/observability`;default:return`${ts}/configuration`}}const Z6=["openai","openai-codex","ollama","openrouter","anthropic","google","alibaba","deepseek","moonshot","mistral","azure","bedrock","zhipu","minimax","cohere","tencent","xai","huggingface","together","custom"],e8={anthropic:["claude-sonnet-4-5-20250929","claude-opus-4-1-20250805","claude-3-7-sonnet-latest"],openai:["gpt-5.2"],"openai-codex":["gpt-5.3-codex"],ollama:["llama3.2","qwen2.5","deepseek-r1"],openrouter:["openai/gpt-5","anthropic/claude-sonnet-4-5","google/gemini-2.5-pro"],deepseek:["deepseek-chat","deepseek-reasoner"],google:["gemini-2.5-pro","gemini-2.5-flash"]},st={llm_provider:"anthropic",working_dir_isolation:"chat",max_tokens:8192,max_tool_iterations:100,max_document_size_mb:100,memory_token_budget:1500,show_thinking:!1,web_enabled:!0,web_host:"127.0.0.1",web_port:10961,reflector_enabled:!0,reflector_interval_mins:15,embedding_provider:"",embedding_api_key:"",embedding_base_url:"",embedding_model:"",embedding_dim:""},Wl=[{name:"slack",title:"Slack",icon:"",steps:["Go to api.slack.com/apps and create a new app.","Enable Socket Mode and create an app-level token (xapp-).","Add bot token scopes: chat:write, channels:history, groups:history, im:history, mpim:history, app_mentions:read.","Install to workspace and copy the Bot User OAuth Token (xoxb-).","Enable Event Subscriptions and subscribe to: message.channels, message.groups, message.im, message.mpim, app_mention."],hint:"Required: bot token and app token. Leave tokens blank to keep current secrets unchanged.",fields:[{yamlKey:"bot_token",label:"slack_bot_token",placeholder:"xoxb-...",description:"Bot User OAuth Token (xoxb-) for sending messages. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"app_token",label:"slack_app_token",placeholder:"xapp-...",description:"App-level token (xapp-) for Socket Mode connection. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"bot_username",label:"slack_bot_username",placeholder:"slack_bot_name",description:"Optional Slack-specific bot username override.",secret:!1},{yamlKey:"model",label:"slack_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Slack bot model override for this account.",secret:!1}]},{name:"feishu",title:"Feishu / Lark",icon:"",steps:["Go to Feishu Open Platform (or Lark Developer for international) and create a custom app.","Copy the App ID and App Secret from Credentials.","Add permissions: im:message, im:message:send_as_bot, im:resource.","Enable Long Connection mode (recommended) or configure a webhook URL.","Subscribe to event: im.message.receive_v1."],hint:'Required: App ID and App Secret. Domain defaults to "feishu" (China); use "lark" for international.',fields:[{yamlKey:"app_id",label:"feishu_app_id",placeholder:"cli_xxx",description:"App ID from Feishu Open Platform credentials.",secret:!1},{yamlKey:"app_secret",label:"feishu_app_secret",placeholder:"xxx",description:"App Secret from Feishu Open Platform. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"domain",label:"feishu_domain",placeholder:"feishu",description:'Use "feishu" for China, "lark" for international, or a custom base URL.',secret:!1},{yamlKey:"bot_username",label:"feishu_bot_username",placeholder:"feishu_bot_name",description:"Optional Feishu-specific bot username override.",secret:!1},{yamlKey:"model",label:"feishu_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Feishu bot model override for this account.",secret:!1}]},{name:"matrix",title:"Matrix",icon:"",steps:["Prepare a Matrix bot account on your homeserver.","Get homeserver URL, bot user ID, and access token.","Invite the bot to target rooms/chats."],hint:"Required: homeserver_url, access_token, bot_user_id.",fields:[{yamlKey:"homeserver_url",label:"matrix_homeserver_url",placeholder:"https://matrix.org",description:"Matrix homeserver URL.",secret:!1},{yamlKey:"access_token",label:"matrix_access_token",placeholder:"syt_xxx",description:"Matrix access token for the bot account.",secret:!0},{yamlKey:"bot_user_id",label:"matrix_bot_user_id",placeholder:"@bot:example.org",description:"Matrix bot user ID.",secret:!1},{yamlKey:"bot_username",label:"matrix_bot_username",placeholder:"matrix_bot_name",description:"Optional Matrix-specific bot username override.",secret:!1}]},{name:"whatsapp",title:"WhatsApp",icon:"",steps:["Create WhatsApp Cloud API app in Meta Developer dashboard.","Copy access token and phone number ID.","Configure webhook and verify token if needed."],hint:"Required: access_token and phone_number_id.",fields:[{yamlKey:"access_token",label:"whatsapp_access_token",placeholder:"EAAG...",description:"WhatsApp Cloud API access token.",secret:!0},{yamlKey:"phone_number_id",label:"whatsapp_phone_number_id",placeholder:"1234567890",description:"WhatsApp phone number ID.",secret:!1},{yamlKey:"webhook_verify_token",label:"whatsapp_webhook_verify_token",placeholder:"verify-token",description:"Optional webhook verify token.",secret:!0},{yamlKey:"api_version",label:"whatsapp_api_version",placeholder:"v21.0",description:"Graph API version.",secret:!1},{yamlKey:"webhook_path",label:"whatsapp_webhook_path",placeholder:"/whatsapp/webhook",description:"Webhook path.",secret:!1},{yamlKey:"allowed_user_ids",label:"whatsapp_allowed_user_ids",placeholder:"user1,user2",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"whatsapp_bot_username",placeholder:"whatsapp_bot_name",description:"Optional WhatsApp-specific bot username override.",secret:!1},{yamlKey:"model",label:"whatsapp_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional WhatsApp bot model override for this account.",secret:!1}]},{name:"imessage",title:"iMessage",icon:"",steps:["Run on macOS with osascript support.","Choose service type and connect sender workflow."],hint:"Default service is iMessage.",fields:[{yamlKey:"service",label:"imessage_service",placeholder:"iMessage",description:"Service type (iMessage/SMS relay setup dependent).",secret:!1},{yamlKey:"bot_username",label:"imessage_bot_username",placeholder:"imessage_bot_name",description:"Optional iMessage-specific bot username override.",secret:!1},{yamlKey:"model",label:"imessage_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional iMessage bot model override for this account.",secret:!1}]},{name:"email",title:"Email",icon:"",steps:["Set sender address and sendmail path.","Expose webhook endpoint if receiving inbound events.","Optionally restrict allowed senders."],hint:"Required: from_address.",fields:[{yamlKey:"from_address",label:"email_from_address",placeholder:"bot@example.com",description:"Email sender address.",secret:!1},{yamlKey:"sendmail_path",label:"email_sendmail_path",placeholder:"/usr/sbin/sendmail",description:"sendmail binary path.",secret:!1},{yamlKey:"webhook_path",label:"email_webhook_path",placeholder:"/email/webhook",description:"Inbound webhook path.",secret:!1},{yamlKey:"webhook_token",label:"email_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_senders",label:"email_allowed_senders",placeholder:"a@example.com,b@example.com",description:"Optional allowed sender list csv.",secret:!1},{yamlKey:"bot_username",label:"email_bot_username",placeholder:"email_bot_name",description:"Optional Email-specific bot username override.",secret:!1},{yamlKey:"model",label:"email_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Email bot model override for this account.",secret:!1}]},{name:"nostr",title:"Nostr",icon:"",steps:["Configure publish command used to send outgoing replies.","Configure webhook endpoint for incoming events."],hint:"Recommended: set publish_command and webhook token.",fields:[{yamlKey:"publish_command",label:"nostr_publish_command",placeholder:"nostril publish ...",description:"Command used to publish messages.",secret:!1},{yamlKey:"webhook_path",label:"nostr_webhook_path",placeholder:"/nostr/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"nostr_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_pubkeys",label:"nostr_allowed_pubkeys",placeholder:"npub1...,npub1...",description:"Optional allowed pubkeys csv.",secret:!1},{yamlKey:"bot_username",label:"nostr_bot_username",placeholder:"nostr_bot_name",description:"Optional Nostr-specific bot username override.",secret:!1},{yamlKey:"model",label:"nostr_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Nostr bot model override for this account.",secret:!1}]},{name:"signal",title:"Signal",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"signal_send_command",placeholder:"signal-cli send ...",description:"Command used to send Signal messages.",secret:!1},{yamlKey:"webhook_path",label:"signal_webhook_path",placeholder:"/signal/messages",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"signal_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_numbers",label:"signal_allowed_numbers",placeholder:"+15551234567,+15559876543",description:"Optional allowed numbers csv.",secret:!1},{yamlKey:"bot_username",label:"signal_bot_username",placeholder:"signal_bot_name",description:"Optional Signal-specific bot username override.",secret:!1},{yamlKey:"model",label:"signal_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Signal bot model override for this account.",secret:!1}]},{name:"dingtalk",title:"DingTalk",icon:"",steps:["Create DingTalk robot integration.","Set robot webhook URL and inbound webhook route."],hint:"Recommended: set robot_webhook_url and webhook token.",fields:[{yamlKey:"robot_webhook_url",label:"dingtalk_robot_webhook_url",placeholder:"https://oapi.dingtalk.com/robot/send?...",description:"DingTalk robot webhook URL.",secret:!0},{yamlKey:"webhook_path",label:"dingtalk_webhook_path",placeholder:"/dingtalk/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"dingtalk_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_chat_ids",label:"dingtalk_allowed_chat_ids",placeholder:"chat1,chat2",description:"Optional allowed chat IDs csv.",secret:!1},{yamlKey:"bot_username",label:"dingtalk_bot_username",placeholder:"dingtalk_bot_name",description:"Optional DingTalk-specific bot username override.",secret:!1},{yamlKey:"model",label:"dingtalk_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional DingTalk bot model override for this account.",secret:!1}]},{name:"qq",title:"QQ",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"qq_send_command",placeholder:"qq-send ...",description:"Command used to send QQ messages.",secret:!1},{yamlKey:"webhook_path",label:"qq_webhook_path",placeholder:"/qq/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"qq_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_user_ids",label:"qq_allowed_user_ids",placeholder:"10001,10002",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"qq_bot_username",placeholder:"qq_bot_name",description:"Optional QQ-specific bot username override.",secret:!1},{yamlKey:"model",label:"qq_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional QQ bot model override for this account.",secret:!1}]}],lT=[{key:"green",label:"Green",color:"#34d399"},{key:"blue",label:"Blue",color:"#60a5fa"},{key:"slate",label:"Slate",color:"#94a3b8"},{key:"amber",label:"Amber",color:"#fbbf24"},{key:"violet",label:"Violet",color:"#a78bfa"},{key:"rose",label:"Rose",color:"#fb7185"},{key:"cyan",label:"Cyan",color:"#22d3ee"},{key:"teal",label:"Teal",color:"#2dd4bf"},{key:"orange",label:"Orange",color:"#fb923c"},{key:"indigo",label:"Indigo",color:"#818cf8"}],t8={green:"green",blue:"blue",slate:"gray",amber:"amber",violet:"violet",rose:"ruby",cyan:"cyan",teal:"teal",orange:"orange",indigo:"indigo"},ns=10;function Nw(e){const t=e.trim().toLowerCase();return t==="anthropic"?"claude-sonnet-4-5-20250929":t==="openai-codex"?"gpt-5.3-codex":t==="ollama"?"llama3.2":"gpt-5.2"}function So(e){return String(e||"").trim()||"main"}function ga(e){if(!e||typeof e!="object")return"main";const t=e,n=String(t.default_account||"").trim();if(n)return n;const r=t.accounts;if(r&&typeof r=="object"){const s=Object.keys(r).sort();if(s.includes("default"))return"default";if(s.length>0)return s[0]||"main"}return"main"}function n8(e){if(!e||typeof e!="object")return{};const t=e,n=ga(t),r=t.accounts;if(!r||typeof r!="object")return{};const s=r[n];return s&&typeof s=="object"?s:{}}function Kl(e){return e<=1?"main":`bot${e}`}function Gr(e){return e<=1?"main":`bot${e}`}function fn(e){const t=Number(e);return Number.isFinite(t)?Math.min(ns,Math.max(1,Math.floor(t))):1}function qh(e){if(!e||typeof e!="object")return[];const t=e,n=t.accounts;if(!n||typeof n!="object")return[];const s=Object.entries(n).filter(([,a])=>a&&typeof a=="object"&&!Array.isArray(a)).map(([a,l])=>[a,l]);if(s.length===0)return[];const o=ga(t);s.sort(([a],[l])=>a.localeCompare(l));const i=s.findIndex(([a])=>a===o);if(i>0){const[a]=s.splice(i,1);s.unshift(a)}return s.slice(0,ns)}function r8(e){return qh(e)}function cT(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function s8(e){localStorage.setItem("microclaw_appearance",e)}function uT(){const e=localStorage.getItem("microclaw_ui_theme");return lT.some(t=>t.key===e)?e:"green"}function o8(e){localStorage.setItem("microclaw_ui_theme",e)}function Rw(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("session",e),window.history.replaceState(null,"",t.toString())}function i8(){var t;return typeof window>"u"?"":((t=new URL(window.location.href).searchParams.get("session"))==null?void 0:t.trim())||""}function Iw(e){var n,r;if(e.length===0)return os();const t=e.map(s=>({item:s,ts:Date.parse(s.last_message_time||"")})).filter(s=>Number.isFinite(s.ts));return t.length>0?(t.sort((s,o)=>o.ts-s.ts),((n=t[0])==null?void 0:n.item.session_key)||os()):((r=e[0])==null?void 0:r.session_key)||os()}typeof document<"u"&&(document.documentElement.classList.toggle("dark",cT()==="dark"),document.documentElement.setAttribute("data-ui-theme",uT()));function dT(e={}){const t={...e.headers};e.body&&!t["Content-Type"]&&(t["Content-Type"]="application/json");const n=l8("mc_csrf");return n&&!a8(t,"x-csrf-token")&&(t["x-csrf-token"]=n),t}class Ds extends Error{constructor(n,r){super(n);P(this,"status");this.name="ApiError",this.status=r}}function a8(e,t){const n=t.toLowerCase();return Object.keys(e).some(r=>r.toLowerCase()===n)}function l8(e){if(typeof document>"u")return"";const t=`${encodeURIComponent(e)}=`,n=document.cookie?document.cookie.split("; "):[];for(const r of n)if(r.startsWith(t))return decodeURIComponent(r.slice(t.length));return""}function c8(){var n;if(typeof window>"u")return"";const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash;return((n=new URLSearchParams(e).get("bootstrap"))==null?void 0:n.trim())||""}function u8(){if(typeof window>"u")return;const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,t=new URLSearchParams(e);if(!t.has("bootstrap"))return;t.delete("bootstrap");const n=t.toString();window.location.hash=n?`#${n}`:""}function d8(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function"){const t=crypto.randomUUID().replace(/-/g,"");return`mc-${t.slice(0,6)}-${t.slice(6,12)}!`}const e=Math.random().toString(36).slice(2,14);return`mc-${e.slice(0,6)}-${e.slice(6,12)}!`}async function ut(e,t={}){const n=await fetch(e,{...t,headers:dT(t),credentials:"same-origin"}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Ds(String(r.error||r.message||`HTTP ${n.status}`),n.status);return r}async function*f8(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const u=i.join(`
`);i=[];let d={};try{d=JSON.parse(u)}catch{d={raw:u}}const h={event:o,payload:d};return o="message",h},l=u=>{if(u==="")return a();if(u.startsWith(":"))return null;const d=u.indexOf(":"),h=d>=0?u.slice(0,d):u;let p=d>=0?u.slice(d+1):"";return p.startsWith(" ")&&(p=p.slice(1)),h==="event"&&(o=p),h==="data"&&i.push(p),null};for(;;){if(t.aborted)return;const{done:u,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!u});;){const h=s.indexOf(`
`);if(h<0)break;let p=s.slice(0,h);s=s.slice(h+1),p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}if(u){if(s.length>0){let p=s;p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}const h=a();h&&(yield h);return}}}function h8(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function p8(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function os(){return`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`}function m8(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{}}function g8(e){try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function Pw(e){const t=g8(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{}}function y8(e){if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function v8(e){const t=m8(e.result),n=Object.keys(t).length>0,r=t.output,s=t.duration_ms,o=t.bytes,i=t.status_code,a=t.error_type;return c.jsxs("div",{className:"tool-card",children:[c.jsxs("div",{className:"tool-card-head",children:[c.jsx("span",{className:"tool-card-name",children:e.toolName}),c.jsx("span",{className:`tool-card-state ${n?e.isError?"error":"ok":"running"}`,children:n?e.isError?"error":"done":"running"})]}),Object.keys(e.args||{}).length>0?c.jsx("pre",{className:"tool-card-pre",children:JSON.stringify(e.args,null,2)}):null,n?c.jsxs("div",{className:"tool-card-meta",children:[typeof s=="number"?c.jsxs("span",{children:[s,"ms"]}):null,typeof o=="number"?c.jsxs("span",{children:[o,"b"]}):null,typeof i=="number"?c.jsxs("span",{children:["HTTP ",i]}):null,typeof a=="string"&&a?c.jsx("span",{children:a}):null]}):null,r!==void 0?c.jsx("pre",{className:"tool-card-pre",children:y8(r)}):null]})}function fT({align:e}){const t=YS(r=>r.createdAt),n=t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return c.jsx("div",{className:e==="right"?"mc-msg-time mc-msg-time-right":"mc-msg-time",children:n})}function x8(){const e=YS(t=>Array.isArray(t.content)?t.content.some(n=>{var r;return n.type==="text"?!!((r=n.text)!=null&&r.trim()):n.type==="tool-call"}):!1);return c.jsxs(dc.Root,{children:[c.jsx(dc.Avatar,{}),e?c.jsx(dc.Content,{}):c.jsxs("div",{className:"mc-assistant-placeholder","aria-live":"polite",children:[c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-text",children:"Thinking"})]}),c.jsx(Wu,{}),c.jsx(Y0,{}),c.jsx(fT,{align:"left"})]})}function w8(){return c.jsxs(fc.Root,{children:[c.jsx(fc.Attachments,{}),c.jsxs(Mr,{hasContent:!0,children:[c.jsx(Uk,{}),c.jsxs("div",{className:"mc-user-content-wrap",children:[c.jsx(fc.Content,{}),c.jsx(fT,{align:"right"})]})]}),c.jsx(Wu,{})]})}function b8({adapter:e,initialMessages:t,runtimeKey:n}){const r=p5(),s=wA(e,{initialMessages:t,maxSteps:100});return c.jsx(GS,{runtime:s,children:c.jsx("div",{className:"aui-root h-full min-h-0",children:c.jsx(sB,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1,components:{Text:r,ToolFallback:v8}},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},components:{AssistantMessage:x8,UserMessage:w8},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}},assistantAvatar:{fallback:"M"}})})},n)}function _8(e){const t=[];for(const n of e.split(",")){const r=n.trim();if(!r)continue;const s=Number(r);Number.isInteger(s)&&s>0&&t.push(s)}return Array.from(new Set(t))}function Aw(e,t){const n=e.trim();if(!n)return[];const r=()=>{const s=[];for(const o of n.split(",")){const i=o.trim();if(!i)continue;if(!/^-?\d+$/.test(i))throw new Error(`${t} must be a CSV of integers or a JSON integer array`);const a=Number(i);if(!Number.isSafeInteger(a))throw new Error(`${t} contains an out-of-range integer`);s.push(a)}return Array.from(new Set(s))};if(n.startsWith("[")){let s;try{s=JSON.parse(n)}catch(i){throw new Error(`${t} must be valid JSON array: ${i instanceof Error?i.message:String(i)}`)}if(!Array.isArray(s))throw new Error(`${t} must be a JSON array when using JSON format`);const o=[];for(const i of s){if(typeof i!="number"||!Number.isSafeInteger(i))throw new Error(`${t} JSON array must contain integers only`);o.push(i)}return Array.from(new Set(o))}return r()}function vf(e){return String(e||"").trim().toLowerCase()==="shared"?"shared":"chat"}function ee({label:e,description:t,children:n}){return c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"2",weight:"medium",children:e}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:t}),c.jsx("div",{className:"mt-2",children:n})]})}function xf({label:e,description:t,checked:n,onCheckedChange:r,className:s,style:o}){return c.jsx("div",{className:s,style:o,children:c.jsxs(Mn,{justify:"between",align:"center",children:[c.jsxs("div",{children:[c.jsx(Y,{size:"2",children:e}),t?c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:t}):null]}),c.jsx(oT,{checked:n,onCheckedChange:r})]})})}function Ki({title:e="Setup Steps",steps:t}){return c.jsxs(St,{className:"mt-3 p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:e}),c.jsx("ol",{className:"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-400",children:t.map((n,r)=>c.jsx("li",{children:n},r))})]})}function S8(){var hy,py,my;const[e,t]=f.useState(cT()),[n,r]=f.useState(uT()),[s,o]=f.useState([]),[i,a]=f.useState([]),[l,u]=f.useState(()=>os()),[d,h]=f.useState([]),[p,m]=f.useState({}),[w,y]=f.useState(0),[b,g]=f.useState(""),[v,x]=f.useState("Idle"),[C,R]=f.useState(""),[k,N]=f.useState(!1),[I,M]=f.useState(!1),[A,L]=f.useState(null),[E,W]=f.useState({}),[U,q]=f.useState(null),[K,Q]=f.useState(!1),[j,$]=f.useState(""),[S,oe]=f.useState(""),[pe,T]=f.useState(!1),[Pe,Xe]=f.useState(!1),[we,J]=f.useState(""),[me,Oe]=f.useState(null),[be,ge]=f.useState([]),[Te,lt]=f.useState([]),[Lt,qt]=f.useState(""),[Cn,Hn]=f.useState(""),[Is,Vn]=f.useState(!1),[Ci,od]=f.useState(!1),[fr,ki]=f.useState(!1),[sl,id]=f.useState(!1),[O,F]=f.useState(""),[ie,de]=f.useState(""),[Ae,Gt]=f.useState(()=>c8()),[Wn,Yt]=f.useState(""),[Fr,hr]=f.useState(""),[yt,pr]=f.useState(""),[Nt,ol]=f.useState(!1),[hT,il]=f.useState(!1),[Jg,al]=f.useState(""),[ad,Zg]=f.useState(!1),[ey,ty]=f.useState(""),[ny,ry]=f.useState(""),[pT,sy]=f.useState(""),ll=f.useMemo(()=>{const _=new Map;for(const ae of[...i,...s])_.has(ae.session_key)||_.set(ae.session_key,ae);const H=!_.has(l);if(H&&!l.startsWith("chat:")&&_.set(l,{session_key:l,label:l,chat_id:0,chat_type:"web"}),_.size===0){const ae=os();_.set(ae,{session_key:ae,label:ae,chat_id:0,chat_type:"web"})}const D=Array.from(_.values()),V=H&&!l.startsWith("chat:");return D.sort((ae,fe)=>{if(V){if(ae.session_key===l)return-1;if(fe.session_key===l)return 1}const qe=Date.parse(ae.last_message_time||""),$e=Date.parse(fe.last_message_time||""),Xt=Number.isFinite(qe),et=Number.isFinite($e);if(Xt&&et){if($e!==qe)return $e-qe}else if(Xt!==et)return Xt?-1:1;return ae.label.localeCompare(fe.label)}),D},[i,s,l]),Ei=f.useMemo(()=>ll.find(_=>_.session_key===l),[ll,l]),mT=(Ei==null?void 0:Ei.label)||l,oy=!!(Ei&&Ei.chat_type!=="web");function Ti(_){return _ instanceof Ds&&_.status===401}function iy(_){return _ instanceof Ds&&_.status===403}function Ni(_="Authentication required. Please sign in."){ki(!1),F(_),g(_)}async function cl(){try{const _=await ut("/api/auth/status"),H=!!_.has_password,D=!!_.authenticated,V=!!_.using_default_password;return od(H),ki(D),id(V),Vn(!0),D&&(F(""),g("")),D&&V&&il(!0),V||il(!1),_}catch(_){throw Vn(!0),_}}async function ay(){try{const _=await ut("/api/health");sy(String(_.version||"").trim())}catch{}}async function ly(){g("");const _=await ut("/api/sessions"),H=Array.isArray(_.sessions)?_.sessions:[];o(H);const D=Iw(H),V=i8(),fe=(V?H.some($e=>$e.session_key===V):!1)?V:D;u(fe),Rw(fe),H.some($e=>$e.session_key===fe)?await io(fe):(h([]),m($e=>({...$e,[fe]:0})),y($e=>$e+1),g(""))}async function ul(){try{const _=await ut("/api/sessions");o(Array.isArray(_.sessions)?_.sessions:[])}catch(_){if(Ti(_)){Ni();return}throw _}}async function io(_=l){try{const H=new URLSearchParams({session_key:_,limit:"200"}),D=await ut(`/api/history?${H.toString()}`),V=Array.isArray(D.messages)?D.messages:[],ae=p8(V);h(ae),m(fe=>({...fe,[_]:V.length})),y(fe=>fe+1),g("")}catch(H){if(Ti(H)){Ni();return}if(H instanceof Ds&&H.status===404){h([]),m(D=>({...D,[_]:0})),y(D=>D+1),g("");return}throw H}}async function ld(_){const H=_.trim();if(!H){F("Please enter your password.");return}ol(!0),F("");try{await ut("/api/auth/login",{method:"POST",body:JSON.stringify({password:H})}),de(""),await cl(),await ly(),x("Authenticated")}catch(D){if(D instanceof Ds){if(D.status===401){F("Password is incorrect. Please try again or reset with `microclaw web password-generate`.");return}if(D.status===429){F("Too many login attempts. Please wait and retry.");return}}F(D instanceof Error?D.message:String(D))}finally{ol(!1)}}async function cy(){const _=Ae.trim(),H=Wn.trim(),D=Fr.trim();if(!_){F("Bootstrap token is required.");return}if(H.length<8){F("Password must be at least 8 characters.");return}if(H!==D){F("Passwords do not match.");return}ol(!0),F("");try{await ut("/api/auth/password",{method:"POST",headers:{"x-bootstrap-token":_},body:JSON.stringify({password:H})}),u8(),await ld(H),Yt(""),hr(""),pr("")}catch(V){if(V instanceof Ds&&V.status===401){F("Bootstrap token is invalid or expired. Please copy the latest token from startup logs.");return}F(V instanceof Error?V.message:String(V))}finally{ol(!1)}}async function uy(){const _=ey.trim(),H=ny.trim();if(_.length<8){al("Password must be at least 8 characters.");return}if(_!==H){al("Passwords do not match.");return}Zg(!0),al("");try{await ut("/api/auth/password",{method:"POST",body:JSON.stringify({password:_})}),ty(""),ry(""),await cl(),il(!1),x("Password updated")}catch(D){al(D instanceof Error?D.message:String(D))}finally{Zg(!1)}}async function gT(){x("Signing out..."),g("");try{await ut("/api/auth/logout",{method:"POST"})}catch(_){g(_ instanceof Error?_.message:String(_))}finally{o([]),a([]),h([]),m({}),y(_=>_+1),sy(""),u(os()),T(!1),M(!1),await cl().catch(()=>{ki(!1)}),F("Signed out. Please sign in again."),x("Signed out")}}const yT=f.useMemo(()=>({run:async function*(_){const H=h8(_.messages);if(H){N(!0),x("Sending..."),R(""),g("");try{if(oy)throw x("Read-only channel"),new Error("This channel is read-only in Web UI. Send messages from the original channel.");const V=(await ut("/api/send_stream",{method:"POST",body:JSON.stringify({session_key:l,sender_name:"web-user",message:H}),signal:_.abortSignal})).run_id;if(!V)throw new Error("missing run_id");const ae=new URLSearchParams({run_id:V}),fe=await fetch(`/api/stream?${ae.toString()}`,{method:"GET",headers:dT(),credentials:"same-origin",cache:"no-store",signal:_.abortSignal});if(!fe.ok){const et=await fe.text().catch(()=>"");throw new Ds(et||`HTTP ${fe.status}`,fe.status)}let qe="";const $e=new Map,Xt=()=>{const et=Array.from($e.entries()).map(([Qe,re])=>({type:"tool-call",toolCallId:Qe,toolName:re.name,args:re.args,argsText:JSON.stringify(re.args),...re.result?{result:re.result}:{},...re.isError!==void 0?{isError:re.isError}:{}}));return[...qe?[{type:"text",text:qe}]:[],...et]};for await(const et of f8(fe,_.abortSignal)){const Qe=et.payload;if(et.event==="replay_meta"){if(Qe.replay_truncated===!0){const re=typeof Qe.oldest_event_id=="number"?Qe.oldest_event_id:null,ct=re!==null?`Stream history was truncated. Recovery resumed from event #${re}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";R(ct)}continue}if(et.event==="status"){const re=typeof Qe.message=="string"?Qe.message:"";re&&x(re);continue}if(et.event==="tool_start"){const re=Qe;if(!re.tool_use_id||!re.name)continue;$e.set(re.tool_use_id,{name:re.name,args:Pw(re.input)}),x(`tool: ${re.name}...`);const ct=Xt();ct.length>0&&(yield{content:ct});continue}if(et.event==="tool_result"){const re=Qe;if(!re.tool_use_id||!re.name)continue;const ct=$e.get(re.tool_use_id),zr=Pw({output:re.output??"",duration_ms:re.duration_ms??null,bytes:re.bytes??null,status_code:re.status_code??null,error_type:re.error_type??null});$e.set(re.tool_use_id,{name:re.name,args:(ct==null?void 0:ct.args)??{},result:zr,isError:!!re.is_error});const $r=typeof re.duration_ms=="number"?re.duration_ms:0,Ur=typeof re.bytes=="number"?re.bytes:0;x(`tool: ${re.name} ${re.is_error?"error":"ok"} ${$r}ms ${Ur}b`);const gr=Xt();gr.length>0&&(yield{content:gr});continue}if(et.event==="delta"){const re=typeof Qe.delta=="string"?Qe.delta:"";if(!re)continue;qe+=re;const ct=Xt();ct.length>0&&(yield{content:ct});continue}if(et.event==="error"){const re=typeof Qe.error=="string"?Qe.error:"stream error";throw new Error(re)}if(et.event==="done"){x("Done");break}}}catch(D){throw Ti(D)&&(Ni("Session expired. Please sign in again."),x("Auth required")),D}finally{N(!1),ul(),io(l)}}}}),[l,oy]);function vT(){if((p[l]??d.length)===0){x("Current session is empty. Reuse this session.");return}const H=os(),D=new Date().toISOString(),V={session_key:H,label:H,chat_id:0,chat_type:"web",last_message_time:D};a(ae=>ae.some(fe=>fe.session_key===H)?ae:[V,...ae]),u(H),m(ae=>({...ae,[H]:0})),h([]),y(ae=>ae+1),R(""),g(""),x("Idle")}function xT(){t(_=>_==="dark"?"light":"dark")}async function wT(_){try{await ut("/api/reset",{method:"POST",body:JSON.stringify({session_key:_})}),_===l&&await io(_),await ul(),x("Session reset")}catch(H){g(H instanceof Error?H.message:String(H))}}async function bT(_){try{_===l&&await io(_),await ul(),x("Session refreshed")}catch(H){g(H instanceof Error?H.message:String(H))}}async function _T(_){var H;try{const D=await ut("/api/delete_session",{method:"POST",body:JSON.stringify({session_key:_})});D.deleted===!1&&x("No session data found to delete."),a(ae=>ae.filter(fe=>fe.session_key!==_)),m(ae=>{const fe={...ae};return delete fe[_],fe});const V=((H=ll.find(ae=>ae.session_key!==_))==null?void 0:H.session_key)||os();_===l&&(u(V),await io(V)),await ul(),D.deleted!==!1&&x("Session deleted")}catch(D){g(D instanceof Error?D.message:String(D))}}async function ST(){var _,H,D,V,ae,fe,qe,$e,Xt,et,Qe,re,ct,zr,$r,Ur,gr,ao,lo,co,uo,fo;oe(""),$(""),Q(!0);try{const[Ne,dl]=await Promise.all([ut("/api/config"),ut("/api/config/self_check").catch(_e=>($(_e instanceof Error?_e.message:String(_e)),null))]);L(Ne.config||null),q(dl);const un=((_=Ne.config)==null?void 0:_.channels)||{},Hr=un.telegram||{},ye=ga(Hr),vt=n8(Hr),dn=r8(Hr),Kn=fn(dn.length||1),Je={};for(let _e=1;_e<=ns;_e+=1){const xt=dn[_e-1],po=(xt==null?void 0:xt[0])||Kl(_e),Ft=(xt==null?void 0:xt[1])||{};Je[`telegram_bot_${_e}_account_id`]=po,Je[`telegram_bot_${_e}_token`]="",Je[`telegram_bot_${_e}_has_token`]=!!(typeof Ft.bot_token=="string"&&String(Ft.bot_token||"").trim()),Je[`telegram_bot_${_e}_username`]=String(Ft.bot_username||""),Je[`telegram_bot_${_e}_allowed_user_ids`]=Array.isArray(Ft.allowed_user_ids)?Ft.allowed_user_ids.join(","):""}const Rt=un.discord||{},yr=ga(Rt),Ps=qh(Rt),ho=fn(Ps.length||1),vr={};for(let _e=1;_e<=ns;_e+=1){const xt=Ps[_e-1],po=(xt==null?void 0:xt[0])||Gr(_e),Ft=(xt==null?void 0:xt[1])||{};vr[`discord_bot_${_e}_account_id`]=po,vr[`discord_bot_${_e}_token`]="",vr[`discord_bot_${_e}_has_token`]=!!(typeof Ft.bot_token=="string"&&String(Ft.bot_token||"").trim()),vr[`discord_bot_${_e}_allowed_channels_csv`]=Array.isArray(Ft.allowed_channels)?Ft.allowed_channels.join(","):"",vr[`discord_bot_${_e}_username`]=String(Ft.bot_username||""),vr[`discord_bot_${_e}_model`]=String(Ft.model||"")}const Dt=un.irc||{};W({llm_provider:((H=Ne.config)==null?void 0:H.llm_provider)||"",model:((D=Ne.config)==null?void 0:D.model)||Nw(String(((V=Ne.config)==null?void 0:V.llm_provider)||"anthropic")),llm_base_url:String(((ae=Ne.config)==null?void 0:ae.llm_base_url)||""),api_key:"",bot_username:String(((fe=Ne.config)==null?void 0:fe.bot_username)||""),telegram_account_id:ye,telegram_bot_count:Kn,telegram_model:String(Hr.model||vt.model||""),telegram_allowed_user_ids:Array.isArray(Hr.allowed_user_ids)?Hr.allowed_user_ids.join(","):"",...Je,discord_account_id:yr,discord_bot_count:ho,...vr,irc_server:String(Dt.server||""),irc_port:String(Dt.port||""),irc_nick:String(Dt.nick||""),irc_username:String(Dt.username||""),irc_real_name:String(Dt.real_name||""),irc_channels:String(Dt.channels||""),irc_password:"",irc_mention_required:String(Dt.mention_required||""),irc_tls:String(Dt.tls||""),irc_tls_server_name:String(Dt.tls_server_name||""),irc_tls_danger_accept_invalid_certs:String(Dt.tls_danger_accept_invalid_certs||""),irc_model:String(Dt.model||""),web_bot_username:String(((qe=un.web)==null?void 0:qe.bot_username)||""),working_dir_isolation:vf((($e=Ne.config)==null?void 0:$e.working_dir_isolation)||st.working_dir_isolation),max_tokens:Number(((Xt=Ne.config)==null?void 0:Xt.max_tokens)??8192),max_tool_iterations:Number(((et=Ne.config)==null?void 0:et.max_tool_iterations)??100),max_document_size_mb:Number(((Qe=Ne.config)==null?void 0:Qe.max_document_size_mb)??st.max_document_size_mb),memory_token_budget:Number(((re=Ne.config)==null?void 0:re.memory_token_budget)??st.memory_token_budget),show_thinking:!!((ct=Ne.config)!=null&&ct.show_thinking),web_enabled:!!((zr=Ne.config)!=null&&zr.web_enabled),web_host:String((($r=Ne.config)==null?void 0:$r.web_host)||"127.0.0.1"),web_port:Number(((Ur=Ne.config)==null?void 0:Ur.web_port)??10961),reflector_enabled:((gr=Ne.config)==null?void 0:gr.reflector_enabled)!==!1,reflector_interval_mins:Number(((ao=Ne.config)==null?void 0:ao.reflector_interval_mins)??st.reflector_interval_mins),embedding_provider:String(((lo=Ne.config)==null?void 0:lo.embedding_provider)||""),embedding_api_key:"",embedding_base_url:String(((co=Ne.config)==null?void 0:co.embedding_base_url)||""),embedding_model:String(((uo=Ne.config)==null?void 0:uo.embedding_model)||""),embedding_dim:String(((fo=Ne.config)==null?void 0:fo.embedding_dim)||""),...Object.fromEntries(Wl.flatMap(_e=>{const xt=un[_e.name]||{},po=qh(xt),Ft=fn(po.length||1),Ii=[[`${_e.name}__account_id`,ga(xt)],[`${_e.name}__bot_count`,Ft]];for(let Vr=1;Vr<=ns;Vr+=1){const mo=po[Vr-1],TT=(mo==null?void 0:mo[0])||Gr(Vr),gy=(mo==null?void 0:mo[1])||{};Ii.push([`${_e.name}__bot_${Vr}__account_id`,TT]);for(const go of _e.fields)go.secret?(Ii.push([`${_e.name}__bot_${Vr}__has__${go.yamlKey}`,!!String(gy[go.yamlKey]||"").trim()]),Ii.push([`${_e.name}__bot_${Vr}__${go.yamlKey}`,""])):Ii.push([`${_e.name}__bot_${Vr}__${go.yamlKey}`,String(gy[go.yamlKey]||"")])}return Ii}))}),M(!0)}catch(Ne){if(Ti(Ne)){Ni("Session expired. Please sign in again.");return}if(iy(Ne)){g("Forbidden: Runtime Config is not accessible with current credentials.");return}g(Ne instanceof Error?Ne.message:String(Ne))}finally{Q(!1)}}async function cd(_=l){Xe(!0),qt(""),J(""),Oe(null),ge([]),lt([]);const H=s.some(V=>V.session_key===_),D=H?_:s.length>0?Iw(s):_;Hn(D);try{if(!H&&s.length===0){qt("No usage data yet. Send a message in this session first."),T(!0);return}const V=new URLSearchParams({session_key:D}),ae=await ut(`/api/usage?${V.toString()}`);J(String(ae.report||"").trim()),Oe(ae.memory_observability??null);const fe=new URLSearchParams({session_key:D,scope:"chat",hours:"168",limit:"1000",offset:"0"}),qe=await ut(`/api/memory_observability?${fe.toString()}`);ge(Array.isArray(qe.reflector_runs)?qe.reflector_runs:[]),lt(Array.isArray(qe.injection_logs)?qe.injection_logs:[]),T(!0)}catch(V){if(Ti(V)){Ni("Session expired. Please sign in again.");return}if(iy(V)){qt("Forbidden: Usage panel requires permission."),T(!0);return}qt(V instanceof Error?V.message:String(V)),T(!0)}finally{Xe(!1)}}function ne(_,H){W(D=>({...D,[_]:H}))}async function CT(){try{const _=String(E.llm_provider||"").trim().toLowerCase();if(_==="openai-codex"){const ye=String(E.api_key||"").trim(),vt=String(E.llm_base_url||"").trim();if(ye||vt){oe("Save failed: openai-codex ignores api_key/llm_base_url in microclaw config. Configure ~/.codex/auth.json and ~/.codex/config.toml.");return}}const H={llm_provider:String(E.llm_provider||""),model:String(E.model||""),bot_username:String(E.bot_username||"").trim(),web_bot_username:String(E.web_bot_username||"").trim()||null,working_dir_isolation:vf(E.working_dir_isolation||st.working_dir_isolation),max_tokens:Number(E.max_tokens||8192),max_tool_iterations:Number(E.max_tool_iterations||100),max_document_size_mb:Number(E.max_document_size_mb||st.max_document_size_mb),memory_token_budget:Number(E.memory_token_budget||st.memory_token_budget),show_thinking:!!E.show_thinking,web_enabled:!!E.web_enabled,web_host:String(E.web_host||"127.0.0.1"),web_port:Number(E.web_port||10961),reflector_enabled:E.reflector_enabled!==!1,reflector_interval_mins:Number(E.reflector_interval_mins||st.reflector_interval_mins),embedding_provider:String(E.embedding_provider||"").trim()||null,embedding_base_url:String(E.embedding_base_url||"").trim()||null,embedding_model:String(E.embedding_model||"").trim()||null,embedding_dim:String(E.embedding_dim||"").trim()?Number(E.embedding_dim):null};String(E.llm_provider||"").trim().toLowerCase()==="custom"?H.llm_base_url=String(E.llm_base_url||"").trim()||null:_==="openai-codex"&&(H.llm_base_url=null);const D=String(E.api_key||"").trim();_==="openai-codex"?H.api_key="":D&&(H.api_key=D);const V=So(E.telegram_account_id),ae=String(E.telegram_model||"").trim(),fe=fn(E.telegram_bot_count),qe=Aw(String(E.telegram_allowed_user_ids||""),"telegram_allowed_user_ids"),$e={};for(let ye=1;ye<=fe;ye+=1){const vt=So(E[`telegram_bot_${ye}_account_id`]||Kl(ye)),dn=String(E[`telegram_bot_${ye}_token`]||"").trim(),Kn=!!E[`telegram_bot_${ye}_has_token`],Je=String(E[`telegram_bot_${ye}_username`]||"").trim(),Rt=Aw(String(E[`telegram_bot_${ye}_allowed_user_ids`]||""),`telegram_bot_${ye}_allowed_user_ids`);if(dn||Kn||Je||Rt.length>0||vt===V){if(Object.prototype.hasOwnProperty.call($e,vt))throw new Error(`Duplicate Telegram account id: ${vt}`);$e[vt]={enabled:!0,...dn?{bot_token:dn}:{},...Je?{bot_username:Je}:{},...Rt.length>0?{allowed_user_ids:Rt}:{}}}}const Xt=So(E.discord_account_id),et=fn(E.discord_bot_count),Qe={};for(let ye=1;ye<=et;ye+=1){const vt=So(E[`discord_bot_${ye}_account_id`]||Gr(ye)),dn=String(E[`discord_bot_${ye}_token`]||"").trim(),Kn=!!E[`discord_bot_${ye}_has_token`],Je=_8(String(E[`discord_bot_${ye}_allowed_channels_csv`]||"")),Rt=String(E[`discord_bot_${ye}_username`]||"").trim(),yr=String(E[`discord_bot_${ye}_model`]||"").trim();if(dn||Kn||Je.length>0||Rt||yr||vt===Xt){if(Object.prototype.hasOwnProperty.call(Qe,vt))throw new Error(`Duplicate Discord account id: ${vt}`);Qe[vt]={enabled:!0,...dn?{bot_token:dn}:{},...Je.length>0?{allowed_channels:Je}:{},...Rt?{bot_username:Rt}:{},...yr?{model:yr}:{}}}}const re=String(E.irc_server||"").trim(),ct=String(E.irc_port||"").trim(),zr=String(E.irc_nick||"").trim(),$r=String(E.irc_username||"").trim(),Ur=String(E.irc_real_name||"").trim(),gr=String(E.irc_channels||"").trim(),ao=String(E.irc_password||"").trim(),lo=String(E.irc_mention_required||"").trim(),co=String(E.irc_tls||"").trim(),uo=String(E.irc_tls_server_name||"").trim(),fo=String(E.irc_tls_danger_accept_invalid_certs||"").trim(),Ne=String(E.irc_model||"").trim(),dl=String(E.embedding_api_key||"").trim();dl&&(H.embedding_api_key=dl);const un={};(Object.keys($e).length>0||qe.length>0||ae)&&(un.telegram={default_account:V,...ae?{model:ae}:{},...qe.length>0?{allowed_user_ids:qe}:{},accounts:$e}),Object.keys(Qe).length>0&&(un.discord={default_account:Xt,accounts:Qe}),(re||ct||zr||$r||Ur||gr||ao||lo||co||uo||fo||Ne)&&(un.irc={...re?{server:re}:{},...ct?{port:ct}:{},...zr?{nick:zr}:{},...$r?{username:$r}:{},...Ur?{real_name:Ur}:{},...gr?{channels:gr}:{},...ao?{password:ao}:{},...lo?{mention_required:lo}:{},...co?{tls:co}:{},...uo?{tls_server_name:uo}:{},...fo?{tls_danger_accept_invalid_certs:fo}:{},...Ne?{model:Ne}:{}});for(const ye of Wl){const vt=So(E[`${ye.name}__account_id`]),dn=fn(E[`${ye.name}__bot_count`]),Kn={};for(let Je=1;Je<=dn;Je+=1){const Rt=So(E[`${ye.name}__bot_${Je}__account_id`]||Gr(Je)),yr={};let Ps=Rt===vt;for(const ho of ye.fields){const vr=`${ye.name}__bot_${Je}__${ho.yamlKey}`,Dt=String(E[vr]||"").trim(),_e=ho.secret?!!E[`${ye.name}__bot_${Je}__has__${ho.yamlKey}`]:!1;Dt?(yr[ho.yamlKey]=Dt,Ps=!0):_e&&(Ps=!0)}if(Ps){if(Object.prototype.hasOwnProperty.call(Kn,Rt))throw new Error(`Duplicate ${ye.name} account id: ${Rt}`);Kn[Rt]={enabled:!0,...yr}}}Object.keys(Kn).length>0&&(un[ye.name]={default_account:vt,accounts:{...Kn}})}Object.keys(un).length>0&&(H.channel_configs=un),await ut("/api/config",{method:"PUT",body:JSON.stringify(H)}),Q(!0),$("");const Hr=await ut("/api/config/self_check").catch(ye=>($(ye instanceof Error?ye.message:String(ye)),null));q(Hr),Q(!1),oe("Saved. Restart microclaw to apply changes.")}catch(_){oe(`Save failed: ${_ instanceof Error?_.message:String(_)}`)}}f.useEffect(()=>{s8(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),f.useEffect(()=>{o8(n),document.documentElement.setAttribute("data-ui-theme",n)},[n]),f.useEffect(()=>{(async()=>{try{const _=await cl();if(_.authenticated&&await ay(),!_.has_password||!_.authenticated)return;await ly()}catch(_){g(_ instanceof Error?_.message:String(_))}})()},[]),f.useEffect(()=>{fr&&io(l).catch(_=>g(_ instanceof Error?_.message:String(_)))},[l,fr]),f.useEffect(()=>{fr&&ay().catch(()=>{})},[fr]),f.useEffect(()=>{Rw(l)},[l]);const dy=`${l}-${w}`,kT=t8[n]??"green",Ri=String(E.llm_provider||st.llm_provider).trim().toLowerCase(),ET=Array.from(new Set([Ri,...Z6.map(_=>_.toLowerCase())].filter(Boolean))),fy=e8[Ri]||[],Br=e==="dark"?"rounded-xl border p-5":"rounded-xl border border-slate-200/80 p-5",mr=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 68%, transparent)"}:void 0,ud=e==="dark"?"rounded-lg border p-3":"rounded-lg border border-slate-200/80 p-3",dd=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 60%, transparent)"}:void 0;return c.jsx(sd,{appearance:e,accentColor:kT,grayColor:"slate",radius:"medium",scaling:"100%",children:c.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-[var(--mc-bg-main)]":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[c.jsxs("div",{className:"grid h-full min-h-0 grid-cols-[320px_minmax(0,1fr)]",children:[c.jsx(G6,{appearance:e,onToggleAppearance:xT,uiTheme:n,onUiThemeChange:_=>r(_),uiThemeOptions:lT,sessionItems:ll,selectedSessionKey:l,onSessionSelect:_=>u(_),onRefreshSession:_=>void bT(_),onResetSession:_=>void wT(_),onDeleteSession:_=>void _T(_),onOpenConfig:ST,onOpenUsage:()=>cd(l),onNewSession:vT,appVersion:pT}),c.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-[var(--mc-bg-panel)]":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[c.jsx("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)]/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:c.jsx(Kg,{size:"6",children:mT})}),c.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,var(--mc-bg-panel),var(--mc-bg-main)_28%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[c.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[C?c.jsx(hn,{color:"orange",size:"1",variant:"soft",children:c.jsx(pn,{children:C})}):null,b?c.jsx(hn,{color:"red",size:"1",variant:"soft",className:C?"mt-2":"",children:c.jsx(pn,{children:b})}):null]}),c.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:c.jsx(b8,{adapter:yT,initialMessages:d,runtimeKey:dy},dy)})]})]})]}),c.jsx(Lo,{open:Is&&!Ci,children:c.jsxs(Do,{maxWidth:"520px",children:[c.jsx(Fo,{children:"Set Operator Password"}),c.jsx(Bo,{size:"2",children:"First-time setup: set an admin password using the bootstrap token from server logs."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"Bootstrap Token",description:c.jsxs(c.Fragment,{children:["Copy ",c.jsx("code",{children:"x-bootstrap-token"})," from MicroClaw startup logs."]}),children:c.jsx(te,{className:"mt-2",value:Ae,onChange:_=>Gt(_.target.value),placeholder:"902439dd-a93b-4c66-81bb-7ffba0057936"})}),c.jsxs(ee,{label:"Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:[c.jsx(te,{className:"mt-2",type:"password",value:Wn,onChange:_=>Yt(_.target.value),placeholder:"********"}),c.jsx("div",{className:"mt-2 flex items-center justify-end",children:c.jsx(mn,{size:"1",variant:"soft",onClick:()=>{const _=d8();Yt(_),hr(_),pr(_)},disabled:Nt,children:"Generate Password"})})]}),c.jsx(ee,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the same password."}),children:c.jsx(te,{className:"mt-2",type:"password",value:Fr,onChange:_=>hr(_.target.value),onKeyDown:_=>{_.key==="Enter"&&cy()},placeholder:"********"})})]}),O?c.jsx(hn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(pn,{children:O})}):null,yt?c.jsx(hn,{color:"green",size:"1",variant:"soft",className:"mt-3",children:c.jsxs(pn,{children:["Generated password: ",c.jsx("code",{children:yt})]})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(mn,{onClick:()=>void cy(),disabled:Nt,children:Nt?"Applying...":"Set Password"})})]})}),c.jsx(Lo,{open:Is&&Ci&&!fr,children:c.jsxs(Do,{maxWidth:"460px",children:[c.jsx(Fo,{children:"Sign In"}),c.jsx(Bo,{size:"2",children:"Enter your operator password to access sessions and history."}),sl?c.jsx(hn,{color:"orange",size:"1",variant:"soft",className:"mt-2",children:c.jsxs(pn,{children:["No custom password is set yet. Temporary default password: ",c.jsx("code",{children:"helloworld"})]})}):null,c.jsx(ee,{label:"Password",description:c.jsx(c.Fragment,{children:"Use the password configured for this Web UI."}),children:c.jsx(te,{className:"mt-2",type:"password",value:ie,onChange:_=>de(_.target.value),onKeyDown:_=>{_.key==="Enter"&&ld(ie)},placeholder:"********"})}),O?c.jsx(hn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(pn,{children:O})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(mn,{onClick:()=>void ld(ie),disabled:Nt,children:Nt?"Signing in...":"Sign In"})})]})}),c.jsx(Lo,{open:Is&&fr&&sl&&hT,children:c.jsxs(Do,{maxWidth:"520px",children:[c.jsx(Fo,{children:"Change Default Password"}),c.jsxs(Bo,{size:"2",children:["You are using the default password ",c.jsx("code",{children:"helloworld"}),". Set a new password now, or skip for now."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"New Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:c.jsx(te,{className:"mt-2",type:"password",value:ey,onChange:_=>ty(_.target.value),placeholder:"********"})}),c.jsx(ee,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the new password."}),children:c.jsx(te,{className:"mt-2",type:"password",value:ny,onChange:_=>ry(_.target.value),onKeyDown:_=>{_.key==="Enter"&&uy()},placeholder:"********"})})]}),Jg?c.jsx(hn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(pn,{children:Jg})}):null,c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx(mn,{variant:"soft",onClick:()=>il(!1),disabled:ad,children:"Skip for now"}),c.jsx(mn,{onClick:()=>void uy(),disabled:ad,children:ad?"Updating...":"Update Password"})]})]})}),c.jsx(Lo,{open:I,onOpenChange:M,children:c.jsxs(Do,{maxWidth:"1120px",className:"overflow-hidden flex flex-col",style:{width:"1120px",height:"760px",maxWidth:"1120px",maxHeight:"760px"},children:[c.jsx(Fo,{children:"Settings"}),c.jsx(Bo,{size:"2",mb:"3",children:"Channel-first configuration. Save writes to microclaw.config.yaml. Restart is required."}),U?c.jsx(hn,{color:U.risk_level==="high"?"red":U.risk_level==="medium"?"orange":"green",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(pn,{children:["Config self-check: risk=",String(U.risk_level||"none"),", warnings=",Number(U.warning_count||0),"."," ",c.jsx("a",{href:`${ts}/configuration`,target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})}):null,U!=null&&U.security_posture?c.jsxs("details",{className:"mb-2",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:"Security posture details"}),c.jsxs(St,{className:"mt-2 p-3",children:[c.jsxs(Y,{size:"2",weight:"bold",children:["Security posture"," ",c.jsx("a",{href:`${ts}/permissions`,target:"_blank",rel:"noreferrer",className:"underline text-[color:var(--mc-accent)]",children:"Rules"})]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["sandbox=",String(U.security_posture.sandbox_mode||"off")," | runtime=",String(!!U.security_posture.sandbox_runtime_available)," | backend=",String(U.security_posture.sandbox_backend||"auto")]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["mount allowlist: ",String(((hy=U.security_posture.mount_allowlist)==null?void 0:hy.path)||"(default)")," | exists=",String(!!((py=U.security_posture.mount_allowlist)!=null&&py.exists))," | has_entries=",String(!!((my=U.security_posture.mount_allowlist)!=null&&my.has_entries))]}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(U.security_posture.execution_policies||[]).map((_,H)=>c.jsxs(Gg,{color:_.risk==="high"?"red":_.risk==="medium"?"orange":"gray",variant:"soft",children:[String(_.tool),": ",String(_.policy)]},`${String(_.tool)}-${H}`))})]})]}):null,K?c.jsx(Y,{size:"1",color:"gray",className:"mb-2 block",children:"Checking critical config risks..."}):null,j?c.jsx(hn,{color:"red",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(pn,{children:["Self-check failed: ",j]})}):null,c.jsx("div",{className:"mt-2 min-h-0 flex-1",children:A?c.jsx(iT,{defaultValue:"general",orientation:"vertical",className:"h-full min-h-0",children:c.jsxs("div",{className:"grid h-full grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsx(St,{className:"h-full p-3",style:mr,children:c.jsxs(aT,{className:"mc-settings-tabs-list flex h-full w-full flex-col gap-1",children:[c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-1 uppercase tracking-wide",children:"Runtime"}),c.jsx(Qr,{value:"general",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  General"}),c.jsx(Qr,{value:"model",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Model"}),c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Channels"}),c.jsx(Qr,{value:"telegram",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Telegram"}),c.jsx(Qr,{value:"discord",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Discord"}),c.jsx(Qr,{value:"irc",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  IRC"}),Wl.map(_=>c.jsxs(Qr,{value:_.name,className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:[_.icon,"  ",_.title]},_.name)),c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Integrations"}),c.jsx(Qr,{value:"web",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Web"}),fr?c.jsxs("div",{className:"mt-auto pt-3",children:[c.jsx(Qg,{size:"4"}),c.jsx("button",{type:"button",onClick:()=>void gT(),className:"mt-3 inline-flex w-full items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition hover:brightness-110 active:brightness-95",style:e==="dark"?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-panel)",color:"var(--mc-text)"}:void 0,children:"Log out"})]}):null]})}),c.jsxs("div",{className:"min-w-0 overflow-y-auto pr-1",children:[c.jsx(Jr,{value:"general",children:c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"General"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"Runtime defaults used across all channels."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-2 block",children:"working_dir_isolation: chat = isolated workspace per chat; shared = one shared workspace."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"max_tokens / max_tool_iterations / max_document_size_mb / memory_token_budget control response budget and tool loop safety."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"bot_username",description:c.jsxs(c.Fragment,{children:["Global default bot username. Channel-specific ",c.jsx("code",{children:"channels.<name>.bot_username"})," overrides this."]}),children:c.jsx(te,{className:"mt-2",value:String(E.bot_username||""),onChange:_=>ne("bot_username",_.target.value),placeholder:"bot"})}),c.jsx(ee,{label:"working_dir_isolation",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"chat"})," for per-chat isolation, or ",c.jsx("code",{children:"shared"})," for one shared workspace."]}),children:c.jsxs("select",{className:"mt-2 w-full rounded-md border border-[color:var(--mc-border-soft)] bg-transparent px-3 py-2 text-base text-[color:inherit] outline-none focus:border-[color:var(--mc-accent)]",value:vf(E.working_dir_isolation||st.working_dir_isolation),onChange:_=>ne("working_dir_isolation",_.target.value),children:[c.jsx("option",{value:"chat",children:"chat (per-chat isolated workspace)"}),c.jsx("option",{value:"shared",children:"shared (single shared workspace)"})]})}),c.jsx(ee,{label:"max_tokens",description:c.jsx(c.Fragment,{children:"Maximum output tokens for one model response."}),children:c.jsx(te,{className:"mt-2",value:String(E.max_tokens||st.max_tokens),onChange:_=>ne("max_tokens",_.target.value),placeholder:"8192"})}),c.jsx(ee,{label:"max_tool_iterations",description:c.jsx(c.Fragment,{children:"Upper bound for tool loop iterations in one request."}),children:c.jsx(te,{className:"mt-2",value:String(E.max_tool_iterations||st.max_tool_iterations),onChange:_=>ne("max_tool_iterations",_.target.value),placeholder:"100"})}),c.jsx(ee,{label:"max_document_size_mb",description:c.jsx(c.Fragment,{children:"Maximum uploaded file size in MB."}),children:c.jsx(te,{className:"mt-2",value:String(E.max_document_size_mb||st.max_document_size_mb),onChange:_=>ne("max_document_size_mb",_.target.value),placeholder:"100"})}),c.jsx(ee,{label:"memory_token_budget",description:c.jsx(c.Fragment,{children:"Estimated token budget for injecting structured memories into the system prompt."}),children:c.jsx(te,{className:"mt-2",type:"number",value:String(E.memory_token_budget||st.memory_token_budget),onChange:_=>ne("memory_token_budget",_.target.value),placeholder:"1500"})})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[c.jsx(xf,{label:"show_thinking",description:c.jsx(c.Fragment,{children:"Show intermediate reasoning text in responses."}),checked:!!E.show_thinking,onCheckedChange:_=>ne("show_thinking",_),className:ud,style:dd}),c.jsx(xf,{label:"web_enabled",description:c.jsx(c.Fragment,{children:"Enable built-in Web UI and API endpoint."}),checked:!!E.web_enabled,onCheckedChange:_=>ne("web_enabled",_),className:ud,style:dd}),c.jsx(xf,{label:"reflector_enabled",description:c.jsx(c.Fragment,{children:"Periodically extract structured memories from conversations in the background."}),checked:E.reflector_enabled!==!1,onCheckedChange:_=>ne("reflector_enabled",_),className:ud,style:dd})]}),c.jsx("div",{className:"mt-4 space-y-3",children:c.jsx(ee,{label:"reflector_interval_mins",description:c.jsx(c.Fragment,{children:"How often (in minutes) the memory reflector runs. Requires restart."}),children:c.jsx(te,{className:"mt-2",type:"number",value:String(E.reflector_interval_mins??st.reflector_interval_mins),onChange:_=>ne("reflector_interval_mins",_.target.value),placeholder:"15"})})})]})}),c.jsxs(Jr,{value:"model",children:[c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Model"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"LLM provider and API settings."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-2 block",children:"llm_provider selects routing preset; model is the exact model id sent to provider API."}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["For custom providers set ",c.jsx("code",{children:"llm_base_url"}),". For ",c.jsx("code",{children:"openai-codex"}),", configure auth/provider in ",c.jsx("code",{children:"~/.codex/auth.json"})," and ",c.jsx("code",{children:"~/.codex/config.toml"})," (this form ignores ",c.jsx("code",{children:"api_key"}),"/",c.jsx("code",{children:"llm_base_url"}),"). ",c.jsx("code",{children:"ollama"})," can leave ",c.jsx("code",{children:"api_key"})," empty."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"llm_provider",description:c.jsx(c.Fragment,{children:"Select provider preset for request routing and defaults."}),children:c.jsx("div",{className:"mt-2",children:c.jsxs(tT,{value:String(E.llm_provider||st.llm_provider),onValueChange:_=>ne("llm_provider",_),children:[c.jsx(nT,{className:"w-full mc-select-trigger-full",placeholder:"Select provider"}),c.jsx(rT,{children:ET.map(_=>c.jsx(sT,{value:_,children:_},_))})]})})}),c.jsxs(ee,{label:"model",description:c.jsx(c.Fragment,{children:"Exact model id to use for requests."}),children:[c.jsx(te,{className:"mt-2",value:String(E.model||Nw(String(E.llm_provider||st.llm_provider))),onChange:_=>ne("model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"}),fy.length>0?c.jsxs(Y,{size:"1",color:"gray",className:"mt-2 block",children:["Suggested: ",fy.join(" / ")]}):null]}),Ri==="custom"?c.jsx(ee,{label:"llm_base_url",description:c.jsx(c.Fragment,{children:"Base URL for OpenAI-compatible custom provider endpoint."}),children:c.jsx(te,{className:"mt-2",value:String(E.llm_base_url||""),onChange:_=>ne("llm_base_url",_.target.value),placeholder:"https://api.example.com/v1"})}):null,c.jsx(ee,{label:"api_key",description:Ri==="openai-codex"?c.jsxs(c.Fragment,{children:["For ",c.jsx("code",{children:"openai-codex"}),", this field is ignored. Configure ",c.jsx("code",{children:"~/.codex/auth.json"})," instead."]}):c.jsx(c.Fragment,{children:"Provider API key. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E.api_key||""),onChange:_=>ne("api_key",_.target.value),placeholder:Ri==="openai-codex"?"(ignored for openai-codex)":"sk-..."})})]})]}),c.jsxs("div",{className:`${Br} mt-4`,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Embedding"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"Optional embedding runtime settings for semantic memory (requires sqlite-vec build)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"embedding_provider",description:c.jsxs(c.Fragment,{children:["Optional runtime embedding provider: ",c.jsx("code",{children:"openai"})," or ",c.jsx("code",{children:"ollama"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_provider||""),onChange:_=>ne("embedding_provider",_.target.value),placeholder:"openai"})}),c.jsx(ee,{label:"embedding_api_key",description:c.jsx(c.Fragment,{children:"Optional embedding API key. Leave blank to keep unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_api_key||""),onChange:_=>ne("embedding_api_key",_.target.value),placeholder:"sk-..."})}),c.jsx(ee,{label:"embedding_base_url",description:c.jsx(c.Fragment,{children:"Optional embedding base URL override."}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_base_url||""),onChange:_=>ne("embedding_base_url",_.target.value),placeholder:"https://api.openai.com/v1"})}),c.jsx(ee,{label:"embedding_model",description:c.jsx(c.Fragment,{children:"Optional embedding model id."}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_model||""),onChange:_=>ne("embedding_model",_.target.value),placeholder:"text-embedding-3-small"})}),c.jsx(ee,{label:"embedding_dim",description:c.jsx(c.Fragment,{children:"Optional embedding vector dimension."}),children:c.jsx(te,{className:"mt-2",type:"number",value:String(E.embedding_dim||""),onChange:_=>ne("embedding_dim",_.target.value),placeholder:"1536"})})]})]})]}),c.jsx(Jr,{value:"telegram",children:c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Telegram"}),c.jsx(Ki,{steps:[c.jsxs(c.Fragment,{children:["Open Telegram and chat with ",c.jsx("code",{children:"@BotFather"}),"."]}),c.jsxs(c.Fragment,{children:["Run ",c.jsx("code",{children:"/newbot"}),", set name and username (must end with ",c.jsx("code",{children:"bot"}),")."]}),c.jsx(c.Fragment,{children:"Copy the bot token and paste below."}),c.jsx(c.Fragment,{children:"Configure one or more bot accounts; each account can set its own username."}),c.jsx(c.Fragment,{children:"In groups, mention the bot to trigger replies."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Configure one or more bots (up to 10). Leave token blank to keep existing secret unchanged."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"telegram_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.telegram_account_id||"main"),onChange:_=>ne("telegram_account_id",_.target.value),placeholder:"main"})}),c.jsx(ee,{label:"telegram_bot_count",description:c.jsx(c.Fragment,{children:"Number of Telegram bot accounts to configure (1-10)."}),children:c.jsx(te,{className:"mt-2",type:"number",min:"1",max:String(ns),value:String(E.telegram_bot_count||1),onChange:_=>ne("telegram_bot_count",fn(_.target.value))})}),c.jsx(ee,{label:"telegram_model",description:c.jsx(c.Fragment,{children:"Optional Telegram channel-level model override."}),children:c.jsx(te,{className:"mt-2",value:String(E.telegram_model||""),onChange:_=>ne("telegram_model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"})}),c.jsx(ee,{label:"telegram_allowed_user_ids",description:c.jsxs(c.Fragment,{children:["Optional channel-level allowlist. Accepts CSV or JSON array (for example ",c.jsx("code",{children:"123,456"})," or ",c.jsx("code",{children:"[123,456]"}),"). Merged with each bot account's ",c.jsx("code",{children:"allowed_user_ids"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.telegram_allowed_user_ids||""),onChange:_=>ne("telegram_allowed_user_ids",_.target.value),placeholder:"123456789,987654321"})}),Array.from({length:fn(E.telegram_bot_count||1)}).map((_,H)=>{const D=H+1;return c.jsxs(St,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:["Telegram bot #",D]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(ee,{label:`telegram_bot_${D}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_account_id`]||Kl(D)),onChange:V=>ne(`telegram_bot_${D}_account_id`,V.target.value),placeholder:Kl(D)})}),c.jsx(ee,{label:`telegram_bot_${D}_token`,description:c.jsx(c.Fragment,{children:"BotFather token for this account. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_token`]||""),onChange:V=>ne(`telegram_bot_${D}_token`,V.target.value),placeholder:"123456789:AA..."})}),c.jsx(ee,{label:`telegram_bot_${D}_username`,description:c.jsxs(c.Fragment,{children:["Telegram username without ",c.jsx("code",{children:"@"}),", used for group mention trigger."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_username`]||""),onChange:V=>ne(`telegram_bot_${D}_username`,V.target.value),placeholder:D===1?"my_main_bot":`my_bot_${D}`})}),c.jsx(ee,{label:`telegram_bot_${D}_allowed_user_ids`,description:c.jsx(c.Fragment,{children:"Optional per-bot private-chat allowlist (CSV or JSON array)."}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_allowed_user_ids`]||""),onChange:V=>ne(`telegram_bot_${D}_allowed_user_ids`,V.target.value),placeholder:"123456789,987654321"})})]})]},`telegram-bot-${D}`)})]})]})}),c.jsx(Jr,{value:"discord",children:c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Discord"}),c.jsx(Ki,{steps:[c.jsx(c.Fragment,{children:"Open Discord Developer Portal and create an application + bot."}),c.jsxs(c.Fragment,{children:["Enable ",c.jsx("code",{children:"Message Content Intent"})," under Bot settings."]}),c.jsx(c.Fragment,{children:"Invite bot with scopes/permissions: bot, View Channels, Send Messages, Read Message History."}),c.jsx(c.Fragment,{children:"Paste bot token below."}),c.jsx(c.Fragment,{children:"Optional: limit handling to specific channel IDs."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Configure one or more Discord bot accounts (up to 10)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"discord_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.discord_account_id||"main"),onChange:_=>ne("discord_account_id",_.target.value),placeholder:"main"})}),c.jsx(ee,{label:"discord_bot_count",description:c.jsx(c.Fragment,{children:"Number of Discord bot accounts to configure (1-10)."}),children:c.jsx(te,{className:"mt-2",type:"number",min:"1",max:String(ns),value:String(E.discord_bot_count||1),onChange:_=>ne("discord_bot_count",fn(_.target.value))})}),Array.from({length:fn(E.discord_bot_count||1)}).map((_,H)=>{const D=H+1;return c.jsxs(St,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:["Discord bot #",D]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(ee,{label:`discord_bot_${D}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_account_id`]||Gr(D)),onChange:V=>ne(`discord_bot_${D}_account_id`,V.target.value),placeholder:Gr(D)})}),c.jsx(ee,{label:`discord_bot_${D}_token`,description:c.jsx(c.Fragment,{children:"Discord bot token for this account. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_token`]||""),onChange:V=>ne(`discord_bot_${D}_token`,V.target.value),placeholder:"MTAx..."})}),c.jsx(ee,{label:`discord_bot_${D}_allowed_channels`,description:c.jsx(c.Fragment,{children:"Optional allowlist. Only listed channel IDs can trigger this bot."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_allowed_channels_csv`]||""),onChange:V=>ne(`discord_bot_${D}_allowed_channels_csv`,V.target.value),placeholder:"1234567890,9876543210"})}),c.jsx(ee,{label:`discord_bot_${D}_username`,description:c.jsx(c.Fragment,{children:"Optional Discord bot username override."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_username`]||""),onChange:V=>ne(`discord_bot_${D}_username`,V.target.value),placeholder:D===1?"discord_main_bot":`discord_bot_${D}`})}),c.jsx(ee,{label:`discord_bot_${D}_model`,description:c.jsx(c.Fragment,{children:"Optional model override for this bot account."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_model`]||""),onChange:V=>ne(`discord_bot_${D}_model`,V.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]},`discord-bot-${D}`)})]})]})}),c.jsx(Jr,{value:"irc",children:c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"IRC"}),c.jsx(Ki,{steps:[c.jsx(c.Fragment,{children:"Set IRC server and nick."}),c.jsxs(c.Fragment,{children:["Set channels as comma-separated list, for example ",c.jsx("code",{children:"#general,#bot"}),"."]}),c.jsx(c.Fragment,{children:"Use TLS fields when connecting to secure endpoints."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Required for IRC runtime: server and nick."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"irc_server",description:c.jsx(c.Fragment,{children:"IRC server hostname."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_server||""),onChange:_=>ne("irc_server",_.target.value),placeholder:"irc.libera.chat"})}),c.jsx(ee,{label:"irc_port",description:c.jsx(c.Fragment,{children:"IRC server port. Typical values: 6667 or 6697 (TLS)."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_port||""),onChange:_=>ne("irc_port",_.target.value),placeholder:"6667"})}),c.jsx(ee,{label:"irc_nick",description:c.jsx(c.Fragment,{children:"Bot nickname."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_nick||""),onChange:_=>ne("irc_nick",_.target.value),placeholder:"microclaw"})}),c.jsx(ee,{label:"irc_username",description:c.jsx(c.Fragment,{children:"Optional IRC username. Defaults to nick when empty."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_username||""),onChange:_=>ne("irc_username",_.target.value),placeholder:"microclaw"})}),c.jsx(ee,{label:"irc_real_name",description:c.jsx(c.Fragment,{children:"Optional IRC real name/gecos field."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_real_name||""),onChange:_=>ne("irc_real_name",_.target.value),placeholder:"MicroClaw"})}),c.jsx(ee,{label:"irc_channels",description:c.jsx(c.Fragment,{children:"Comma-separated target channels."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_channels||""),onChange:_=>ne("irc_channels",_.target.value),placeholder:"#general,#support"})}),c.jsx(ee,{label:"irc_password",description:c.jsx(c.Fragment,{children:"Optional IRC server password. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_password||""),onChange:_=>ne("irc_password",_.target.value),placeholder:"password"})}),c.jsx(ee,{label:"irc_mention_required",description:c.jsxs(c.Fragment,{children:["In channels, require bot mention before responding (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_mention_required||""),onChange:_=>ne("irc_mention_required",_.target.value),placeholder:"true"})}),c.jsx(ee,{label:"irc_tls",description:c.jsxs(c.Fragment,{children:["Enable TLS (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_tls||""),onChange:_=>ne("irc_tls",_.target.value),placeholder:"false"})}),c.jsx(ee,{label:"irc_tls_server_name",description:c.jsx(c.Fragment,{children:"Optional TLS SNI server name. Defaults to server."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_tls_server_name||""),onChange:_=>ne("irc_tls_server_name",_.target.value),placeholder:"irc.libera.chat"})}),c.jsx(ee,{label:"irc_tls_danger_accept_invalid_certs",description:c.jsxs(c.Fragment,{children:["Allow invalid TLS certs (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),"). Only for testing."]}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_tls_danger_accept_invalid_certs||""),onChange:_=>ne("irc_tls_danger_accept_invalid_certs",_.target.value),placeholder:"false"})}),c.jsx(ee,{label:"irc_model",description:c.jsx(c.Fragment,{children:"Optional IRC model override."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_model||""),onChange:_=>ne("irc_model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),Wl.map(_=>c.jsx(Jr,{value:_.name,children:c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:_.title}),c.jsx(Ki,{steps:_.steps.map((H,D)=>c.jsx("span",{children:H},D))}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:_.hint}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:`${_.name}_default_account`,description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsxs("code",{children:["channels.",_.name,".accounts"]}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`${_.name}__account_id`]||"main"),onChange:H=>ne(`${_.name}__account_id`,H.target.value),placeholder:"main"})},`${_.name}__account_id`),c.jsx(ee,{label:`${_.name}_bot_count`,description:c.jsxs(c.Fragment,{children:["Number of bot accounts to configure for ",c.jsx("code",{children:_.name})," (1-10)."]}),children:c.jsx(te,{className:"mt-2",type:"number",min:"1",max:String(ns),value:String(E[`${_.name}__bot_count`]||1),onChange:H=>ne(`${_.name}__bot_count`,fn(H.target.value))})},`${_.name}__bot_count`),Array.from({length:fn(E[`${_.name}__bot_count`]||1)}).map((H,D)=>{const V=D+1;return c.jsxs(St,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:[_.title," bot #",V]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(ee,{label:`${_.name}_bot_${V}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsxs("code",{children:["channels.",_.name,".accounts"]}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`${_.name}__bot_${V}__account_id`]||Gr(V)),onChange:ae=>ne(`${_.name}__bot_${V}__account_id`,ae.target.value),placeholder:Gr(V)})},`${_.name}__bot_${V}__account_id`),_.fields.map(ae=>{const fe=`${_.name}__bot_${V}__${ae.yamlKey}`;return c.jsx(ee,{label:`${_.name}_bot_${V}_${ae.yamlKey}`,description:c.jsx(c.Fragment,{children:ae.description}),children:c.jsx(te,{className:"mt-2",value:String(E[fe]||""),onChange:qe=>ne(fe,qe.target.value),placeholder:ae.placeholder})},fe)})]})]},`${_.name}-bot-${V}`)})]})]})},_.name)),c.jsx(Jr,{value:"web",children:c.jsxs("div",{className:Br,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Web"}),c.jsx(Ki,{steps:[c.jsxs(c.Fragment,{children:["Keep ",c.jsx("code",{children:"web_enabled"})," on for local UI access."]}),c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only host, or set LAN host explicitly."]}),c.jsxs(c.Fragment,{children:["Choose web port (default ",c.jsx("code",{children:"10961"}),")."]})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"For local only, keep host as 127.0.0.1. Use 0.0.0.0 only behind trusted network controls."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"web_host",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only. Use ",c.jsx("code",{children:"0.0.0.0"})," only when intentionally exposing on LAN."]}),children:c.jsx(te,{className:"mt-2",value:String(E.web_host||st.web_host),onChange:_=>ne("web_host",_.target.value),placeholder:"127.0.0.1"})}),c.jsx(ee,{label:"web_port",description:c.jsx(c.Fragment,{children:"HTTP port for Web UI and API endpoint."}),children:c.jsx(te,{className:"mt-2",value:String(E.web_port||st.web_port),onChange:_=>ne("web_port",_.target.value),placeholder:"10961"})}),c.jsx(ee,{label:"web_bot_username",description:c.jsx(c.Fragment,{children:"Optional Web-specific bot username override."}),children:c.jsx(te,{className:"mt-2",value:String(E.web_bot_username||""),onChange:_=>ne("web_bot_username",_.target.value),placeholder:"web_bot_name"})})]}),Array.isArray(U==null?void 0:U.warnings)&&U.warnings.length>0?c.jsxs("details",{className:"mt-4",children:[c.jsxs("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:["Critical config warnings (",U.warnings.length,")"]}),c.jsxs(St,{className:"mt-2 p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Critical Config Warnings"}),c.jsx("div",{className:"mt-2 space-y-2",children:U.warnings.map((_,H)=>c.jsx(hn,{color:_.severity==="high"?"red":"orange",size:"1",variant:"soft",children:c.jsxs(pn,{children:["[",String(_.severity||"unknown"),"] ",String(_.code||"warning"),": ",String(_.message||"")," ",c.jsx("a",{href:J6(_.code),target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})},`${_.code||"warning"}-${H}`))})]})]}):null]})})]})]})}):c.jsx(Y,{size:"2",color:"gray",children:"Loading..."})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-[color:var(--mc-border-soft)] pt-3",children:[S?c.jsx(Y,{size:"2",color:S.startsWith("Save failed")?"red":"green",children:S}):c.jsx("span",{}),c.jsxs(Mn,{justify:"end",gap:"2",children:[c.jsx(eT,{children:c.jsx(mn,{variant:"soft",children:"Close"})}),c.jsx(mn,{onClick:()=>void CT(),children:"Save"})]})]})]})}),c.jsx(Q6,{open:pe,onOpenChange:T,usageSession:Cn,sessionKey:l,usageLoading:Pe,usageError:Lt,usageReport:we,usageMemory:me,reflectorRuns:be,injectionLogs:Te,onRefreshCurrent:()=>void cd(l),onRefreshThis:()=>void cd(Cn||l)})]})})}K_(document.getElementById("root")).render(c.jsx(S8,{}));
