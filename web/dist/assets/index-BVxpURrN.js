var mT=Object.defineProperty;var oy=e=>{throw TypeError(e)};var gT=(e,t,n)=>t in e?mT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>gT(e,typeof t!="symbol"?t+"":t,n),iy=(e,t,n)=>t.has(e)||oy("Cannot "+n);var yi=(e,t,n)=>(iy(e,t,"read from private field"),n?n.call(e):t.get(e)),vi=(e,t,n)=>t.has(e)?oy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xi=(e,t,n,r)=>(iy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function yT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bw={exports:{}},Yc={},Sw={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),vT=Symbol.for("react.portal"),xT=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),bT=Symbol.for("react.profiler"),ST=Symbol.for("react.provider"),_T=Symbol.for("react.context"),CT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),ET=Symbol.for("react.memo"),TT=Symbol.for("react.lazy"),ay=Symbol.iterator;function RT(e){return e===null||typeof e!="object"?null:(e=ay&&e[ay]||e["@@iterator"],typeof e=="function"?e:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cw=Object.assign,kw={};function Zo(e,t,n){this.props=e,this.context=t,this.refs=kw,this.updater=n||_w}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ew(){}Ew.prototype=Zo.prototype;function Lh(e,t,n){this.props=e,this.context=t,this.refs=kw,this.updater=n||_w}var Dh=Lh.prototype=new Ew;Dh.constructor=Lh;Cw(Dh,Zo.prototype);Dh.isPureReactComponent=!0;var ly=Array.isArray,Tw=Object.prototype.hasOwnProperty,Fh={current:null},Rw={key:!0,ref:!0,__self:!0,__source:!0};function Nw(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Tw.call(t,r)&&!Rw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pa,type:e,key:o,ref:i,props:s,_owner:Fh.current}}function NT(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function IT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cy=/\/+/g;function Zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IT(""+e.key):t.toString(36)}function Al(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pa:case vT:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Zu(i,0):r,ly(s)?(n="",e!=null&&(n=e.replace(cy,"$&/")+"/"),Al(s,t,n,"",function(u){return u})):s!=null&&(zh(s)&&(s=NT(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(cy,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",ly(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Zu(o,a);i+=Al(o,t,n,l,s)}else if(l=RT(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Zu(o,a++),i+=Al(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ja(e,t,n){if(e==null)return e;var r=[],s=0;return Al(e,r,"","",function(o){return t.call(n,o,s++)}),r}function PT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},jl={transition:null},AT={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:jl,ReactCurrentOwner:Fh};function Iw(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ja,forEach:function(e,t,n){Ja(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ja(e,function(){t++}),t},toArray:function(e){return Ja(e,function(t){return t})||[]},only:function(e){if(!zh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Zo;fe.Fragment=xT;fe.Profiler=bT;fe.PureComponent=Lh;fe.StrictMode=wT;fe.Suspense=kT;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT;fe.act=Iw;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Fh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Tw.call(t,l)&&!Rw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pa,type:e.type,key:s,ref:o,props:r,_owner:i}};fe.createContext=function(e){return e={$$typeof:_T,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ST,_context:e},e.Consumer=e};fe.createElement=Nw;fe.createFactory=function(e){var t=Nw.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:CT,render:e}};fe.isValidElement=zh;fe.lazy=function(e){return{$$typeof:TT,_payload:{_status:-1,_result:e},_init:PT}};fe.memo=function(e,t){return{$$typeof:ET,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=jl.transition;jl.transition={};try{e()}finally{jl.transition=t}};fe.unstable_act=Iw;fe.useCallback=function(e,t){return Tt.current.useCallback(e,t)};fe.useContext=function(e){return Tt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Tt.current.useEffect(e,t)};fe.useId=function(){return Tt.current.useId()};fe.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Tt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};fe.useRef=function(e){return Tt.current.useRef(e)};fe.useState=function(e){return Tt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Tt.current.useTransition()};fe.version="18.3.1";Sw.exports=fe;var f=Sw.exports;const be=Jo(f),Bh=yT({__proto__:null,default:be},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT=f,MT=Symbol.for("react.element"),OT=Symbol.for("react.fragment"),LT=Object.prototype.hasOwnProperty,DT=jT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FT={key:!0,ref:!0,__self:!0,__source:!0};function Pw(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)LT.call(t,r)&&!FT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:MT,type:e,key:o,ref:i,props:s,_owner:DT.current}}Yc.Fragment=OT;Yc.jsx=Pw;Yc.jsxs=Pw;bw.exports=Yc;var c=bw.exports,Aw={exports:{}},Zt={},jw={exports:{}},Mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,B){var _=j.length;j.push(B);e:for(;0<_;){var ne=_-1>>>1,he=j[ne];if(0<s(he,B))j[ne]=B,j[_]=he,_=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],_=j.pop();if(_!==B){j[0]=_;e:for(var ne=0,he=j.length,E=he>>>1;ne<E;){var Ne=2*(ne+1)-1,Ye=j[Ne],ve=Ne+1,Q=j[ve];if(0>s(Ye,_))ve<he&&0>s(Q,Ye)?(j[ne]=Q,j[ve]=_,ne=ve):(j[ne]=Ye,j[Ne]=_,ne=Ne);else if(ve<he&&0>s(Q,_))j[ne]=Q,j[ve]=_,ne=ve;else break e}}return B}function s(j,B){var _=j.sortIndex-B.sortIndex;return _!==0?_:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=j)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function C(j){if(y=!1,x(j),!w)if(n(l)!==null)w=!0,V(N);else{var B=n(u);B!==null&&X(C,B.startTime-j)}}function N(j,B){w=!1,y&&(y=!1,g(I),I=-1),m=!0;var _=p;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||j&&!L());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var he=ne(h.expirationTime<=B);B=e.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var E=!0;else{var Ne=n(u);Ne!==null&&X(C,Ne.startTime-B),E=!1}return E}finally{h=null,p=_,m=!1}}var k=!1,T=null,I=-1,M=5,A=-1;function L(){return!(e.unstable_now()-A<M)}function R(){if(T!==null){var j=e.unstable_now();A=j;var B=!0;try{B=T(!0,j)}finally{B?U():(k=!1,T=null)}}else k=!1}var U;if(typeof v=="function")U=function(){v(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=R,U=function(){W.postMessage(null)}}else U=function(){b(R,0)};function V(j){T=j,k||(k=!0,U())}function X(j,B){I=b(function(){j(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,V(N))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var _=p;p=B;try{return j()}finally{p=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var _=p;p=j;try{return B()}finally{p=_}},e.unstable_scheduleCallback=function(j,B,_){var ne=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?ne+_:ne):_=ne,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=_+he,j={id:d++,callback:B,priorityLevel:j,startTime:_,expirationTime:he,sortIndex:-1},_>ne?(j.sortIndex=_,t(u,j),n(l)===null&&j===n(u)&&(y?(g(I),I=-1):y=!0,X(C,_-ne))):(j.sortIndex=he,t(l,j),w||m||(w=!0,V(N))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var B=p;return function(){var _=p;p=B;try{return j.apply(this,arguments)}finally{p=_}}}})(Mw);jw.exports=Mw;var zT=jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=f,Jt=zT;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ow=new Set,na={};function Vs(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(na[e]=t,e=0;e<t.length;e++)Ow.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,$T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uy={},dy={};function UT(e){return cf.call(dy,e)?!0:cf.call(uy,e)?!1:$T.test(e)?dy[e]=!0:(uy[e]=!0,!1)}function HT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VT(e,t,n,r){if(t===null||typeof t>"u"||HT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $h=/[\-:]([a-z])/g;function Uh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($h,Uh);ft[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($h,Uh);ft[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($h,Uh);ft[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hh(e,t,n,r){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VT(t,n,s,r)&&(n=null),r||s===null?UT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _r=BT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),Lw=Symbol.for("react.provider"),Dw=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),Fw=Symbol.for("react.offscreen"),fy=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=fy&&e[fy]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,ed;function ji(e){if(ed===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ed=t&&t[1]||""}return`
`+ed+e}var td=!1;function nd(e,t){if(!e||td)return"";td=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{td=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ji(e):""}function WT(e){switch(e.tag){case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return e=nd(e.type,!1),e;case 11:return e=nd(e.type.render,!1),e;case 1:return e=nd(e.type,!0),e;default:return""}}function hf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uo:return"Fragment";case co:return"Portal";case uf:return"Profiler";case Vh:return"StrictMode";case df:return"Suspense";case ff:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dw:return(e.displayName||"Context")+".Consumer";case Lw:return(e._context.displayName||"Context")+".Provider";case Wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kh:return t=e.displayName||null,t!==null?t:hf(e.type)||"Memo";case Br:t=e._payload,e=e._init;try{return hf(e(t))}catch{}}return null}function KT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hf(t);case 8:return t===Vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qT(e){var t=zw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function el(e){e._valueTracker||(e._valueTracker=qT(e))}function Bw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pf(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $w(e,t){t=t.checked,t!=null&&Hh(e,"checked",t,!1)}function mf(e,t){$w(e,t);var n=rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gf(e,t.type,n):t.hasOwnProperty("defaultValue")&&gf(e,t.type,rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function py(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gf(e,t,n){(t!=="number"||sc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mi=Array.isArray;function Eo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function my(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Mi(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rs(n)}}function Uw(e,t){var n=rs(t.value),r=rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tl,Vw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tl=tl||document.createElement("div"),tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GT=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(e){GT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fi[t]=Fi[e]})});function Ww(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fi.hasOwnProperty(e)&&Fi[e]?(""+t).trim():t+"px"}function Kw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ww(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var YT=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(e,t){if(t){if(YT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function wf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=null;function qh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sf=null,To=null,Ro=null;function yy(e){if(e=Ma(e)){if(typeof Sf!="function")throw Error(F(280));var t=e.stateNode;t&&(t=eu(t),Sf(e.stateNode,e.type,t))}}function qw(e){To?Ro?Ro.push(e):Ro=[e]:To=e}function Gw(){if(To){var e=To,t=Ro;if(Ro=To=null,yy(e),t)for(e=0;e<t.length;e++)yy(t[e])}}function Yw(e,t){return e(t)}function Xw(){}var rd=!1;function Qw(e,t,n){if(rd)return e(t,n);rd=!0;try{return Yw(e,t,n)}finally{rd=!1,(To!==null||Ro!==null)&&(Xw(),Gw())}}function sa(e,t){var n=e.stateNode;if(n===null)return null;var r=eu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var _f=!1;if(mr)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){_f=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{_f=!1}function XT(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zi=!1,oc=null,ic=!1,Cf=null,QT={onError:function(e){zi=!0,oc=e}};function JT(e,t,n,r,s,o,i,a,l){zi=!1,oc=null,XT.apply(QT,arguments)}function ZT(e,t,n,r,s,o,i,a,l){if(JT.apply(this,arguments),zi){if(zi){var u=oc;zi=!1,oc=null}else throw Error(F(198));ic||(ic=!0,Cf=u)}}function Ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vy(e){if(Ws(e)!==e)throw Error(F(188))}function eR(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return vy(s),e;if(o===r)return vy(s),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Zw(e){return e=eR(e),e!==null?eb(e):null}function eb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eb(e);if(t!==null)return t;e=e.sibling}return null}var tb=Jt.unstable_scheduleCallback,xy=Jt.unstable_cancelCallback,tR=Jt.unstable_shouldYield,nR=Jt.unstable_requestPaint,Xe=Jt.unstable_now,rR=Jt.unstable_getCurrentPriorityLevel,Gh=Jt.unstable_ImmediatePriority,nb=Jt.unstable_UserBlockingPriority,ac=Jt.unstable_NormalPriority,sR=Jt.unstable_LowPriority,rb=Jt.unstable_IdlePriority,Xc=null,Kn=null;function oR(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Xc,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:lR,iR=Math.log,aR=Math.LN2;function lR(e){return e>>>=0,e===0?32:31-(iR(e)/aR|0)|0}var nl=64,rl=4194304;function Oi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Oi(a):(o&=i,o!==0&&(r=Oi(o)))}else i=n&~s,i!==0?r=Oi(i):o!==0&&(r=Oi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),s=1<<n,r|=e[n],t&=~s;return r}function cR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Sn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=cR(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function kf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sb(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function sd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Aa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function dR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Sn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Yh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function ob(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ib,Xh,ab,lb,cb,Ef=!1,sl=[],Yr=null,Xr=null,Qr=null,oa=new Map,ia=new Map,Hr=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wy(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(t.pointerId)}}function Si(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ma(t),t!==null&&Xh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hR(e,t,n,r,s){switch(t){case"focusin":return Yr=Si(Yr,e,t,n,r,s),!0;case"dragenter":return Xr=Si(Xr,e,t,n,r,s),!0;case"mouseover":return Qr=Si(Qr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return oa.set(o,Si(oa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ia.set(o,Si(ia.get(o)||null,e,t,n,r,s)),!0}return!1}function ub(e){var t=Ts(e.target);if(t!==null){var n=Ws(t);if(n!==null){if(t=n.tag,t===13){if(t=Jw(n),t!==null){e.blockedOn=t,cb(e.priority,function(){ab(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bf=r,n.target.dispatchEvent(r),bf=null}else return t=Ma(n),t!==null&&Xh(t),e.blockedOn=n,!1;t.shift()}return!0}function by(e,t,n){Ml(e)&&n.delete(t)}function pR(){Ef=!1,Yr!==null&&Ml(Yr)&&(Yr=null),Xr!==null&&Ml(Xr)&&(Xr=null),Qr!==null&&Ml(Qr)&&(Qr=null),oa.forEach(by),ia.forEach(by)}function _i(e,t){e.blockedOn===t&&(e.blockedOn=null,Ef||(Ef=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,pR)))}function aa(e){function t(s){return _i(s,e)}if(0<sl.length){_i(sl[0],e);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yr!==null&&_i(Yr,e),Xr!==null&&_i(Xr,e),Qr!==null&&_i(Qr,e),oa.forEach(t),ia.forEach(t),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)ub(n),n.blockedOn===null&&Hr.shift()}var No=_r.ReactCurrentBatchConfig,cc=!0;function mR(e,t,n,r){var s=Pe,o=No.transition;No.transition=null;try{Pe=1,Qh(e,t,n,r)}finally{Pe=s,No.transition=o}}function gR(e,t,n,r){var s=Pe,o=No.transition;No.transition=null;try{Pe=4,Qh(e,t,n,r)}finally{Pe=s,No.transition=o}}function Qh(e,t,n,r){if(cc){var s=Tf(e,t,n,r);if(s===null)pd(e,t,r,uc,n),wy(e,r);else if(hR(s,e,t,n,r))r.stopPropagation();else if(wy(e,r),t&4&&-1<fR.indexOf(e)){for(;s!==null;){var o=Ma(s);if(o!==null&&ib(o),o=Tf(e,t,n,r),o===null&&pd(e,t,r,uc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else pd(e,t,r,null,n)}}var uc=null;function Tf(e,t,n,r){if(uc=null,e=qh(r),e=Ts(e),e!==null)if(t=Ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uc=e,null}function db(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rR()){case Gh:return 1;case nb:return 4;case ac:case sR:return 16;case rb:return 536870912;default:return 16}default:return 16}}var Kr=null,Jh=null,Ol=null;function fb(){if(Ol)return Ol;var e,t=Jh,n=t.length,r,s="value"in Kr?Kr.value:Kr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ol=s.slice(e,1<r?1-r:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ol(){return!0}function Sy(){return!1}function en(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ol:Sy,this.isPropagationStopped=Sy,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=en(ei),ja=Ve({},ei,{view:0,detail:0}),yR=en(ja),od,id,Ci,Qc=Ve({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(od=e.screenX-Ci.screenX,id=e.screenY-Ci.screenY):id=od=0,Ci=e),od)},movementY:function(e){return"movementY"in e?e.movementY:id}}),_y=en(Qc),vR=Ve({},Qc,{dataTransfer:0}),xR=en(vR),wR=Ve({},ja,{relatedTarget:0}),ad=en(wR),bR=Ve({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),SR=en(bR),_R=Ve({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CR=en(_R),kR=Ve({},ei,{data:0}),Cy=en(kR),ER={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RR[e])?!!t[e]:!1}function ep(){return NR}var IR=Ve({},ja,{key:function(e){if(e.key){var t=ER[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PR=en(IR),AR=Ve({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=en(AR),jR=Ve({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),MR=en(jR),OR=Ve({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),LR=en(OR),DR=Ve({},Qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=en(DR),zR=[9,13,27,32],tp=mr&&"CompositionEvent"in window,Bi=null;mr&&"documentMode"in document&&(Bi=document.documentMode);var BR=mr&&"TextEvent"in window&&!Bi,hb=mr&&(!tp||Bi&&8<Bi&&11>=Bi),Ey=" ",Ty=!1;function pb(e,t){switch(e){case"keyup":return zR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function $R(e,t){switch(e){case"compositionend":return mb(t);case"keypress":return t.which!==32?null:(Ty=!0,Ey);case"textInput":return e=t.data,e===Ey&&Ty?null:e;default:return null}}function UR(e,t){if(fo)return e==="compositionend"||!tp&&pb(e,t)?(e=fb(),Ol=Jh=Kr=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hb&&t.locale!=="ko"?null:t.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HR[e.type]:t==="textarea"}function gb(e,t,n,r){qw(r),t=dc(t,"onChange"),0<t.length&&(n=new Zh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $i=null,la=null;function VR(e){Tb(e,0)}function Jc(e){var t=mo(e);if(Bw(t))return e}function WR(e,t){if(e==="change")return t}var yb=!1;if(mr){var ld;if(mr){var cd="oninput"in document;if(!cd){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),cd=typeof Ny.oninput=="function"}ld=cd}else ld=!1;yb=ld&&(!document.documentMode||9<document.documentMode)}function Iy(){$i&&($i.detachEvent("onpropertychange",vb),la=$i=null)}function vb(e){if(e.propertyName==="value"&&Jc(la)){var t=[];gb(t,la,e,qh(e)),Qw(VR,t)}}function KR(e,t,n){e==="focusin"?(Iy(),$i=t,la=n,$i.attachEvent("onpropertychange",vb)):e==="focusout"&&Iy()}function qR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jc(la)}function GR(e,t){if(e==="click")return Jc(t)}function YR(e,t){if(e==="input"||e==="change")return Jc(t)}function XR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:XR;function ca(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cf.call(t,s)||!En(e[s],t[s]))return!1}return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ay(e,t){var n=Py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function xb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wb(){for(var e=window,t=sc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sc(e.document)}return t}function np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QR(e){var t=wb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xb(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ay(n,o);var i=Ay(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JR=mr&&"documentMode"in document&&11>=document.documentMode,ho=null,Rf=null,Ui=null,Nf=!1;function jy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||ho==null||ho!==sc(r)||(r=ho,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&ca(Ui,r)||(Ui=r,r=dc(Rf,"onSelect"),0<r.length&&(t=new Zh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ho)))}function il(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var po={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},ud={},bb={};mr&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Zc(e){if(ud[e])return ud[e];if(!po[e])return e;var t=po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bb)return ud[e]=t[n];return e}var Sb=Zc("animationend"),_b=Zc("animationiteration"),Cb=Zc("animationstart"),kb=Zc("transitionend"),Eb=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){Eb.set(e,t),Vs(t,[e])}for(var dd=0;dd<My.length;dd++){var fd=My[dd],ZR=fd.toLowerCase(),eN=fd[0].toUpperCase()+fd.slice(1);as(ZR,"on"+eN)}as(Sb,"onAnimationEnd");as(_b,"onAnimationIteration");as(Cb,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(kb,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Oy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZT(r,t,void 0,e),e.currentTarget=null}function Tb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Oy(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Oy(s,a,u),o=l}}}if(ic)throw e=Cf,ic=!1,Cf=null,e}function Fe(e,t){var n=t[Mf];n===void 0&&(n=t[Mf]=new Set);var r=e+"__bubble";n.has(r)||(Rb(t,e,2,!1),n.add(r))}function hd(e,t,n){var r=0;t&&(r|=4),Rb(n,e,r,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function ua(e){if(!e[al]){e[al]=!0,Ow.forEach(function(n){n!=="selectionchange"&&(tN.has(n)||hd(n,!1,e),hd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,hd("selectionchange",!1,t))}}function Rb(e,t,n,r){switch(db(t)){case 1:var s=mR;break;case 4:s=gR;break;default:s=Qh}n=s.bind(null,t,n,e),s=void 0,!_f||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pd(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Ts(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Qw(function(){var u=o,d=qh(n),h=[];e:{var p=Eb.get(e);if(p!==void 0){var m=Zh,w=e;switch(e){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":m=PR;break;case"focusin":w="focus",m=ad;break;case"focusout":w="blur",m=ad;break;case"beforeblur":case"afterblur":m=ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MR;break;case Sb:case _b:case Cb:m=SR;break;case kb:m=LR;break;case"scroll":m=yR;break;case"wheel":m=FR;break;case"copy":case"cut":case"paste":m=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ky}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=sa(v,g),C!=null&&y.push(da(v,C,x)))),b)break;v=v.return}0<y.length&&(p=new m(p,w,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==bf&&(w=n.relatedTarget||n.fromElement)&&(Ts(w)||w[gr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Ts(w):null,w!==null&&(b=Ws(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=_y,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=ky,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?p:mo(m),x=w==null?p:mo(w),p=new y(C,v+"leave",m,n,d),p.target=b,p.relatedTarget=x,C=null,Ts(d)===u&&(y=new y(g,v+"enter",w,n,d),y.target=x,y.relatedTarget=b,C=y),b=C,m&&w)t:{for(y=m,g=w,v=0,x=y;x;x=ro(x))v++;for(x=0,C=g;C;C=ro(C))x++;for(;0<v-x;)y=ro(y),v--;for(;0<x-v;)g=ro(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=ro(y),g=ro(g)}y=null}else y=null;m!==null&&Ly(h,p,m,y,!1),w!==null&&b!==null&&Ly(h,b,w,y,!0)}}e:{if(p=u?mo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=WR;else if(Ry(p))if(yb)N=YR;else{N=qR;var k=KR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=GR);if(N&&(N=N(e,u))){gb(h,N,n,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&gf(p,"number",p.value)}switch(k=u?mo(u):window,e){case"focusin":(Ry(k)||k.contentEditable==="true")&&(ho=k,Rf=u,Ui=null);break;case"focusout":Ui=Rf=ho=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,jy(h,n,d);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":jy(h,n,d)}var T;if(tp)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fo?pb(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(hb&&n.locale!=="ko"&&(fo||I!=="onCompositionStart"?I==="onCompositionEnd"&&fo&&(T=fb()):(Kr=d,Jh="value"in Kr?Kr.value:Kr.textContent,fo=!0)),k=dc(u,I),0<k.length&&(I=new Cy(I,e,null,n,d),h.push({event:I,listeners:k}),T?I.data=T:(T=mb(n),T!==null&&(I.data=T)))),(T=BR?$R(e,n):UR(e,n))&&(u=dc(u,"onBeforeInput"),0<u.length&&(d=new Cy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}Tb(h,t)})}function da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=sa(e,n),o!=null&&r.unshift(da(e,o,s)),o=sa(e,t),o!=null&&r.push(da(e,o,s))),e=e.return}return r}function ro(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=sa(n,o),l!=null&&i.unshift(da(n,l,a))):s||(l=sa(n,o),l!=null&&i.push(da(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var nN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function Dy(e){return(typeof e=="string"?e:""+e).replace(nN,`
`).replace(rN,"")}function ll(e,t,n){if(t=Dy(t),Dy(e)!==t&&n)throw Error(F(425))}function fc(){}var If=null,Pf=null;function Af(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jf=typeof setTimeout=="function"?setTimeout:void 0,sN=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,oN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(iN)}:jf;function iN(e){setTimeout(function(){throw e})}function md(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),aa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);aa(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),$n="__reactFiber$"+ti,fa="__reactProps$"+ti,gr="__reactContainer$"+ti,Mf="__reactEvents$"+ti,aN="__reactListeners$"+ti,lN="__reactHandles$"+ti;function Ts(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[$n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zy(e);e!==null;){if(n=e[$n])return n;e=zy(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){return e=e[$n]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function eu(e){return e[fa]||null}var Of=[],go=-1;function ls(e){return{current:e}}function ze(e){0>go||(e.current=Of[go],Of[go]=null,go--)}function Le(e,t){go++,Of[go]=e.current,e.current=t}var ss={},vt=ls(ss),Mt=ls(!1),js=ss;function Fo(e,t){var n=e.type.contextTypes;if(!n)return ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(e){return e=e.childContextTypes,e!=null}function hc(){ze(Mt),ze(vt)}function By(e,t,n){if(vt.current!==ss)throw Error(F(168));Le(vt,t),Le(Mt,n)}function Nb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,KT(e)||"Unknown",s));return Ve({},n,r)}function pc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ss,js=vt.current,Le(vt,e),Le(Mt,Mt.current),!0}function $y(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Nb(e,t,js),r.__reactInternalMemoizedMergedChildContext=e,ze(Mt),ze(vt),Le(vt,e)):ze(Mt),Le(Mt,n)}var lr=null,tu=!1,gd=!1;function Ib(e){lr===null?lr=[e]:lr.push(e)}function cN(e){tu=!0,Ib(e)}function cs(){if(!gd&&lr!==null){gd=!0;var e=0,t=Pe;try{var n=lr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lr=null,tu=!1}catch(s){throw lr!==null&&(lr=lr.slice(e+1)),tb(Gh,cs),s}finally{Pe=t,gd=!1}}return null}var yo=[],vo=0,mc=null,gc=0,on=[],an=0,Ms=null,dr=1,fr="";function _s(e,t){yo[vo++]=gc,yo[vo++]=mc,mc=e,gc=t}function Pb(e,t,n){on[an++]=dr,on[an++]=fr,on[an++]=Ms,Ms=e;var r=dr;e=fr;var s=32-Sn(r)-1;r&=~(1<<s),n+=1;var o=32-Sn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,dr=1<<32-Sn(t)+s|n<<s|r,fr=o+e}else dr=1<<o|n<<s|r,fr=e}function rp(e){e.return!==null&&(_s(e,1),Pb(e,1,0))}function sp(e){for(;e===mc;)mc=yo[--vo],yo[vo]=null,gc=yo[--vo],yo[vo]=null;for(;e===Ms;)Ms=on[--an],on[an]=null,fr=on[--an],on[an]=null,dr=on[--an],on[an]=null}var Xt=null,Gt=null,Be=!1,wn=null;function Ab(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Uy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Gt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ms!==null?{id:dr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Gt=null,!0):!1;default:return!1}}function Lf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Df(e){if(Be){var t=Gt;if(t){var n=t;if(!Uy(e,t)){if(Lf(e))throw Error(F(418));t=Jr(n.nextSibling);var r=Xt;t&&Uy(e,t)?Ab(r,n):(e.flags=e.flags&-4097|2,Be=!1,Xt=e)}}else{if(Lf(e))throw Error(F(418));e.flags=e.flags&-4097|2,Be=!1,Xt=e}}}function Hy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function cl(e){if(e!==Xt)return!1;if(!Be)return Hy(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Af(e.type,e.memoizedProps)),t&&(t=Gt)){if(Lf(e))throw jb(),Error(F(418));for(;t;)Ab(e,t),t=Jr(t.nextSibling)}if(Hy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gt=Jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Xt?Jr(e.stateNode.nextSibling):null;return!0}function jb(){for(var e=Gt;e;)e=Jr(e.nextSibling)}function zo(){Gt=Xt=null,Be=!1}function op(e){wn===null?wn=[e]:wn.push(e)}var uN=_r.ReactCurrentBatchConfig;function ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vy(e){var t=e._init;return t(e._payload)}function Mb(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=ns(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,C){return v===null||v.tag!==6?(v=_d(x,g.mode,C),v.return=g,v):(v=s(v,x),v.return=g,v)}function l(g,v,x,C){var N=x.type;return N===uo?d(g,v,x.props.children,C,x.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Br&&Vy(N)===v.type)?(C=s(v,x.props),C.ref=ki(g,v,x),C.return=g,C):(C=Hl(x.type,x.key,x.props,null,g.mode,C),C.ref=ki(g,v,x),C.return=g,C)}function u(g,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Cd(x,g.mode,C),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function d(g,v,x,C,N){return v===null||v.tag!==7?(v=Ps(x,g.mode,C,N),v.return=g,v):(v=s(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_d(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Za:return x=Hl(v.type,v.key,v.props,null,g.mode,x),x.ref=ki(g,null,v),x.return=g,x;case co:return v=Cd(v,g.mode,x),v.return=g,v;case Br:var C=v._init;return h(g,C(v._payload),x)}if(Mi(v)||wi(v))return v=Ps(v,g.mode,x,null),v.return=g,v;ul(g,v)}return null}function p(g,v,x,C){var N=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:a(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:return x.key===N?l(g,v,x,C):null;case co:return x.key===N?u(g,v,x,C):null;case Br:return N=x._init,p(g,v,N(x._payload),C)}if(Mi(x)||wi(x))return N!==null?null:d(g,v,x,C,null);ul(g,x)}return null}function m(g,v,x,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,a(v,g,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Za:return g=g.get(C.key===null?x:C.key)||null,l(v,g,C,N);case co:return g=g.get(C.key===null?x:C.key)||null,u(v,g,C,N);case Br:var k=C._init;return m(g,v,x,k(C._payload),N)}if(Mi(C)||wi(C))return g=g.get(x)||null,d(v,g,C,N,null);ul(v,C)}return null}function w(g,v,x,C){for(var N=null,k=null,T=v,I=v=0,M=null;T!==null&&I<x.length;I++){T.index>I?(M=T,T=null):M=T.sibling;var A=p(g,T,x[I],C);if(A===null){T===null&&(T=M);break}e&&T&&A.alternate===null&&t(g,T),v=o(A,v,I),k===null?N=A:k.sibling=A,k=A,T=M}if(I===x.length)return n(g,T),Be&&_s(g,I),N;if(T===null){for(;I<x.length;I++)T=h(g,x[I],C),T!==null&&(v=o(T,v,I),k===null?N=T:k.sibling=T,k=T);return Be&&_s(g,I),N}for(T=r(g,T);I<x.length;I++)M=m(T,g,I,x[I],C),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?I:M.key),v=o(M,v,I),k===null?N=M:k.sibling=M,k=M);return e&&T.forEach(function(L){return t(g,L)}),Be&&_s(g,I),N}function y(g,v,x,C){var N=wi(x);if(typeof N!="function")throw Error(F(150));if(x=N.call(x),x==null)throw Error(F(151));for(var k=N=null,T=v,I=v=0,M=null,A=x.next();T!==null&&!A.done;I++,A=x.next()){T.index>I?(M=T,T=null):M=T.sibling;var L=p(g,T,A.value,C);if(L===null){T===null&&(T=M);break}e&&T&&L.alternate===null&&t(g,T),v=o(L,v,I),k===null?N=L:k.sibling=L,k=L,T=M}if(A.done)return n(g,T),Be&&_s(g,I),N;if(T===null){for(;!A.done;I++,A=x.next())A=h(g,A.value,C),A!==null&&(v=o(A,v,I),k===null?N=A:k.sibling=A,k=A);return Be&&_s(g,I),N}for(T=r(g,T);!A.done;I++,A=x.next())A=m(T,g,I,A.value,C),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?I:A.key),v=o(A,v,I),k===null?N=A:k.sibling=A,k=A);return e&&T.forEach(function(R){return t(g,R)}),Be&&_s(g,I),N}function b(g,v,x,C){if(typeof x=="object"&&x!==null&&x.type===uo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:e:{for(var N=x.key,k=v;k!==null;){if(k.key===N){if(N=x.type,N===uo){if(k.tag===7){n(g,k.sibling),v=s(k,x.props.children),v.return=g,g=v;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Br&&Vy(N)===k.type){n(g,k.sibling),v=s(k,x.props),v.ref=ki(g,k,x),v.return=g,g=v;break e}n(g,k);break}else t(g,k);k=k.sibling}x.type===uo?(v=Ps(x.props.children,g.mode,C,x.key),v.return=g,g=v):(C=Hl(x.type,x.key,x.props,null,g.mode,C),C.ref=ki(g,v,x),C.return=g,g=C)}return i(g);case co:e:{for(k=x.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Cd(x,g.mode,C),v.return=g,g=v}return i(g);case Br:return k=x._init,b(g,v,k(x._payload),C)}if(Mi(x))return w(g,v,x,C);if(wi(x))return y(g,v,x,C);ul(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=_d(x,g.mode,C),v.return=g,g=v),i(g)):n(g,v)}return b}var Bo=Mb(!0),Ob=Mb(!1),yc=ls(null),vc=null,xo=null,ip=null;function ap(){ip=xo=vc=null}function lp(e){var t=yc.current;ze(yc),e._currentValue=t}function Ff(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){vc=e,ip=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(ip!==e)if(e={context:e,memoizedValue:t,next:null},xo===null){if(vc===null)throw Error(F(308));xo=e,vc.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Rs=null;function cp(e){Rs===null?Rs=[e]:Rs.push(e)}function Lb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,cp(t)):(n.next=s.next,s.next=n),t.interleaved=n,yr(e,r)}function yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $r=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Db(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yr(e,n)}return s=r.interleaved,s===null?(t.next=t,cp(r)):(t.next=s.next,s.next=t),r.interleaved=t,yr(e,n)}function Dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yh(e,n)}}function Wy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xc(e,t,n,r){var s=e.updateQueue;$r=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=Ve({},h,p);break e;case 2:$r=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ls|=i,e.lanes=i,e.memoizedState=h}}function Ky(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Oa={},qn=ls(Oa),ha=ls(Oa),pa=ls(Oa);function Ns(e){if(e===Oa)throw Error(F(174));return e}function dp(e,t){switch(Le(pa,t),Le(ha,e),Le(qn,Oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vf(t,e)}ze(qn),Le(qn,t)}function $o(){ze(qn),ze(ha),ze(pa)}function Fb(e){Ns(pa.current);var t=Ns(qn.current),n=vf(t,e.type);t!==n&&(Le(ha,e),Le(qn,n))}function fp(e){ha.current===e&&(ze(qn),ze(ha))}var Ue=ls(0);function wc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yd=[];function hp(){for(var e=0;e<yd.length;e++)yd[e]._workInProgressVersionPrimary=null;yd.length=0}var Fl=_r.ReactCurrentDispatcher,vd=_r.ReactCurrentBatchConfig,Os=0,He=null,nt=null,lt=null,bc=!1,Hi=!1,ma=0,dN=0;function mt(){throw Error(F(321))}function pp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function mp(e,t,n,r,s,o){if(Os=o,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fl.current=e===null||e.memoizedState===null?mN:gN,e=n(r,s),Hi){o=0;do{if(Hi=!1,ma=0,25<=o)throw Error(F(301));o+=1,lt=nt=null,t.updateQueue=null,Fl.current=yN,e=n(r,s)}while(Hi)}if(Fl.current=Sc,t=nt!==null&&nt.next!==null,Os=0,lt=nt=He=null,bc=!1,t)throw Error(F(300));return e}function gp(){var e=ma!==0;return ma=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?He.memoizedState=lt=e:lt=lt.next=e,lt}function fn(){if(nt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=lt===null?He.memoizedState:lt.next;if(t!==null)lt=t,nt=e;else{if(e===null)throw Error(F(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?He.memoizedState=lt=e:lt=lt.next=e}return lt}function ga(e,t){return typeof t=="function"?t(e):t}function xd(e){var t=fn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=nt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Os&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,He.lanes|=d,Ls|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,En(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,He.lanes|=o,Ls|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wd(e){var t=fn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);En(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zb(){}function Bb(e,t){var n=He,r=fn(),s=t(),o=!En(r.memoizedState,s);if(o&&(r.memoizedState=s,jt=!0),r=r.queue,yp(Hb.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,ya(9,Ub.bind(null,n,r,s,t),void 0,null),ct===null)throw Error(F(349));Os&30||$b(n,t,s)}return s}function $b(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ub(e,t,n,r){t.value=n,t.getSnapshot=r,Vb(t)&&Wb(e)}function Hb(e,t,n){return n(function(){Vb(t)&&Wb(e)})}function Vb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function Wb(e){var t=yr(e,1);t!==null&&_n(t,e,1,-1)}function qy(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=pN.bind(null,He,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kb(){return fn().memoizedState}function zl(e,t,n,r){var s=zn();He.flags|=e,s.memoizedState=ya(1|t,n,void 0,r===void 0?null:r)}function nu(e,t,n,r){var s=fn();r=r===void 0?null:r;var o=void 0;if(nt!==null){var i=nt.memoizedState;if(o=i.destroy,r!==null&&pp(r,i.deps)){s.memoizedState=ya(t,n,o,r);return}}He.flags|=e,s.memoizedState=ya(1|t,n,o,r)}function Gy(e,t){return zl(8390656,8,e,t)}function yp(e,t){return nu(2048,8,e,t)}function qb(e,t){return nu(4,2,e,t)}function Gb(e,t){return nu(4,4,e,t)}function Yb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xb(e,t,n){return n=n!=null?n.concat([e]):null,nu(4,4,Yb.bind(null,t,e),n)}function vp(){}function Qb(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jb(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zb(e,t,n){return Os&21?(En(n,t)||(n=sb(),He.lanes|=n,Ls|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function fN(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=vd.transition;vd.transition={};try{e(!1),t()}finally{Pe=n,vd.transition=r}}function eS(){return fn().memoizedState}function hN(e,t,n){var r=ts(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tS(e))nS(t,n);else if(n=Lb(e,t,n,r),n!==null){var s=Et();_n(n,e,r,s),rS(n,t,r)}}function pN(e,t,n){var r=ts(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tS(e))nS(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,En(a,i)){var l=t.interleaved;l===null?(s.next=s,cp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Lb(e,t,s,r),n!==null&&(s=Et(),_n(n,e,r,s),rS(n,t,r))}}function tS(e){var t=e.alternate;return e===He||t!==null&&t===He}function nS(e,t){Hi=bc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yh(e,n)}}var Sc={readContext:dn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},mN={readContext:dn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Gy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zl(4194308,4,Yb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hN.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:qy,useDebugValue:vp,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=qy(!1),t=e[0];return e=fN.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,s=zn();if(Be){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),ct===null)throw Error(F(349));Os&30||$b(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Gy(Hb.bind(null,r,o,e),[e]),r.flags|=2048,ya(9,Ub.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zn(),t=ct.identifierPrefix;if(Be){var n=fr,r=dr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gN={readContext:dn,useCallback:Qb,useContext:dn,useEffect:yp,useImperativeHandle:Xb,useInsertionEffect:qb,useLayoutEffect:Gb,useMemo:Jb,useReducer:xd,useRef:Kb,useState:function(){return xd(ga)},useDebugValue:vp,useDeferredValue:function(e){var t=fn();return Zb(t,nt.memoizedState,e)},useTransition:function(){var e=xd(ga)[0],t=fn().memoizedState;return[e,t]},useMutableSource:zb,useSyncExternalStore:Bb,useId:eS,unstable_isNewReconciler:!1},yN={readContext:dn,useCallback:Qb,useContext:dn,useEffect:yp,useImperativeHandle:Xb,useInsertionEffect:qb,useLayoutEffect:Gb,useMemo:Jb,useReducer:wd,useRef:Kb,useState:function(){return wd(ga)},useDebugValue:vp,useDeferredValue:function(e){var t=fn();return nt===null?t.memoizedState=e:Zb(t,nt.memoizedState,e)},useTransition:function(){var e=wd(ga)[0],t=fn().memoizedState;return[e,t]},useMutableSource:zb,useSyncExternalStore:Bb,useId:eS,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Et(),s=ts(e),o=hr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Zr(e,o,s),t!==null&&(_n(t,e,s,r),Dl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Et(),s=ts(e),o=hr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zr(e,o,s),t!==null&&(_n(t,e,s,r),Dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),r=ts(e),s=hr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Zr(e,s,r),t!==null&&(_n(t,e,r,n),Dl(t,e,r))}};function Yy(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ca(n,r)||!ca(s,o):!0}function sS(e,t,n){var r=!1,s=ss,o=t.contextType;return typeof o=="object"&&o!==null?o=dn(o):(s=Ot(t)?js:vt.current,r=t.contextTypes,o=(r=r!=null)?Fo(e,s):ss),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ru,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function Bf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},up(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=dn(o):(o=Ot(t)?js:vt.current,s.context=Fo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ru.enqueueReplaceState(s,s.state,null),xc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var n="",r=t;do n+=WT(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function bd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $f(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vN=typeof WeakMap=="function"?WeakMap:Map;function oS(e,t,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cc||(Cc=!0,Qf=r),$f(e,t)},n}function iS(e,t,n){n=hr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){$f(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$f(e,t),typeof r!="function"&&(es===null?es=new Set([this]):es.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Qy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=AN.bind(null,e,t,n),t.then(e,e))}function Jy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hr(-1,1),t.tag=2,Zr(n,t,1))),n.lanes|=1),e)}var xN=_r.ReactCurrentOwner,jt=!1;function kt(e,t,n,r){t.child=e===null?Ob(t,null,n,r):Bo(t,e.child,n,r)}function ev(e,t,n,r,s){n=n.render;var o=t.ref;return Io(t,s),r=mp(e,t,n,r,o,s),n=gp(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Be&&n&&rp(t),t.flags|=1,kt(e,t,r,s),t.child)}function tv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ep(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,aS(e,t,o,r,s)):(e=Hl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(i,r)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=ns(o,r),e.ref=t.ref,e.return=t,t.child=e}function aS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ca(o,r)&&e.ref===t.ref)if(jt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,vr(e,t,s)}return Uf(e,t,n,r,s)}function lS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(bo,Vt),Vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(bo,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(bo,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Le(bo,Vt),Vt|=r;return kt(e,t,s,n),t.child}function cS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uf(e,t,n,r,s){var o=Ot(n)?js:vt.current;return o=Fo(t,o),Io(t,s),n=mp(e,t,n,r,o,s),r=gp(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Be&&r&&rp(t),t.flags|=1,kt(e,t,n,s),t.child)}function nv(e,t,n,r,s){if(Ot(n)){var o=!0;pc(t)}else o=!1;if(Io(t,s),t.stateNode===null)Bl(e,t),sS(t,n,r),Bf(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Ot(n)?js:vt.current,u=Fo(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Xy(t,i,r,u),$r=!1;var p=t.memoizedState;i.state=p,xc(t,r,i,s),l=t.memoizedState,a!==r||p!==l||Mt.current||$r?(typeof d=="function"&&(zf(t,n,d,r),l=t.memoizedState),(a=$r||Yy(t,n,a,r,p,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Db(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vn(t.type,a),i.props=u,h=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Ot(n)?js:vt.current,l=Fo(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Xy(t,i,r,l),$r=!1,p=t.memoizedState,i.state=p,xc(t,r,i,s);var w=t.memoizedState;a!==h||p!==w||Mt.current||$r?(typeof m=="function"&&(zf(t,n,m,r),w=t.memoizedState),(u=$r||Yy(t,n,u,r,p,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Hf(e,t,n,r,o,s)}function Hf(e,t,n,r,s,o){cS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&$y(t,n,!1),vr(e,t,o);r=t.stateNode,xN.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Bo(t,e.child,null,o),t.child=Bo(t,null,a,o)):kt(e,t,a,o),t.memoizedState=r.state,s&&$y(t,n,!0),t.child}function uS(e){var t=e.stateNode;t.pendingContext?By(e,t.pendingContext,t.pendingContext!==t.context):t.context&&By(e,t.context,!1),dp(e,t.containerInfo)}function rv(e,t,n,r,s){return zo(),op(s),t.flags|=256,kt(e,t,n,r),t.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function Wf(e){return{baseLanes:e,cachePool:null,transitions:null}}function dS(e,t,n){var r=t.pendingProps,s=Ue.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(Ue,s&1),e===null)return Df(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=iu(i,r,0,null),e=Ps(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wf(n),t.memoizedState=Vf,e):xp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wN(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ns(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=ns(a,o):(o=Ps(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Wf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Vf,r}return o=e.child,e=o.sibling,r=ns(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xp(e,t){return t=iu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dl(e,t,n,r){return r!==null&&op(r),Bo(t,e.child,null,n),e=xp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wN(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=bd(Error(F(422))),dl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=iu({mode:"visible",children:r.children},s,0,null),o=Ps(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Bo(t,e.child,null,i),t.child.memoizedState=Wf(i),t.memoizedState=Vf,o);if(!(t.mode&1))return dl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=bd(o,r,void 0),dl(e,t,i,r)}if(a=(i&e.childLanes)!==0,jt||a){if(r=ct,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,yr(e,s),_n(r,e,s,-1))}return kp(),r=bd(Error(F(421))),dl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jN.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Gt=Jr(s.nextSibling),Xt=t,Be=!0,wn=null,e!==null&&(on[an++]=dr,on[an++]=fr,on[an++]=Ms,dr=e.id,fr=e.overflow,Ms=t),t=xp(t,r.children),t.flags|=4096,t)}function sv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ff(e.return,t,n)}function Sd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function fS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(kt(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sv(e,n,t);else if(e.tag===19)sv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Sd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Sd(t,!0,n,null,o);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bN(e,t,n){switch(t.tag){case 3:uS(t),zo();break;case 5:Fb(t);break;case 1:Ot(t.type)&&pc(t);break;case 4:dp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Le(yc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?dS(e,t,n):(Le(Ue,Ue.current&1),e=vr(e,t,n),e!==null?e.sibling:null);Le(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,lS(e,t,n)}return vr(e,t,n)}var hS,Kf,pS,mS;hS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kf=function(){};pS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ns(qn.current);var o=null;switch(n){case"input":s=pf(e,s),r=pf(e,r),o=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),o=[];break;case"textarea":s=yf(e,s),r=yf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fc)}xf(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(na.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};mS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ei(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SN(e,t,n){var r=t.pendingProps;switch(sp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Ot(t.type)&&hc(),gt(t),null;case 3:return r=t.stateNode,$o(),ze(Mt),ze(vt),hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(eh(wn),wn=null))),Kf(e,t),gt(t),null;case 5:fp(t);var s=Ns(pa.current);if(n=t.type,e!==null&&t.stateNode!=null)pS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return gt(t),null}if(e=Ns(qn.current),cl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[$n]=t,r[fa]=o,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Li.length;s++)Fe(Li[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":hy(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":my(r,o),Fe("invalid",r)}xf(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ll(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ll(r.textContent,a,e),s=["children",""+a]):na.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Fe("scroll",r)}switch(n){case"input":el(r),py(r,o,!0);break;case"textarea":el(r),gy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[$n]=t,e[fa]=r,hS(e,t,!1,!1),t.stateNode=e;e:{switch(i=wf(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),s=r;break;case"iframe":case"object":case"embed":Fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Li.length;s++)Fe(Li[s],e);s=r;break;case"source":Fe("error",e),s=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),s=r;break;case"details":Fe("toggle",e),s=r;break;case"input":hy(e,r),s=pf(e,r),Fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":my(e,r),s=yf(e,r),Fe("invalid",e);break;default:s=r}xf(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Kw(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ra(e,l):typeof l=="number"&&ra(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(na.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",e):l!=null&&Hh(e,o,l,i))}switch(n){case"input":el(e),py(e,r,!1);break;case"textarea":el(e),gy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Eo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Eo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)mS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Ns(pa.current),Ns(qn.current),cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[$n]=t,(o=r.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:ll(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=t,t.stateNode=r}return gt(t),null;case 13:if(ze(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Gt!==null&&t.mode&1&&!(t.flags&128))jb(),zo(),t.flags|=98560,o=!1;else if(o=cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[$n]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),o=!1}else wn!==null&&(eh(wn),wn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?rt===0&&(rt=3):kp())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return $o(),Kf(e,t),e===null&&ua(t.stateNode.containerInfo),gt(t),null;case 10:return lp(t.type._context),gt(t),null;case 17:return Ot(t.type)&&hc(),gt(t),null;case 19:if(ze(Ue),o=t.memoizedState,o===null)return gt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ei(o,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wc(e),i!==null){for(t.flags|=128,Ei(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ue,Ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&Xe()>Ho&&(t.flags|=128,r=!0,Ei(o,!1),t.lanes=4194304)}else{if(!r)if(e=wc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Be)return gt(t),null}else 2*Xe()-o.renderingStartTime>Ho&&n!==1073741824&&(t.flags|=128,r=!0,Ei(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Ue.current,Le(Ue,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return Cp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function _N(e,t){switch(sp(t),t.tag){case 1:return Ot(t.type)&&hc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $o(),ze(Mt),ze(vt),hp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fp(t),null;case 13:if(ze(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ue),null;case 4:return $o(),null;case 10:return lp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var fl=!1,yt=!1,CN=typeof WeakSet=="function"?WeakSet:Set,K=null;function wo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function qf(e,t,n){try{n()}catch(r){qe(e,t,r)}}var ov=!1;function kN(e,t){if(If=cc,e=wb(),np(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pf={focusedElem:e,selectionRange:n},cc=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:vn(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(C){qe(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=ov,ov=!1,w}function Vi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&qf(t,n,o)}s=s.next}while(s!==r)}}function su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gS(e){var t=e.alternate;t!==null&&(e.alternate=null,gS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[fa],delete t[Mf],delete t[aN],delete t[lN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yS(e){return e.tag===5||e.tag===3||e.tag===4}function iv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fc));else if(r!==4&&(e=e.child,e!==null))for(Yf(e,t,n),e=e.sibling;e!==null;)Yf(e,t,n),e=e.sibling}function Xf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xf(e,t,n),e=e.sibling;e!==null;)Xf(e,t,n),e=e.sibling}var ut=null,xn=!1;function jr(e,t,n){for(n=n.child;n!==null;)vS(e,t,n),n=n.sibling}function vS(e,t,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Xc,n)}catch{}switch(n.tag){case 5:yt||wo(n,t);case 6:var r=ut,s=xn;ut=null,jr(e,t,n),ut=r,xn=s,ut!==null&&(xn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(xn?(e=ut,n=n.stateNode,e.nodeType===8?md(e.parentNode,n):e.nodeType===1&&md(e,n),aa(e)):md(ut,n.stateNode));break;case 4:r=ut,s=xn,ut=n.stateNode.containerInfo,xn=!0,jr(e,t,n),ut=r,xn=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&qf(n,t,i),s=s.next}while(s!==r)}jr(e,t,n);break;case 1:if(!yt&&(wo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,t,a)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,jr(e,t,n),yt=r):jr(e,t,n);break;default:jr(e,t,n)}}function av(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CN),t.forEach(function(r){var s=MN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,xn=!1;break e;case 3:ut=a.stateNode.containerInfo,xn=!0;break e;case 4:ut=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(ut===null)throw Error(F(160));vS(o,i,s),ut=null,xn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xS(t,e),t=t.sibling}function xS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),Dn(e),r&4){try{Vi(3,e,e.return),su(3,e)}catch(y){qe(e,e.return,y)}try{Vi(5,e,e.return)}catch(y){qe(e,e.return,y)}}break;case 1:gn(t,e),Dn(e),r&512&&n!==null&&wo(n,n.return);break;case 5:if(gn(t,e),Dn(e),r&512&&n!==null&&wo(n,n.return),e.flags&32){var s=e.stateNode;try{ra(s,"")}catch(y){qe(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&$w(s,o),wf(a,i);var u=wf(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?Kw(s,h):d==="dangerouslySetInnerHTML"?Vw(s,h):d==="children"?ra(s,h):Hh(s,d,h,u)}switch(a){case"input":mf(s,o);break;case"textarea":Uw(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Eo(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Eo(s,!!o.multiple,o.defaultValue,!0):Eo(s,!!o.multiple,o.multiple?[]:"",!1))}s[fa]=o}catch(y){qe(e,e.return,y)}}break;case 6:if(gn(t,e),Dn(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){qe(e,e.return,y)}}break;case 3:if(gn(t,e),Dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(t.containerInfo)}catch(y){qe(e,e.return,y)}break;case 4:gn(t,e),Dn(e);break;case 13:gn(t,e),Dn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Sp=Xe())),r&4&&av(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(u=yt)||d,gn(t,e),yt=u):gn(t,e),Dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vi(4,p,p.return);break;case 1:wo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){qe(r,n,y)}}break;case 5:wo(p,p.return);break;case 22:if(p.memoizedState!==null){cv(h);continue}}m!==null?(m.return=p,K=m):cv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ww("display",i))}catch(y){qe(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){qe(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gn(t,e),Dn(e),r&4&&av(e);break;case 21:break;default:gn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yS(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ra(s,""),r.flags&=-33);var o=iv(e);Xf(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=iv(e);Yf(e,a,i);break;default:throw Error(F(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EN(e,t,n){K=e,wS(e)}function wS(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var s=K,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||fl;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yt;a=fl;var u=yt;if(fl=i,(yt=l)&&!u)for(K=s;K!==null;)i=K,l=i.child,i.tag===22&&i.memoizedState!==null?uv(s):l!==null?(l.return=i,K=l):uv(s);for(;o!==null;)K=o,wS(o),o=o.sibling;K=s,fl=a,yt=u}lv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,K=o):lv(e)}}function lv(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||su(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ky(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ky(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&aa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}yt||t.flags&512&&Gf(t)}catch(p){qe(t,t.return,p)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function cv(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function uv(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{su(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){qe(t,s,l)}}var o=t.return;try{Gf(t)}catch(l){qe(t,o,l)}break;case 5:var i=t.return;try{Gf(t)}catch(l){qe(t,i,l)}}}catch(l){qe(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var TN=Math.ceil,_c=_r.ReactCurrentDispatcher,wp=_r.ReactCurrentOwner,un=_r.ReactCurrentBatchConfig,Se=0,ct=null,Ze=null,dt=0,Vt=0,bo=ls(0),rt=0,va=null,Ls=0,ou=0,bp=0,Wi=null,At=null,Sp=0,Ho=1/0,ar=null,Cc=!1,Qf=null,es=null,hl=!1,qr=null,kc=0,Ki=0,Jf=null,$l=-1,Ul=0;function Et(){return Se&6?Xe():$l!==-1?$l:$l=Xe()}function ts(e){return e.mode&1?Se&2&&dt!==0?dt&-dt:uN.transition!==null?(Ul===0&&(Ul=sb()),Ul):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:db(e.type)),e):1}function _n(e,t,n,r){if(50<Ki)throw Ki=0,Jf=null,Error(F(185));Aa(e,n,r),(!(Se&2)||e!==ct)&&(e===ct&&(!(Se&2)&&(ou|=n),rt===4&&Vr(e,dt)),Lt(e,r),n===1&&Se===0&&!(t.mode&1)&&(Ho=Xe()+500,tu&&cs()))}function Lt(e,t){var n=e.callbackNode;uR(e,t);var r=lc(e,e===ct?dt:0);if(r===0)n!==null&&xy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xy(n),t===1)e.tag===0?cN(dv.bind(null,e)):Ib(dv.bind(null,e)),oN(function(){!(Se&6)&&cs()}),n=null;else{switch(ob(r)){case 1:n=Gh;break;case 4:n=nb;break;case 16:n=ac;break;case 536870912:n=rb;break;default:n=ac}n=RS(n,bS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bS(e,t){if($l=-1,Ul=0,Se&6)throw Error(F(327));var n=e.callbackNode;if(Po()&&e.callbackNode!==n)return null;var r=lc(e,e===ct?dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ec(e,r);else{t=r;var s=Se;Se|=2;var o=_S();(ct!==e||dt!==t)&&(ar=null,Ho=Xe()+500,Is(e,t));do try{IN();break}catch(a){SS(e,a)}while(!0);ap(),_c.current=o,Se=s,Ze!==null?t=0:(ct=null,dt=0,t=rt)}if(t!==0){if(t===2&&(s=kf(e),s!==0&&(r=s,t=Zf(e,s))),t===1)throw n=va,Is(e,0),Vr(e,r),Lt(e,Xe()),n;if(t===6)Vr(e,r);else{if(s=e.current.alternate,!(r&30)&&!RN(s)&&(t=Ec(e,r),t===2&&(o=kf(e),o!==0&&(r=o,t=Zf(e,o))),t===1))throw n=va,Is(e,0),Vr(e,r),Lt(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Cs(e,At,ar);break;case 3:if(Vr(e,r),(r&130023424)===r&&(t=Sp+500-Xe(),10<t)){if(lc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=jf(Cs.bind(null,e,At,ar),t);break}Cs(e,At,ar);break;case 4:if(Vr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Sn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TN(r/1960))-r,10<r){e.timeoutHandle=jf(Cs.bind(null,e,At,ar),r);break}Cs(e,At,ar);break;case 5:Cs(e,At,ar);break;default:throw Error(F(329))}}}return Lt(e,Xe()),e.callbackNode===n?bS.bind(null,e):null}function Zf(e,t){var n=Wi;return e.current.memoizedState.isDehydrated&&(Is(e,t).flags|=256),e=Ec(e,t),e!==2&&(t=At,At=n,t!==null&&eh(t)),e}function eh(e){At===null?At=e:At.push.apply(At,e)}function RN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!En(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~bp,t&=~ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function dv(e){if(Se&6)throw Error(F(327));Po();var t=lc(e,0);if(!(t&1))return Lt(e,Xe()),null;var n=Ec(e,t);if(e.tag!==0&&n===2){var r=kf(e);r!==0&&(t=r,n=Zf(e,r))}if(n===1)throw n=va,Is(e,0),Vr(e,t),Lt(e,Xe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cs(e,At,ar),Lt(e,Xe()),null}function _p(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(Ho=Xe()+500,tu&&cs())}}function Ds(e){qr!==null&&qr.tag===0&&!(Se&6)&&Po();var t=Se;Se|=1;var n=un.transition,r=Pe;try{if(un.transition=null,Pe=1,e)return e()}finally{Pe=r,un.transition=n,Se=t,!(Se&6)&&cs()}}function Cp(){Vt=bo.current,ze(bo)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sN(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:$o(),ze(Mt),ze(vt),hp();break;case 5:fp(r);break;case 4:$o();break;case 13:ze(Ue);break;case 19:ze(Ue);break;case 10:lp(r.type._context);break;case 22:case 23:Cp()}n=n.return}if(ct=e,Ze=e=ns(e.current,null),dt=Vt=t,rt=0,va=null,bp=ou=Ls=0,At=Wi=null,Rs!==null){for(t=0;t<Rs.length;t++)if(n=Rs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Rs=null}return e}function SS(e,t){do{var n=Ze;try{if(ap(),Fl.current=Sc,bc){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bc=!1}if(Os=0,lt=nt=He=null,Hi=!1,ma=0,wp.current=null,n===null||n.return===null){rt=1,va=t,Ze=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Jy(i);if(m!==null){m.flags&=-257,Zy(m,i,a,o,t),m.mode&1&&Qy(o,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Qy(o,u,t),kp();break e}l=Error(F(426))}}else if(Be&&a.mode&1){var b=Jy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zy(b,i,a,o,t),op(Uo(l,a));break e}}o=l=Uo(l,a),rt!==4&&(rt=2),Wi===null?Wi=[o]:Wi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=oS(o,l,t);Wy(o,g);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(es===null||!es.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=iS(o,a,t);Wy(o,C);break e}}o=o.return}while(o!==null)}kS(n)}catch(N){t=N,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function _S(){var e=_c.current;return _c.current=Sc,e===null?Sc:e}function kp(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(Ls&268435455)&&!(ou&268435455)||Vr(ct,dt)}function Ec(e,t){var n=Se;Se|=2;var r=_S();(ct!==e||dt!==t)&&(ar=null,Is(e,t));do try{NN();break}catch(s){SS(e,s)}while(!0);if(ap(),Se=n,_c.current=r,Ze!==null)throw Error(F(261));return ct=null,dt=0,rt}function NN(){for(;Ze!==null;)CS(Ze)}function IN(){for(;Ze!==null&&!tR();)CS(Ze)}function CS(e){var t=TS(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?kS(e):Ze=t,wp.current=null}function kS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_N(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Ze=null;return}}else if(n=SN(n,t,Vt),n!==null){Ze=n;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);rt===0&&(rt=5)}function Cs(e,t,n){var r=Pe,s=un.transition;try{un.transition=null,Pe=1,PN(e,t,n,r)}finally{un.transition=s,Pe=r}return null}function PN(e,t,n,r){do Po();while(qr!==null);if(Se&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(dR(e,o),e===ct&&(Ze=ct=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,RS(ac,function(){return Po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=un.transition,un.transition=null;var i=Pe;Pe=1;var a=Se;Se|=4,wp.current=null,kN(e,n),xS(n,e),QR(Pf),cc=!!If,Pf=If=null,e.current=n,EN(n),nR(),Se=a,Pe=i,un.transition=o}else e.current=n;if(hl&&(hl=!1,qr=e,kc=s),o=e.pendingLanes,o===0&&(es=null),oR(n.stateNode),Lt(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cc)throw Cc=!1,e=Qf,Qf=null,e;return kc&1&&e.tag!==0&&Po(),o=e.pendingLanes,o&1?e===Jf?Ki++:(Ki=0,Jf=e):Ki=0,cs(),null}function Po(){if(qr!==null){var e=ob(kc),t=un.transition,n=Pe;try{if(un.transition=null,Pe=16>e?16:e,qr===null)var r=!1;else{if(e=qr,qr=null,kc=0,Se&6)throw Error(F(331));var s=Se;for(Se|=4,K=e.current;K!==null;){var o=K,i=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Vi(8,d,o)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,m=d.return;if(gS(d),d===u){K=null;break}if(p!==null){p.return=m,K=p;break}K=m}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}K=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,K=i;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vi(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,K=g;break e}K=o.return}}var v=e.current;for(K=v;K!==null;){i=K;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,K=x;else e:for(i=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:su(9,a)}}catch(N){qe(a,a.return,N)}if(a===i){K=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,K=C;break e}K=a.return}}if(Se=s,cs(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Xc,e)}catch{}r=!0}return r}finally{Pe=n,un.transition=t}}return!1}function fv(e,t,n){t=Uo(n,t),t=oS(e,t,1),e=Zr(e,t,1),t=Et(),e!==null&&(Aa(e,1,t),Lt(e,t))}function qe(e,t,n){if(e.tag===3)fv(e,e,n);else for(;t!==null;){if(t.tag===3){fv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(es===null||!es.has(r))){e=Uo(n,e),e=iS(t,e,1),t=Zr(t,e,1),e=Et(),t!==null&&(Aa(t,1,e),Lt(t,e));break}}t=t.return}}function AN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(dt&n)===n&&(rt===4||rt===3&&(dt&130023424)===dt&&500>Xe()-Sp?Is(e,0):bp|=n),Lt(e,t)}function ES(e,t){t===0&&(e.mode&1?(t=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):t=1);var n=Et();e=yr(e,t),e!==null&&(Aa(e,t,n),Lt(e,n))}function jN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ES(e,n)}function MN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),ES(e,n)}var TS;TS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,bN(e,t,n);jt=!!(e.flags&131072)}else jt=!1,Be&&t.flags&1048576&&Pb(t,gc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var s=Fo(t,vt.current);Io(t,n),s=mp(null,t,r,e,s,n);var o=gp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(r)?(o=!0,pc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,up(t),s.updater=ru,t.stateNode=s,s._reactInternals=t,Bf(t,r,e,n),t=Hf(null,t,r,!0,o,n)):(t.tag=0,Be&&o&&rp(t),kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=LN(r),e=vn(r,e),s){case 0:t=Uf(null,t,r,e,n);break e;case 1:t=nv(null,t,r,e,n);break e;case 11:t=ev(null,t,r,e,n);break e;case 14:t=tv(null,t,r,vn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Uf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),nv(e,t,r,s,n);case 3:e:{if(uS(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Db(e,t),xc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Uo(Error(F(423)),t),t=rv(e,t,r,n,s);break e}else if(r!==s){s=Uo(Error(F(424)),t),t=rv(e,t,r,n,s);break e}else for(Gt=Jr(t.stateNode.containerInfo.firstChild),Xt=t,Be=!0,wn=null,n=Ob(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===s){t=vr(e,t,n);break e}kt(e,t,r,n)}t=t.child}return t;case 5:return Fb(t),e===null&&Df(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Af(r,s)?i=null:o!==null&&Af(r,o)&&(t.flags|=32),cS(e,t),kt(e,t,i,n),t.child;case 6:return e===null&&Df(t),null;case 13:return dS(e,t,n);case 4:return dp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),ev(e,t,r,s,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Le(yc,r._currentValue),r._currentValue=i,o!==null)if(En(o.value,i)){if(o.children===s.children&&!Mt.current){t=vr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=hr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ff(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ff(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Io(t,n),s=dn(s),r=r(s),t.flags|=1,kt(e,t,r,n),t.child;case 14:return r=t.type,s=vn(r,t.pendingProps),s=vn(r.type,s),tv(e,t,r,s,n);case 15:return aS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Bl(e,t),t.tag=1,Ot(r)?(e=!0,pc(t)):e=!1,Io(t,n),sS(t,r,s),Bf(t,r,s,n),Hf(null,t,r,!0,e,n);case 19:return fS(e,t,n);case 22:return lS(e,t,n)}throw Error(F(156,t.tag))};function RS(e,t){return tb(e,t)}function ON(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new ON(e,t,n,r)}function Ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LN(e){if(typeof e=="function")return Ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wh)return 11;if(e===Kh)return 14}return 2}function ns(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ep(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case uo:return Ps(n.children,s,o,t);case Vh:i=8,s|=8;break;case uf:return e=cn(12,n,t,s|2),e.elementType=uf,e.lanes=o,e;case df:return e=cn(13,n,t,s),e.elementType=df,e.lanes=o,e;case ff:return e=cn(19,n,t,s),e.elementType=ff,e.lanes=o,e;case Fw:return iu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lw:i=10;break e;case Dw:i=9;break e;case Wh:i=11;break e;case Kh:i=14;break e;case Br:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=cn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Ps(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function iu(e,t,n,r){return e=cn(22,e,r,t),e.elementType=Fw,e.lanes=n,e.stateNode={isHidden:!1},e}function _d(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Cd(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sd(0),this.expirationTimes=sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tp(e,t,n,r,s,o,i,a,l){return e=new DN(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(o),e}function FN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function NS(e){if(!e)return ss;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ot(n))return Nb(e,n,t)}return t}function IS(e,t,n,r,s,o,i,a,l){return e=Tp(n,r,!0,e,s,o,i,a,l),e.context=NS(null),n=e.current,r=Et(),s=ts(n),o=hr(r,s),o.callback=t??null,Zr(n,o,s),e.current.lanes=s,Aa(e,s,r),Lt(e,r),e}function au(e,t,n,r){var s=t.current,o=Et(),i=ts(s);return n=NS(n),t.context===null?t.context=n:t.pendingContext=n,t=hr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zr(s,t,i),e!==null&&(_n(e,s,i,o),Dl(e,s,i)),i}function Tc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rp(e,t){hv(e,t),(e=e.alternate)&&hv(e,t)}function zN(){return null}var PS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Np(e){this._internalRoot=e}lu.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));au(e,t,null,null)};lu.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){au(null,e,null,null)}),t[gr]=null}};function lu(e){this._internalRoot=e}lu.prototype.unstable_scheduleHydration=function(e){if(e){var t=lb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hr.length&&t!==0&&t<Hr[n].priority;n++);Hr.splice(n,0,e),n===0&&ub(e)}};function Ip(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pv(){}function BN(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Tc(i);o.call(u)}}var i=IS(t,r,e,0,null,!1,!1,"",pv);return e._reactRootContainer=i,e[gr]=i.current,ua(e.nodeType===8?e.parentNode:e),Ds(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Tc(l);a.call(u)}}var l=Tp(e,0,!1,null,null,!1,!1,"",pv);return e._reactRootContainer=l,e[gr]=l.current,ua(e.nodeType===8?e.parentNode:e),Ds(function(){au(t,l,n,r)}),l}function uu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Tc(i);a.call(l)}}au(t,i,e,s)}else i=BN(n,t,e,s,r);return Tc(i)}ib=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oi(t.pendingLanes);n!==0&&(Yh(t,n|1),Lt(t,Xe()),!(Se&6)&&(Ho=Xe()+500,cs()))}break;case 13:Ds(function(){var r=yr(e,1);if(r!==null){var s=Et();_n(r,e,1,s)}}),Rp(e,1)}};Xh=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var n=Et();_n(t,e,134217728,n)}Rp(e,134217728)}};ab=function(e){if(e.tag===13){var t=ts(e),n=yr(e,t);if(n!==null){var r=Et();_n(n,e,t,r)}Rp(e,t)}};lb=function(){return Pe};cb=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Sf=function(e,t,n){switch(t){case"input":if(mf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=eu(r);if(!s)throw Error(F(90));Bw(r),mf(r,s)}}}break;case"textarea":Uw(e,n);break;case"select":t=n.value,t!=null&&Eo(e,!!n.multiple,t,!1)}};Yw=_p;Xw=Ds;var $N={usingClientEntryPoint:!1,Events:[Ma,mo,eu,qw,Gw,_p]},Ti={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||zN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Xc=pl.inject(UN),Kn=pl}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$N;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(t))throw Error(F(200));return FN(e,t,null,n)};Zt.createRoot=function(e,t){if(!Ip(e))throw Error(F(299));var n=!1,r="",s=PS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Tp(e,1,!1,null,null,n,!1,r,s),e[gr]=t.current,ua(e.nodeType===8?e.parentNode:e),new Np(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Zw(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return Ds(e)};Zt.hydrate=function(e,t,n){if(!cu(t))throw Error(F(200));return uu(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!Ip(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=PS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=IS(t,null,e,1,n??null,s,!1,o,i),e[gr]=t.current,ua(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new lu(t)};Zt.render=function(e,t,n){if(!cu(t))throw Error(F(200));return uu(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!cu(e))throw Error(F(40));return e._reactRootContainer?(Ds(function(){uu(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};Zt.unstable_batchedUpdates=_p;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cu(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return uu(e,t,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function AS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AS)}catch(e){console.error(e)}}AS(),Aw.exports=Zt;var ni=Aw.exports;const HN=Jo(ni);var jS,mv=ni;jS=mv.createRoot,mv.hydrateRoot;function VN(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function WN(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let qi=null;function KN(e,t){e.currentIndex=0;const n=qi;qi=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{qi=n}}function Pp(){if(!qi)throw new Error("No resource fiber available");return qi}function qN(e){return null}function MS(e,t){const n=e[OS];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const OS=Symbol("fnSymbol");function xa(e,t,n=qN()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function Ao(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,WN(e)}function As(e,t){const n={commitTasks:[],props:t,output:void 0};return KN(e,()=>{e.renderContext=n;try{n.output=MS(e.type,t)}finally{e.renderContext=void 0}}),n}function wa(e,t){e.isMounted=!0,e.isNeverMounted=!1,VN(t)}const GN=()=>null,YN=(e,t)=>e+(t()?1:0);function XN(e){const[,t]=f.useReducer(YN,0),n=GN(),r=f.useMemo(()=>xa(e.type,t,n),[e.type,e.key]),s=As(r,e.props);return f.useLayoutEffect(()=>()=>Ao(r),[r]),f.useLayoutEffect(()=>{wa(r,s)}),s.output}function Ae(e){const t=n=>({type:t,props:n});return t[OS]=e,t}function xr(e,t){return{...t,key:e}}const QN=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function JN(e){const t=Pp(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{QN(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function Tn(e){const t=JN(e);return[t.value,t.set]}const LS=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},ZN=(e,t)=>{const n=Pp(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},eI=e=>{Pp().renderContext.commitTasks.push(e)},tI=()=>({type:"effect",cleanup:void 0,deps:null});function ht(e,t){const n=ZN("effect",tI);if(!(t&&n.deps&&LS(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");eI(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function Gr(e){const[t]=Tn(()=>({current:e}));return t}function Vo(e,t){const[n]=Tn(e);return n}const _e=(e,t)=>{const n=Gr();return n.current||(n.current={value:e(),deps:t}),LS(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},DS=(e,t)=>_e(()=>e,t);function Ap(e){const t=Gr(e);return ht(()=>{t.current=e}),t.current}function FS(e,t){const[n,r]=Tn(0),s=Vo(()=>()=>r(a=>a+1)),o=_e(()=>(e.key,xa(e.type,a=>{a()&&s()})),[e.type,e.key]),i=As(o,e.props);return ht(()=>()=>Ao(o),[o]),ht(()=>{wa(o,i)},[o,i]),i.output}function Qn(e){return MS(e.type,e.props)}function jp(e,t){const[n,r]=Tn(0),s=Vo(()=>()=>r(l=>l+1)),o=Vo(()=>new Map),i=t?DS(e,t):e,a=_e(()=>{const l=i(),u=new Set,d=[];let h=0;for(let p=0;p<l.length;p++){const m=l[p],w=m.key;if(w===void 0)throw new Error(`tapResources did not provide a key for array at index ${p}`);if(u.has(w))throw new Error(`Duplicate key ${w} in tapResources`);u.add(w);let y=o.get(w);if(y)if(y.fiber.type!==m.type){const b=xa(m.type,v=>{v()&&s()}),g=As(b,m.props);y.next=[b,g],d.push(g.output)}else y.next=As(y.fiber,m.props),d.push(y.next.output);else{const b=xa(m.type,v=>{v()&&s()}),g=As(b,m.props);y={fiber:b,next:g},h++,o.set(w,y),d.push(g.output)}}if(o.size>d.length-h)for(const p of o.keys())u.has(p)||(o.get(p).next="delete");return d},[i,n]);return ht(()=>()=>{for(const l of o.keys()){const u=o.get(l).fiber;Ao(u)}},[]),ht(()=>{for(const[l,u]of o.entries())u.next==="delete"?(u.fiber.isMounted&&Ao(u.fiber),o.delete(l)):Array.isArray(u.next)?(Ao(u.fiber),u.fiber=u.next[0],wa(u.fiber,u.next[1])):wa(u.fiber,u.next)},[a]),a}const nI=50;let Vn={schedulers:new Set([]),isScheduled:!1};class rI{constructor(t){P(this,"_task");P(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,Vn.schedulers.add(this),sI()}runTask(){this._isDirty=!1,this._task()}}const sI=()=>{Vn.isScheduled||(Vn.isScheduled=!0,queueMicrotask(zS))},zS=()=>{try{const e=[];let t=0;for(const n of Vn.schedulers)if(Vn.schedulers.delete(n),!!n.isDirty){if(t++,t>nI)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{Vn.schedulers.clear(),Vn.isScheduled=!1}},BS=e=>{const t=Vn;Vn={schedulers:new Set([]),isScheduled:!0};try{const n=e();return zS(),n}finally{Vn=t}},oI=e=>{const t=Vo(()=>new rI(()=>{r.current=null,l()})),n=_e(()=>(e.key,xa(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=Gr(null);r.current=As(n,e.props);const s=Gr(!1),o=Gr(e.props),i=Gr(r.current.output),a=Vo(()=>new Set),l=Ap(()=>{s.current&&(r.current===null&&(r.current=As(n,o.current)),!t.isDirty&&(o.current=r.current.props,wa(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(u=>u()))))});return ht(()=>(s.current=!0,()=>{s.current=!1,Ao(n)}),[n]),ht(()=>{BS(l)}),_e(()=>({getValue:()=>i.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},Gi=Symbol("tap.Context"),$S=e=>({[Gi]:e}),US=(e,t,n)=>{const r=e[Gi];e[Gi]=t;try{return n()}finally{e[Gi]=r}},HS=e=>e[Gi],th=Symbol("assistant-ui.store.clientIndex"),iI=e=>e[th],VS=$S([]),Mp=()=>HS(VS),aI=(e,t)=>{const n=Mp(),r=_e(()=>[...n,e],[n,e]);return US(VS,r,t)},lI=new Set(["$$typeof","nodeType","then"]),du=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!lI.has(e))return!1}};class Op{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const WS=e=>{const t=Ae(e);return n=>{const r=t(n);return n.key===void 0?r:xr(n.key,r)}},Rc=Symbol("assistant-ui.store.getValue"),cI=e=>{const t=e[Rc];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},gv=new Map;function uI(e){let t=gv.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[Rc];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},gv.set(e,t)),t}class dI extends Op{constructor(n,r){super();P(this,"outputRef");P(this,"index");P(this,"boundFns");P(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===Rc)return this.outputRef.current;if(r===th)return this.index;const o=du(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=uI(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===Rc||r===th?!0:r in this.outputRef.current.methods}}const KS=WS(e=>{const t=Gr(null),n=Mp().length,r=_e(()=>new Proxy({},new dI(t,n)),[n]),s=aI(r,()=>FS(e));return t.current||(t.current=s),ht(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),fu=e=>Qn(KS(e)),Yi=Symbol("assistant-ui.store.proxiedAssistantState"),kd=e=>e==="on"||e==="subscribe"||typeof e=="symbol",qS=e=>{class t extends Op{get(r,s){const o=du(s,"AssistantState");if(o!==!1)return o;const i=s;if(!kd(i))return cI(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!kd(r))}has(r,s){return!kd(s)&&s in e}}return new Proxy({},new t)},fI=e=>e[Yi],yv=()=>()=>{},GS=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class hI extends Op{get(t,n){if(n==="subscribe"||n==="on")return yv;if(n===Yi)return pI;const r=du(n,"DefaultAssistantClient");return r!==!1?r:GS("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",Yi]}has(t,n){return n==="subscribe"||n==="on"||n===Yi}}const hu=new Proxy({},new hI),pI=qS(hu),mI=()=>new Proxy({},{get(e,t){const n=du(t,"AssistantClient");return n!==!1?n:GS(`The current scope does not have a "${String(t)}" property.`)}}),YS=f.createContext(hu),gI=()=>f.useContext(YS),us=({value:e,children:t})=>c.jsx(YS.Provider,{value:e,children:t}),Cn=Ae(e=>null),nh=Symbol("assistant-ui.default-peers");function XS(e,t){const n=e,r=n[nh]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[nh]={...r,...t}}function yI(e){return e[nh]}function vI(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===Cn?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=yI(o.type);if(!a)return[];const l=[];for(const[u,d]of Object.entries(a))if(l.push([u,d]),d.type!==Cn){const h=s(d,i);l.push(...h)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===Cn?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const vv=e=>_e(()=>e,[...Object.entries(e).flat()]),xI=(e,t)=>{const{rootClients:n,derivedClients:r}=vI(e,t);return{rootClients:vv(n),derivedClients:vv(r)}},QS=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},wI=Ae(()=>Vo(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:s};for(const u of t)try{u(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),JS=$S(null),bI=(e,t)=>US(JS,e,t),ZS=()=>{const e=HS(JS);if(!e)throw new Error("AssistantTapContext is not available");return e},e_=()=>ZS().clientRef,Lp=()=>{const{emit:e}=ZS(),t=Mp();return Ap((n,r)=>{e(n,r,t)})},t_=e=>_e(()=>e,e),SI=Ae(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=bI({clientRef:n,emit:t},()=>fu(e));return _e(()=>({state:s,methods:r}),[r,s])}),_I=Ae(({element:e,notifications:t,clientRef:n,name:r})=>{const s=oI(SI({element:e,emit:t.emit,clientRef:n}));return ht(()=>s.subscribe(t.notifySubscribers),[s,t]),_e(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),CI=Ae(()=>_e(()=>({clients:[],subscribe:void 0,on:void 0}),[])),kI=Ae(({clients:e,clientRef:t})=>{const n=Qn(wI());ht(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=t_(jp(()=>Object.keys(e).map(s=>xr(s,_I({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return _e(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=QS(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,h)=>{if(i==="*"){o(d);return}const p=this[i](),m=iI(p);p===h[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const u=t.parent.on(s,o);return()=>{l(),u()}}}),[r,n,t])}),xv=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},EI=Ae(({element:e,clientRef:t,name:n})=>{const r=Ap(()=>e.props);return _e(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>xv(r(),t,o).source},query:{get:()=>xv(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),TI=Ae(({clients:e,clientRef:t})=>t_(jp(()=>Object.keys(e).map(n=>xr(n,EI({element:e[n],clientRef:t,name:n}))),[e,t]))),RI=Ae(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=xI(t,e),s=Gr({parent:e,current:null}).current;ht(()=>{s.current=a});const o=FS(Object.keys(n).length>0?kI({clients:n,clientRef:s}):CI()),i=Qn(TI({clients:r,clientRef:s})),a=_e(()=>{const l=e===hu?mI():e,u=Object.create(l);Object.assign(u,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[Yi]:qS(u)});for(const d of o.clients)u[d.name]=d;for(const d of i)u[d.name]=d;return u},[e,o,i]);return s.current===null&&(s.current=a),a});function ge(e,{parent:t}={parent:gI()}){if(e)return XN(RI({parent:t??hu,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const te=e=>{const t=ge(),n=fI(t),r=f.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return f.useDebugValue(r),r},NI=be.createContext(!0);function wv(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const II="use"in be?()=>{try{return be.use(NI)}catch{return!1}}:()=>!1;function PI(e){const t=be.useRef(wv);return be.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{II()&&wv();const r=t.current;return r(...n)}}const Ed=(e,t)=>{const n=ge(),r=PI(t),{scope:s,event:o}=QS(e);f.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},AI=WS(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return Qn(KS(e))});function Wo(e,t){const n=jp(()=>e().map(i=>AI(i)),t),r=_e(()=>Object.keys(n),[n]),s=_e(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:_e(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const jI=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class Dp{constructor(){P(this,"_providers",new Set);P(this,"_subscribers",new Set)}getModelContext(){return jI(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class Fp{constructor(){P(this,"_contextProvider",new Dp)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class La{constructor(){P(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const MI=e=>e.status.type==="complete";class n_ extends La{constructor(){super(...arguments);P(this,"isEditing",!0);P(this,"_attachments",[]);P(this,"_text","");P(this,"_role","user");P(this,"_runConfig",{});P(this,"_dictation");P(this,"_dictationSession");P(this,"_dictationUnsubscribes",[]);P(this,"_dictationBaseText","");P(this,"_currentInterimText","");P(this,"_dictationSessionIdCounter",0);P(this,"_activeDictationSessionId");P(this,"_isCleaningDictation",!1);P(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>MI(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const h of this._dictationUnsubscribes)h();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const h=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(h){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:w,...y}=this._dictation;this._dictation=y}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class r_ extends n_{constructor(n){super();P(this,"runtime");P(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let OI=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Fs=OI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),LI="__optimistic__",DI=()=>`${LI}${Fs()}`,pu=Symbol("autoStatus"),FI=Object.freeze(Object.assign({type:"running"},{[pu]:!0})),zI=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[pu]:!0})),BI=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[pu]:!0})),$I=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[pu]:!0})),s_=(e,t,n,r,s)=>e&&t?FI:n?$I:r?BI:zI;var ri={exports:{}};const UI=typeof Buffer<"u",bv=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Sv=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function o_(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),UI&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(bv.test(e)===!1&&Sv.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(bv.test(e)===!1)return r}else if(Sv.test(e)===!1)return r;return i_(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function i_(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function zp(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return o_(e,t,n)}finally{Error.stackTraceLimit=r}}function HI(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return o_(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}ri.exports=zp;ri.exports.default=zp;ri.exports.parse=zp;ri.exports.safeParse=HI;ri.exports.scan=i_;var VI=ri.exports;const _v=Jo(VI);function WI(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(h,p,m){switch(h){case'"':{n=p,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=p,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=p,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop(),o=s.pop();break}}}function u(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}}}for(let h=0;h<e.length;h++){const p=e[h];switch(t[t.length-1]){case"ROOT":a(p,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=h,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=p;break}default:{o+=p;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(p,h);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=h,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=h}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h,o="0",a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=h:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=p);break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const w=e.substring(r,h+1);!"false".startsWith(w)&&!"true".startsWith(w)&&!"null".startsWith(w)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(p,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h)):n=h;break}}}let d=e.slice(0,n+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const Td=Symbol("aui.parse-partial-json-object.meta"),a_=e=>{if(e.length===0)return{[Td]:{state:"partial",partialPath:[]}};try{const t=_v.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[Td]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=WI(e),r=_v.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Td]={state:"partial",partialPath:n},r}catch{return}}},rh={toResponse(e,t){return new Response(rh.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return rh.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},l_=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},KI=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=l_(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class Cv{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const c_=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Cv(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Cv(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),kv=()=>{let e;return[c_({start(n){e=n}}),e]};class Ev{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);P(this,"_mergeTask");P(this,"_argsTextController");this._controller=t;const n=c_({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const qI=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Ev(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Ev(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),GI=()=>{let e;return[qI({start(n){e=n}}),e]};class u_{constructor(){P(this,"value",-1)}up(){return++this.value}}class YI extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class u8 extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class XI extends TransformStream{constructor(t){const n=new u_,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class QI extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let JI=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const d_=JI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class Bp{constructor(t){P(this,"_state");P(this,"_parentId");this._state=t||{merger:KI(),contentCounter:new u_}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new YI(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new XI(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=kv();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=kv();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??d_(),[o,i]=GI();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new Bp(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function ZI(e){const t=new Bp;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function eP(){const{resolve:e,promise:t}=l_();let n;return[ZI(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class tP extends TransformStream{constructor(t,n,r){const[s,o]=eP();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const Da=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,u={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,h=({image:p,...m})=>p.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:p}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"reasoning":return p.text.trim().length===0?null:p;case"file":case"source":return p;case"image":return h(p);case"data":return p;case"tool-call":{const{parentId:w,messages:y,...b}=p,g={...b,toolCallId:p.toolCallId??`tool-${Fs()}`,...w!==void 0&&{parentId:w},...y!==void 0&&{messages:y}};return p.args?{...g,args:p.args,argsText:p.argsText??JSON.stringify(p.args)}:{...g,args:a_(p.argsText??"")??{},argsText:p.argsText??""}}default:{const w=m;throw new Error(`Unsupported assistant message part type: ${w}`)}}}).filter(p=>!!p),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"image":case"audio":case"file":return p;default:{const w=m;throw new Error(`Unsupported user message part type: ${w}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const p=r;throw new Error(`Unknown message role: ${p}`)}}},$p={fromArray:e=>{const t=e.map(n=>Da(n,Fs(),s_(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},Vl=e=>e.next?Vl(e.next):"current"in e?e:null;class nP{constructor(t){P(this,"func");P(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class f_{constructor(){P(this,"messages",new Map);P(this,"head",null);P(this,"root",{children:[],next:null});P(this,"_messages",new nP(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(Vl(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=DI();while(this.messages.has(r));return this.addOrUpdateMessage(t,Da(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=Vl(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=Vl(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class mu{constructor(){P(this,"_subscriptions",new Set);P(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const Rn=Symbol("skip-update");class Up extends mu{constructor(n){super();P(this,"binding");P(this,"_previousStateDirty",!0);P(this,"_previousState");P(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==Rn&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class ml{constructor(t,n){P(this,"_core");P(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function rP(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class bn extends mu{constructor(n){super();P(this,"binding");P(this,"_previousState");P(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===Rn)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===Rn||rP(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const Nc=Symbol("innerMessage"),Ic=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class h_{constructor(t){P(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class p_ extends h_{constructor(n,r){super(n);P(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class sP extends p_{get source(){return"thread-composer"}}class oP extends p_{get source(){return"edit-composer"}}class iP extends h_{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class m_ extends mu{constructor(n){super();P(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const g_=Object.freeze([]),y_=Object.freeze({}),aP=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??g_,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??y_,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),lP=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??g_,runConfig:(e==null?void 0:e.runConfig)??y_,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class v_{constructor(t){P(this,"_core");P(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new m_({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class cP extends v_{constructor(n){const r=new Up({path:n.path,getState:()=>aP(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});P(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new sP(new bn({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:Rn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class uP extends v_{constructor(n,r){const s=new Up({path:n.path,getState:()=>lP(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});P(this,"_beginEdit");P(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new oP(new bn({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:Rn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class Xi{constructor(t=null){P(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>Xi.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return Xi.updatePath(t,n.path,()=>n.value);case"append-text":return Xi.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const dP=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),gu=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},fP=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},hP=(e,t)=>gu(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),pP=(e,t)=>gu(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),mP=(e,t)=>gu(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=a_(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),gP=(e,t)=>gu(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),Tv=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=yP(t);return{...e,status:n}},yP=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},vP=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),xP=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),wP=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),bP=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:d_(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},SP=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),_P=(e,t)=>{const n=new Xi(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},CP=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class kP extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??dP(),o;const i=n?CP(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=fP(s,a);break;case"tool-call-args-text-finish":s=hP(s,a);break;case"part-finish":s=pP(s,a);break;case"text-delta":s=mP(s,a);break;case"result":s=gP(s,a);break;case"message-finish":s=Tv(s,a);break;case"annotations":s=vP(s,a);break;case"data":s=xP(s,a);break;case"step-start":s=wP(s,a);break;case"step-finish":s=bP(s,a);break;case"error":s=SP(s,a),r==null||r(a.error);break;case"update-state":s=_P(s,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}i()},flush(a){var l,u;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((u=s.parts)==null?void 0:u.some(h=>h.type==="tool-call"&&(h.state==="call"||h.state==="partial-call")&&h.result===void 0))??!1;s=Tv(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class EP extends QI{constructor(){super(t=>{const n=new tP({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class Qi{constructor(t){P(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new Qi(t.pipeThrough(new kP))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new Qi(t),new Qi(n)]}}const Rv=Symbol.for("aui.tool-response");class Pc{constructor(t){P(this,"artifact");P(this,"result");P(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[Rv](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&Rv in t}static toResponse(t){return t instanceof Pc?t:new Pc({result:t===void 0?"<no result>":t})}}class Nv{constructor(t,n,r){P(this,"contentBinding");P(this,"messageApi");P(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=Pc.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class Ac extends mu{constructor(n){super();P(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const gl=Object.freeze({type:"complete"}),TP=(e,t,n)=>{if(e.role!=="assistant")return gl;if(n.type==="tool-call")return n.result?gl:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?gl:r?e.status:gl},Iv=(e,t)=>{const n=e.content[t];if(!n)return Rn;const r=TP(e,t,n);return Object.freeze({...n,[Nc]:n[Nc],status:r})};class RP{constructor(t,n){P(this,"_core");P(this,"_threadBinding");P(this,"composer");P(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new uP(new Ac({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return Ic(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new Nv(new bn({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>Iv(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new Nv(new bn({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?Rn:Iv(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new iP(new bn({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:Rn},subscribe:n=>this._core.subscribe(n)}))}}const NP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),IP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),PP=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},AP=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class x_{constructor(t,n){P(this,"_threadBinding");P(this,"composer");P(this,"_eventSubscriptionSubjects",new Map);const r=new bn({path:t.path,getState:()=>AP(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new cP(new Ac({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(PP(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(IP(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(NP(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new RP(new bn({path:t,getState:()=>{var h;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return Rn;const u=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[Nc]:r[Nc],index:o,isLast:((h=i.at(-1))==null?void 0:h.id)===r.id,parentId:s,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new m_({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const jP=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),yl=(e,t)=>{if(t===void 0)return Rn;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:Rn};class w_{constructor(t,n=x_){P(this,"_core");P(this,"_runtimeFactory");P(this,"_getState");P(this,"_mainThreadListItemRuntime");P(this,"main");this._core=t,this._runtimeFactory=n;const r=new Up({path:{},getState:()=>jP(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new ml(new bn({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>yl(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new Ac({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new Ac({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new ml(new bn({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>yl(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new ml(new bn({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>yl(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new ml(new bn({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>yl(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const MP=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class OP{constructor(t){P(this,"cloud");P(this,"accept","*");P(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=MP(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const sh=f.createContext(null),b_=({adapters:e,children:t})=>{const n=f.useContext(sh);return c.jsx(sh.Provider,{value:{...n,...e},children:t})},LP=()=>f.useContext(sh);class DP extends n_{constructor(n,r,{parentId:s,message:o}){super();P(this,"runtime");P(this,"endEditCallback");P(this,"_nonTextParts");P(this,"_previousText");P(this,"_parentId");P(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=Ic(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){Ic(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class FP{constructor(t){P(this,"_contextProvider");P(this,"_subscriptions",new Set);P(this,"_isInitialized",!1);P(this,"repository",new f_);P(this,"composer",new r_(this));P(this,"_editComposers",new Map);P(this,"_stopSpeaking");P(this,"speech");P(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new DP(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(Ic(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import($p.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class zP{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const Pv=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class Rd extends Error{constructor(n,r){super(r);P(this,"name","AbortError");P(this,"detach");this.detach=n}}class BP extends FP{constructor(n,r){super(n);P(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});P(this,"abortController",null);P(this,"isDisabled",!1);P(this,"_isLoading",!1);P(this,"_suggestions",[]);P(this,"_suggestionsController",null);P(this,"_options");P(this,"_lastRunConfig",{});P(this,"_getThreadId");P(this,"_getInitializePromise");P(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,d,h;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((h=n.adapters)==null?void 0:h.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=Da(n,Fs(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,u,d;this.ensureInitialized();let i={id:Fs(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(Pv(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=i.status)==null?void 0:u.type)!=="requires-action"){const h=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in h)for await(const p of h){if(a.aborted)break;this._suggestions=p,this._notifySubscribers()}else{const p=await h;if(a.aborted)return;this._suggestions=p,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var y,b,g,v,x,C,N,k,T;const i=n?this.repository.getMessages(n):[];(y=this.abortController)==null||y.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(g=r.metadata)==null?void 0:g.unstable_data,d=(v=r.metadata)==null?void 0:v.steps,h=(x=r.metadata)==null?void 0:x.custom,p=I=>{var W,V,X,j;const M=(W=I.metadata)==null?void 0:W.steps,A=M?[...d??[],...M]:void 0,L=(V=I.metadata)==null?void 0:V.unstable_annotations,R=(X=I.metadata)==null?void 0:X.unstable_data,U=L?[...l??[],...L]:void 0,$=R?[...u??[],...R]:void 0;r={...r,...I.content?{content:[...a,...I.content??[]]}:void 0,status:I.status??r.status,...I.metadata?{metadata:{...r.metadata,...I.metadata.unstable_state?{unstable_state:I.metadata.unstable_state}:void 0,...U?{unstable_annotations:U}:void 0,...$?{unstable_data:$}:void 0,...A?{steps:A}:void 0,...(j=I.metadata)!=null&&j.custom?{custom:{...h??{},...I.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((N=(C=r.metadata)==null?void 0:C.steps)==null?void 0:N.length)??0)>=m)return p({status:{type:"incomplete",reason:"tool-calls"}}),r;p({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const I=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const M=this.abortController.signal,A=(k=this._getThreadId)==null?void 0:k.call(this),L=o({messages:i,runConfig:this._lastRunConfig,abortSignal:M,context:I,config:I,unstable_assistantMessageId:r.id,unstable_threadId:A,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in L)for await(const R of L){if(M.aborted){p({status:{type:"incomplete",reason:"cancelled"}});break}p(R)}else p(await L);r.status.type==="running"&&p({status:{type:"complete",reason:"unknown"}})}catch(I){if(I instanceof Rd)p({status:{type:"incomplete",reason:"cancelled"}});else if(I instanceof Error&&I.name==="AbortError")p({status:{type:"incomplete",reason:"cancelled"}});else throw p({status:{type:"incomplete",reason:"error",error:I instanceof Error?I.message:`[${typeof I}] ${new String(I).toString()}`}}),I}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((T=this._options.adapters.history)==null?void 0:T.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new Rd(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new Rd(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,h=!1;const p=u.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(h=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!h)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:p},this.repository.addOrUpdateMessage(l,u),d&&Pv(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const Av=Object.freeze([]),oh="__DEFAULT_ID__",$P=Object.freeze({[oh]:{id:oh,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class UP extends La{constructor(n){super();P(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw Av}get archivedThreadIds(){throw Av}get mainThreadId(){return oh}get threadItems(){return $P}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class HP extends Fp{constructor(n,r){super();P(this,"threads");P(this,"Provider");P(this,"_options");this._options=n,this.threads=new UP(()=>new BP(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import($p.fromArray(r))}}const jv=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var Ta;class S_{constructor(t){P(this,"strategy","jwt");P(this,"cachedToken",null);P(this,"tokenExpiry",null);vi(this,Ta);xi(this,Ta,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await yi(this,Ta).call(this);return n?(this.cachedToken=n,this.tokenExpiry=jv(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=jv(s)}}Ta=new WeakMap;var Ra,Na,Ia;class VP{constructor(t,n,r){P(this,"strategy","api-key");vi(this,Ra);vi(this,Na);vi(this,Ia);xi(this,Ra,t),xi(this,Na,n),xi(this,Ia,r)}async getAuthHeaders(){return{Authorization:`Bearer ${yi(this,Ra)}`,"Aui-User-Id":yi(this,Na),"Aui-Workspace-Id":yi(this,Ia)}}readAuthHeaders(){}}Ra=new WeakMap,Na=new WeakMap,Ia=new WeakMap;const vl="aui:refresh_token";class WP{constructor(t){P(this,"strategy","anon");P(this,"baseUrl");P(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new S_(async()=>{const n=Date.now(),r=localStorage.getItem(vl),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const h=await d.json(),{access_token:p,refresh_token:m}=h;return m&&localStorage.setItem(vl,JSON.stringify(m)),p}}else localStorage.removeItem(vl);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(vl,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class KP extends Error{constructor(t){super(t),this.name="APIError"}}class qP{constructor(t){P(this,"_auth");P(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new S_(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new VP(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new WP(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?o.set(l,"true"):o.set(l,u.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new KP(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class GP{constructor(t){P(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class YP{constructor(t){P(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return rh.fromResponse(n,new EP)}}class XP{constructor(t){P(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class QP{constructor(t){P(this,"cloud");P(this,"messages");this.cloud=t,this.messages=new XP(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class JP{constructor(t){P(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class ZP{constructor(t){P(this,"threads");P(this,"auth");P(this,"runs");P(this,"files");const n=new qP(t);this.threads=new QP(n),this.auth={tokens:new GP(n)},this.runs=new YP(n),this.files=new JP(n)}}function ih(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>ih(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&ih(r,t+1)):!1}const eA=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return ih(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},tA=e=>{const t=e.content,n=Da({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Nd=new WeakMap;class nA{constructor(t,n){P(this,"parent");P(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class rA{constructor(t,n){P(this,"cloudRef");P(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Nd.has(this.aui.threadListItem())||Nd.set(this.aui.threadListItem(),{}),Nd.get(this.aui.threadListItem())}withFormat(t){return new nA(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:eA(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(tA).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const sA=e=>{const t=ge(),[n]=f.useState(()=>new rA(e,t));return n};var ww;const Mv=typeof process<"u"&&((ww=process==null?void 0:process.env)==null?void 0:ww.NEXT_PUBLIC_ASSISTANT_BASE_URL),Id=Mv?new ZP({baseUrl:Mv,anonymous:!0}):void 0,oA=e=>{const t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);const n=f.useCallback(function({children:o}){const i=sA({get current(){return t.current.cloud??Id}}),a=t.current.cloud??Id,l=f.useMemo(()=>new OP(a),[a]),u=f.useMemo(()=>({history:i,attachments:l}),[i,l]);return c.jsx(b_,{adapters:u,children:o})},[]),r=e.cloud??Id;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new zP},iA=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=LP()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=f.useState(()=>new HP(o,t)),a=f.useRef(void 0);return a.current=te(({threadListItem:l})=>l.remoteId),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),f.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),f.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),f.useMemo(()=>new Hp(i),[i])},aA=(e,{cloud:t,...n}={})=>{const r=oA({cloud:t});return YA({runtimeHook:function(){return iA(e,n)},adapter:r,allowNesting:!0})};class Hp{constructor(t){P(this,"_core");P(this,"threads");P(this,"_thread");this._core=t,this.threads=new w_(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import($p.fromArray(t??[]))}}function Ge(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Ov=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,s,a);return a},lA=e=>e?Ov(e):Ov,cA=e=>e;function uA(e,t=cA){const n=be.useSyncExternalStore(e.subscribe,be.useCallback(()=>t(e.getState()),[e,t]),be.useCallback(()=>t(e.getInitialState()),[e,t]));return be.useDebugValue(n),n}const Lv=e=>{const t=lA(e),n=r=>uA(t,r);return Object.assign(n,t),n},Ko=e=>e?Lv(e):Lv;function __(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const C_=f.createContext(null),dA=e=>({useSmoothStatus:Ko(()=>e)}),fA=({children:e})=>{const t=k_({optional:!0}),n=ge(),[r]=f.useState(()=>dA(n.part().getState().status));return t?e:c.jsx(C_.Provider,{value:r,children:e})},hA=e=>{const t=f.forwardRef((n,r)=>c.jsx(fA,{children:c.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function k_(e){const t=f.useContext(C_);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:pA,useSmoothStatusStore:mA}=__(k_,"useSmoothStatus"),ba=e=>e;class gA{constructor(t,n){P(this,"currentText");P(this,"setText");P(this,"animationFrameId",null);P(this,"lastUpdateTime",Date.now());P(this,"targetText","");P(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const Pd=Object.freeze({type:"running"}),E_=(e,t=!1)=>{const{text:n}=e,r=te(({message:d})=>d.id),s=f.useRef(r),[o,i]=f.useState(n),a=mA({optional:!0}),l=Ge(d=>{if(i(d),a){const h=o!==d||e.status.type==="running"?Pd:e.status;ba(a).setState(h,!0)}});f.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?Pd:e.status;ba(a).setState(d,!0)}},[a,t,n,o,e.status]);const[u]=f.useState(new gA(n,l));return f.useEffect(()=>{if(!t){u.stop();return}if(s.current!==r||!n.startsWith(u.targetText)){s.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),f.useEffect(()=>()=>{u.stop()},[u]),f.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:Pd}:e,[t,o,e,n])},Vp=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:Hp,BaseAssistantRuntimeCore:Fp,CompositeContextProvider:Dp,DefaultThreadComposerRuntimeCore:r_,MessageRepository:f_,ThreadRuntimeImpl:x_,fromThreadMessageLike:Da,generateId:Fs,getAutoStatus:s_,useSmooth:E_,useSmoothStatus:pA,withSmoothContextProvider:hA},Symbol.toStringTag,{value:"Module"})),Ks=e=>{const[,t]=Tn(e.getState);return ht(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},T_=Ae(({runtime:e})=>{const t=Ks(e),n=Lp();return ht(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),R_=Ae(({runtime:e})=>{const t=Ks(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),yA=Ae(({runtime:e,index:t})=>{const n=_e(()=>e.getAttachmentByIndex(t),[e,t]);return Qn(R_({runtime:n}))}),N_=Ae(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=Ks(n),s=Lp();ht(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const d=n.unstable_on(u,()=>{s(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const u of a)u()}},[n,s,e,t]);const o=Wo(()=>r.attachments.map((a,l)=>xr(a.id,yA({runtime:n,index:l}))),[r.attachments,n]),i=_e(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),vA=Ae(({runtime:e})=>{const t=Ks(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),xA=Ae(({runtime:e,index:t})=>{const n=_e(()=>e.getAttachmentByIndex(t),[e,t]);return Qn(R_({runtime:n}))}),wA=Ae(({runtime:e,index:t})=>{const n=_e(()=>e.getMessagePartByIndex(t),[e,t]);return Qn(vA({runtime:n}))}),bA=Ae(({runtime:e,threadIdRef:t})=>{const n=Ks(e),[r,s]=Tn(!1),[o,i]=Tn(!1),a=_e(()=>({get current(){return e.getState().id}}),[e]),l=fu(N_({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=Wo(()=>n.content.map((p,m)=>xr("toolCallId"in p&&p.toolCallId!=null?`toolCallId-${p.toolCallId}`:`index-${m}`,wA({runtime:e,index:m}))),[n.content,e]),d=Wo(()=>(n.attachments??[]).map((p,m)=>xr(p.id,xA({runtime:e,index:m}))),[n.attachments,e]),h=_e(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:o}),[n,u.state,l.state,r,o]);return{state:h,methods:{getState:()=>h,composer:l.methods,reload:p=>e.reload(p),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:p=>e.submitFeedback(p),switchToBranch:p=>e.switchToBranch(p),getCopyText:()=>e.unstable_getCopyText(),part:p=>"index"in p?u.get({index:p.index}):u.get({key:`toolCallId-${p.toolCallId}`}),attachment:p=>"id"in p?d.get({key:p.id}):d.get(p),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),SA=Ae(({runtime:e,id:t,threadIdRef:n})=>{const r=_e(()=>e.getMessageById(t),[e,t]);return Qn(bA({runtime:r,threadIdRef:n}))}),_A=Ae(({runtime:e})=>{const t=Ks(e),n=Lp();ht(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const d=e.unstable_on(u,()=>{var p;const h=((p=e.getState())==null?void 0:p.threadId)||"unknown";n(`thread.${u}`,{threadId:h})});a.push(d)}return()=>{for(const u of a)u()}},[e,n]);const r=_e(()=>({get current(){return e.getState().threadId}}),[e]),s=fu(N_({runtime:e.composer,threadIdRef:r})),o=Wo(()=>t.messages.map(a=>xr(a.id,SA({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=_e(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),CA=Ae(({runtime:e,id:t})=>{const n=_e(()=>e.getItemById(t),[e,t]);return Qn(T_({runtime:n}))}),kA=Ae(({runtime:e,__internal_assistantRuntime:t})=>{const n=Ks(e),r=fu(_A({runtime:e.main})),s=Wo(()=>Object.keys(n.threadItems).map(i=>xr(i,CA({runtime:e,id:i}))),[n.threadItems,e]),o=_e(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,u=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:u})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),EA=1,I_=Ae(()=>{const[e]=Tn(()=>({version:EA+1})),t=_e(()=>new Dp,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function Dv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yu(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Dv(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Dv(e[s],null)}}}}function ye(...e){return f.useCallback(yu(...e),e)}const P_=Ae(({toolkit:e})=>{const[t,n]=Tn(()=>({tools:{}})),r=e_(),s=DS((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(u=>u!==i))??[]}}})}),[]);return ht(()=>{if(!e)return;const o=[];for(const[l,u]of Object.entries(e))u.render&&o.push(s(l,u.render));const i=Object.entries(e).reduce((l,[u,d])=>{const{render:h,...p}=d;return l[u]=p,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});XS(P_,{modelContext:I_()});const TA=Ae(e=>({state:e,methods:{getState:()=>e}})),RA=Ae(e=>{const[t]=Tn(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=Wo(()=>t.suggestions.map((r,s)=>xr(s,TA(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),NA=RA,A_=Ae(e=>{const t=e_();return ht(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),Qn(kA({runtime:e.threads,__internal_assistantRuntime:e}))});XS(A_,{modelContext:I_(),tools:P_({}),suggestions:NA(),threadListItem:Cn({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:Cn({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:Cn({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const Ad=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},IA=(e={})=>{const t=new Set,n=Ad(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=Ad(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=Ad(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=Ko(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function PA(e,t){function n(r){const s=f.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const j_=f.createContext(null),AA=PA(j_,"ThreadPrimitive.Viewport"),{useThreadViewport:Sa,useThreadViewportStore:vu}=__(AA,"useThreadViewport"),jA=e=>{const t=vu({optional:!0}),[n]=f.useState(()=>IA(e));return f.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),f.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&ba(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),f.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&ba(n).setState(r)},[n,e.turnAnchor]),n},M_=({children:e,options:t={}})=>{const n=jA(t),[r]=f.useState(()=>({useThreadViewport:n}));return c.jsx(j_.Provider,{value:r,children:e})},MA=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},OA=({children:e,aui:t=null,runtime:n})=>{const r=ge({threads:A_(n)},{parent:t});f.useEffect(()=>{},[r]);const s=MA(n);return c.jsxs(us,{value:r,children:[s&&c.jsx(s,{}),c.jsx(M_,{children:e})]})},O_=f.memo(OA),LA=({runtime:e,children:t})=>{const n=ge({threadListItem:T_({runtime:e})});return c.jsx(us,{value:n,children:t})},DA=({index:e,children:t})=>{const n=ge({message:Cn({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:Cn({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return c.jsx(us,{value:n,children:t})},FA=({index:e,children:t})=>{const n=ge({part:Cn({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return c.jsx(us,{value:n,children:t})},zA=({index:e,children:t})=>{const n=ge({attachment:Cn({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return c.jsx(us,{value:n,children:t})},BA=({index:e,children:t})=>{const n=ge({attachment:Cn({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return c.jsx(us,{value:n,children:t})},$A=Ae(({text:e,isRunning:t})=>{const n=_e(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),UA=({text:e,isRunning:t=!1,children:n})=>{const r=ge({part:$A({text:e,isRunning:t})});return c.jsx(us,{value:r,children:n})};class HA extends La{constructor(n,r){super();P(this,"useRuntimeHook");P(this,"instances",new Map);P(this,"useAliveThreadsKeysChanged",Ko(()=>({})));P(this,"parent");P(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=f.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=f.useRef(!1);a.current||i(),f.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=ge(),u=f.useRef(void 0);return f.useEffect(()=>{const d=o.getState(),h=d.__internal_setGetInitializePromise;typeof h=="function"&&h.call(d,()=>u.current)},[o]),f.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const h=s.thread.unstable_on("runEnd",()=>{h(),l.threadListItem().generateTitle()})}}),[s,l]),null});P(this,"_OuterActiveThreadProvider",f.memo(({threadId:n,provider:r})=>{const s=f.useMemo(()=>new w_(this.parent).getItemById(n),[n]);return c.jsx(LA,{runtime:s,children:c.jsx(r,{children:c.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));P(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>c.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=Ko(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const $e=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),VA={getMessageById(){},getBranches(){return[]},switchToBranch(){throw $e},append(){throw $e},startRun(){throw $e},resumeRun(){throw $e},cancelRun(){throw $e},addToolResult(){throw $e},resumeToolCall(){throw $e},speak(){throw $e},stopSpeaking(){throw $e},submitFeedback(){throw $e},getModelContext(){return{}},exportExternalState(){throw $e},importExternalState(){throw $e},unstable_loadExternalState(){throw $e},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw $e},async removeAttachment(){throw $e},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw $e},role:"user",setRole(){throw $e},runConfig:{},setRunConfig(){throw $e},async reset(){},async clearAttachments(){},send(){throw $e},cancel(){},dictation:void 0,startDictation(){throw $e},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw $e},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw $e},export(){return{messages:[]}},reset(){throw $e},unstable_on(){return()=>{}}},Fv=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class WA extends La{constructor(n){super();P(this,"_pendingTransforms",[]);P(this,"_baseValue");P(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>Fv(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=Fv(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const Wl=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},xl=(e,t,n)=>{const r=Wl(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class KA extends La{constructor(n,r){super();P(this,"contextProvider");P(this,"_options");P(this,"_hookManager");P(this,"_loadThreadsPromise");P(this,"_mainThreadId");P(this,"_state",new WA({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));P(this,"useProvider");P(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>xl(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=Wl(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});P(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=Qi.fromAssistantStream(a);for await(const d of l){const h=(u=d.parts.filter(m=>m.type==="text")[0])==null?void 0:u.text,p=this._state.baseValue;this._state.update({...p,threadData:{...p.threadData,[r.id]:{...r,title:h}}})}});P(this,"useBoundIds",Ko(()=>[]));P(this,"__internal_RenderComponent",()=>{const n=f.useId();f.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&c.jsx(b_,{adapters:o,children:c.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new HA(n.runtimeHook,this),this.useProvider=Ko(()=>({Provider:n.adapter.unstable_Provider??f.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const u=l.remoteId;i[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??f.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||VA}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return Wl(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},u={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,h=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:h,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${Fs()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=Wl(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>xl(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>xl(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>xl(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class qA extends Fp{constructor(n){super();P(this,"threads");this.threads=new KA(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const GA=e=>{const[t]=f.useState(()=>new qA(e));return f.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),f.useMemo(()=>new Hp(t),[t])},YA=e=>{if(ge().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return GA(e)},XA=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function QA(e,t=JA){XA(e);const n=f.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return f.useDebugValue(n),n}const JA=e=>e;function Wp(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?QA(o,s):null}return t}function ZA(e){var r,s;return((s=(r=ge().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function ej(e){const t=ge(),n=te(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const jc=Wp(ej);function tj(e){const t=ge(),n=te(()=>{var r,s;return t.message.source?((s=(r=t.message()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("MessageRuntime is not available");return n}const L_=Wp(tj);function nj(e){const t=ge(),n=te(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const Pn=Wp(nj);var rj=Symbol.for("react.lazy"),Mc=Bh[" use ".trim().toString()];function sj(e){return typeof e=="object"&&e!==null&&"then"in e}function D_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===rj&&"_payload"in e&&sj(e._payload)}function F_(e){const t=oj(e),n=f.forwardRef((r,s)=>{let{children:o,...i}=r;D_(o)&&typeof Mc=="function"&&(o=Mc(o._payload));const a=f.Children.toArray(o),l=a.find(aj);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var z_=F_("Slot");function oj(e){const t=f.forwardRef((n,r)=>{let{children:s,...o}=n;if(D_(s)&&typeof Mc=="function"&&(s=Mc(s._payload)),f.isValidElement(s)){const i=cj(s),a=lj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?yu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ij=Symbol("radix.slottable");function aj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ij}function lj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function cj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tn=uj.reduce((e,t)=>{const n=F_(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ur;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(ur||(ur={}));const dj=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>te(({thread:r,message:s})=>e&&r.isRunning?ur.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?ur.Floating:ur.Normal:ur.Hidden:ur.Normal),Kp=f.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=dj({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===ur.Hidden?null:c.jsx(tn.div,{...o===ur.Floating?{"data-floating":"true"}:null,...r,ref:s})});Kp.displayName="ActionBarPrimitive.Root";function J(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const fj=({copiedDuration:e=3e3}={})=>{const t=ge(),n=te(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=te(({composer:i})=>i.isEditing),s=te(({composer:i})=>i.text),o=f.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},B_=f.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=te(({message:a})=>a.isCopied),i=fj({copiedDuration:e});return c.jsx(tn.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:J(t,()=>{i==null||i()})})});B_.displayName="ActionBarPrimitive.Copy";const An=(e,t,n=[])=>{const r=f.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(u=>{n.includes(u)?i[u]=s[u]:a[u]=s[u]});const l=t(i)??void 0;return c.jsx(tn.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:J(a.onClick,l)})});return r.displayName=e,r},hj=()=>{const e=ge(),t=te(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=f.useCallback(()=>{e.message().reload()},[e]);return t?null:n},pj=An("ActionBarPrimitive.Reload",hj),mj=()=>{const e=ge(),t=te(({composer:r})=>r.isEditing),n=f.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},gj=An("ActionBarPrimitive.Edit",mj),yj=()=>{const e=ge(),t=f.useCallback(async()=>{e.message().speak()},[e]);return te(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},vj=An("ActionBarPrimitive.Speak",yj);function qp(e,t=globalThis==null?void 0:globalThis.document){const n=Ge(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const xj=()=>{const e=ge(),t=te(({message:r})=>r.speech!=null),n=f.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},$_=f.forwardRef((e,t)=>{const n=xj();return qp(r=>{n&&(r.preventDefault(),n())}),c.jsx(tn.button,{type:"button",disabled:!n,...e,ref:t,onClick:J(e.onClick,()=>{n==null||n()})})});$_.displayName="ActionBarPrimitive.StopSpeaking";const wj=()=>{const e=ge();return f.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},U_=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=te(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=wj();return c.jsx(tn.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:J(e,()=>{o==null||o()})})});U_.displayName="ActionBarPrimitive.FeedbackPositive";const bj=()=>{const e=ge();return f.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},H_=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=te(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=bj();return c.jsx(tn.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:J(e,()=>{o==null||o()})})});H_.displayName="ActionBarPrimitive.FeedbackNegative";function Sj(e,t){const n=f.createContext(t),r=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Jn(e,t=[]){let n=[];function r(o,i){const a=f.createContext(i),l=n.length;n=[...n,i];const u=h=>{var g;const{scope:p,children:m,...w}=h,y=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=f.useMemo(()=>w,Object.values(w));return c.jsx(y.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,w=f.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,_j(s,...t)]}function _j(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var et=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Cj=Bh[" useInsertionEffect ".trim().toString()]||et;function zs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=kj({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=f.useCallback(d=>{var h;if(a){const p=Ej(d)?d(e):d;p!==e&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,e,o,i]);return[l,u]}function kj({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return Cj(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Ej(e){return typeof e=="function"}function qo(e){const t=Tj(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,a=f.Children.toArray(o),l=a.find(Nj);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var ds=qo("Slot");function Tj(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=Pj(s),a=Ij(o,s.props);return s.type!==f.Fragment&&(a.ref=r?yu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V_=Symbol("radix.slottable");function Rj(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=V_,t}function Nj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V_}function Ij(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Pj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Aj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=Aj.reduce((e,t)=>{const n=qo(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function W_(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}function K_(e){const t=e+"CollectionProvider",[n,r]=Jn(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:g}=y,v=be.useRef(null),x=be.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:v,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=qo(a),u=be.forwardRef((y,b)=>{const{scope:g,children:v}=y,x=o(a,g),C=ye(b,x.collectionRef);return c.jsx(l,{ref:C,children:v})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=qo(d),m=be.forwardRef((y,b)=>{const{scope:g,children:v,...x}=y,C=be.useRef(null),N=ye(b,C),k=o(d,g);return be.useEffect(()=>(k.itemMap.set(C,{ref:C,...x}),()=>void k.itemMap.delete(C))),c.jsx(p,{[h]:"",ref:N,children:v})});m.displayName=d;function w(y){const b=o(e+"CollectionConsumer",y);return be.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((k,T)=>x.indexOf(k.ref.current)-x.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,r]}var q_=f.createContext(void 0),jj=e=>{const{dir:t,children:n}=e;return c.jsx(q_.Provider,{value:t,children:n})};function xu(e){const t=f.useContext(q_);return e||t||"ltr"}var Mj=jj,Oj="DismissableLayer",ah="dismissableLayer.update",Lj="dismissableLayer.pointerDownOutside",Dj="dismissableLayer.focusOutside",zv,G_=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wu=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=f.useContext(G_),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),w=ye(t,T=>h(T)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),v=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,C=v>=g,N=Bj(T=>{const I=T.target,M=[...u.branches].some(A=>A.contains(I));!C||M||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},p),k=$j(T=>{const I=T.target;[...u.branches].some(A=>A.contains(I))||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},p);return qp(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Bv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zv)}},[d,p,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Bv())},[d,u]),f.useEffect(()=>{const T=()=>m({});return document.addEventListener(ah,T),()=>document.removeEventListener(ah,T)},[]),c.jsx(ae.div,{...l,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,k.onFocusCapture),onBlurCapture:J(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,N.onPointerDownCapture)})});wu.displayName=Oj;var Fj="DismissableLayerBranch",zj=f.forwardRef((e,t)=>{const n=f.useContext(G_),r=f.useRef(null),s=ye(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(ae.div,{...e,ref:s})});zj.displayName=Fj;function Bj(e,t=globalThis==null?void 0:globalThis.document){const n=Ge(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Y_(Lj,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $j(e,t=globalThis==null?void 0:globalThis.document){const n=Ge(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&Y_(Dj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bv(){const e=new CustomEvent(ah);document.dispatchEvent(e)}function Y_(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?W_(s,o):s.dispatchEvent(o)}var jd=0;function X_(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$v()),document.body.insertAdjacentElement("beforeend",e[1]??$v()),jd++,()=>{jd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jd--}},[])}function $v(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Md="focusScope.autoFocusOnMount",Od="focusScope.autoFocusOnUnmount",Uv={bubbles:!1,cancelable:!0},Uj="FocusScope",Gp=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=f.useState(null),u=Ge(s),d=Ge(o),h=f.useRef(null),p=ye(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const C=x.target;a.contains(C)?h.current=C:Lr(h.current,{select:!0})},b=function(x){if(m.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||Lr(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Lr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){Vv.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(Md,Uv);a.addEventListener(Md,u),a.dispatchEvent(g),g.defaultPrevented||(Hj(Gj(Q_(a)),{select:!0}),document.activeElement===y&&Lr(a))}return()=>{a.removeEventListener(Md,u),setTimeout(()=>{const g=new CustomEvent(Od,Uv);a.addEventListener(Od,d),a.dispatchEvent(g),g.defaultPrevented||Lr(y??document.body,{select:!0}),a.removeEventListener(Od,d),Vv.remove(m)},0)}}},[a,u,d,m]);const w=f.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const v=y.currentTarget,[x,C]=Vj(v);x&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&Lr(x,{select:!0})):y.shiftKey&&g===x&&(y.preventDefault(),n&&Lr(C,{select:!0})):g===v&&y.preventDefault()}},[n,r,m.paused]);return c.jsx(ae.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});Gp.displayName=Uj;function Hj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Lr(r,{select:t}),document.activeElement!==n)return}function Vj(e){const t=Q_(e),n=Hv(t,e),r=Hv(t.reverse(),e);return[n,r]}function Q_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hv(e,t){for(const n of e)if(!Wj(n,{upTo:t}))return n}function Wj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kj(e){return e instanceof HTMLInputElement&&"select"in e}function Lr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Kj(e)&&t&&e.select()}}var Vv=qj();function qj(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Wv(e,t),e.unshift(t)},remove(t){var n;e=Wv(e,t),(n=e[0])==null||n.resume()}}}function Wv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Gj(e){return e.filter(t=>t.tagName!=="A")}var Yj=Bh[" useId ".trim().toString()]||(()=>{}),Xj=0;function pr(e){const[t,n]=f.useState(Yj());return et(()=>{n(r=>r??String(Xj++))},[e]),e||(t?`radix-${t}`:"")}const Qj=["top","right","bottom","left"],os=Math.min,Kt=Math.max,Oc=Math.round,wl=Math.floor,Gn=e=>({x:e,y:e}),Jj={left:"right",right:"left",bottom:"top",top:"bottom"},Zj={start:"end",end:"start"};function lh(e,t,n){return Kt(e,os(t,n))}function wr(e,t){return typeof e=="function"?e(t):e}function br(e){return e.split("-")[0]}function si(e){return e.split("-")[1]}function Yp(e){return e==="x"?"y":"x"}function Xp(e){return e==="y"?"height":"width"}const e2=new Set(["top","bottom"]);function Wn(e){return e2.has(br(e))?"y":"x"}function Qp(e){return Yp(Wn(e))}function t2(e,t,n){n===void 0&&(n=!1);const r=si(e),s=Qp(e),o=Xp(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Lc(i)),[i,Lc(i)]}function n2(e){const t=Lc(e);return[ch(e),t,ch(t)]}function ch(e){return e.replace(/start|end/g,t=>Zj[t])}const Kv=["left","right"],qv=["right","left"],r2=["top","bottom"],s2=["bottom","top"];function o2(e,t,n){switch(e){case"top":case"bottom":return n?t?qv:Kv:t?Kv:qv;case"left":case"right":return t?r2:s2;default:return[]}}function i2(e,t,n,r){const s=si(e);let o=o2(br(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(ch)))),o}function Lc(e){return e.replace(/left|right|bottom|top/g,t=>Jj[t])}function a2(e){return{top:0,right:0,bottom:0,left:0,...e}}function J_(e){return typeof e!="number"?a2(e):{top:e,right:e,bottom:e,left:e}}function Dc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Gv(e,t,n){let{reference:r,floating:s}=e;const o=Wn(t),i=Qp(t),a=Xp(i),l=br(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(si(t)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}async function l2(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=wr(t,e),w=J_(m),b=a[p?h==="floating"?"reference":"floating":h],g=Dc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},N=Dc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-N.top+w.top)/C.y,bottom:(N.bottom-g.bottom+w.bottom)/C.y,left:(g.left-N.left+w.left)/C.x,right:(N.right-g.right+w.right)/C.x}}const c2=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Gv(u,r,l),p=r,m={},w=0;for(let b=0;b<a.length;b++){var y;const{name:g,fn:v}=a[b],{x,y:C,data:N,reset:k}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(y=i.detectOverflow)!=null?y:l2},elements:{reference:e,floating:t}});d=x??d,h=C??h,m={...m,[g]:{...m[g],...N}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=Gv(u,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}},u2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=wr(e,t)||{};if(u==null)return{};const h=J_(d),p={x:n,y:r},m=Qp(s),w=Xp(m),y=await i.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=o.reference[w]+o.reference[m]-p[m]-o.floating[w],N=p[m]-o.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=k?k[x]:0;(!T||!await(i.isElement==null?void 0:i.isElement(k)))&&(T=a.floating[x]||o.floating[w]);const I=C/2-N/2,M=T/2-y[w]/2-1,A=os(h[g],M),L=os(h[v],M),R=A,U=T-y[w]-L,$=T/2-y[w]/2+I,W=lh(R,$,U),V=!l.arrow&&si(s)!=null&&$!==W&&o.reference[w]/2-($<R?A:L)-y[w]/2<0,X=V?$<R?$-R:$-U:0;return{[m]:p[m]+X,data:{[m]:W,centerOffset:$-W-X,...V&&{alignmentOffset:X}},reset:V}}}),d2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=wr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=br(s),v=Wn(a),x=br(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=p||(x||!y?[Lc(a)]:n2(a)),k=w!=="none";!p&&k&&N.push(...i2(a,y,w,C));const T=[a,...N],I=await l.detectOverflow(t,b),M=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&M.push(I[g]),h){const $=t2(s,i,C);M.push(I[$[0]],I[$[1]])}if(A=[...A,{placement:s,overflows:M}],!M.every($=>$<=0)){var L,R;const $=(((L=o.flip)==null?void 0:L.index)||0)+1,W=T[$];if(W&&(!(h==="alignment"?v!==Wn(W):!1)||A.every(j=>Wn(j.placement)===v?j.overflows[0]>0:!0)))return{data:{index:$,overflows:A},reset:{placement:W}};let V=(R=A.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(m){case"bestFit":{var U;const X=(U=A.filter(j=>{if(k){const B=Wn(j.placement);return B===v||B==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(B=>B>0).reduce((B,_)=>B+_,0)]).sort((j,B)=>j[1]-B[1])[0])==null?void 0:U[0];X&&(V=X);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Yv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xv(e){return Qj.some(t=>e[t]>=0)}const f2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=wr(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=Yv(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Xv(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=Yv(i,n.floating);return{data:{escapedOffsets:a,escaped:Xv(a)}}}default:return{}}}}},Z_=new Set(["left","top"]);async function h2(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=br(n),a=si(n),l=Wn(n)==="y",u=Z_.has(i)?-1:1,d=o&&l?-1:1,h=wr(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const p2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await h2(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},m2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...u}=wr(e,t),d={x:n,y:r},h=await o.detectOverflow(t,u),p=Wn(br(s)),m=Yp(p);let w=d[m],y=d[p];if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=w+h[g],C=w-h[v];w=lh(x,w,C)}if(a){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=y+h[g],C=y-h[v];y=lh(x,y,C)}const b=l.fn({...t,[m]:w,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[p]:a}}}}}},g2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=wr(e,t),d={x:n,y:r},h=Wn(s),p=Yp(h);let m=d[p],w=d[h];const y=wr(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=p==="y"?"height":"width",C=o.reference[p]-o.floating[x]+b.mainAxis,N=o.reference[p]+o.reference[x]-b.mainAxis;m<C?m=C:m>N&&(m=N)}if(u){var g,v;const x=p==="y"?"width":"height",C=Z_.has(br(s)),N=o.reference[h]-o.floating[x]+(C&&((g=i.offset)==null?void 0:g[h])||0)+(C?0:b.crossAxis),k=o.reference[h]+o.reference[x]+(C?0:((v=i.offset)==null?void 0:v[h])||0)-(C?b.crossAxis:0);w<N?w=N:w>k&&(w=k)}return{[p]:m,[h]:w}}}},y2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=wr(e,t),d=await i.detectOverflow(t,u),h=br(s),p=si(s),m=Wn(s)==="y",{width:w,height:y}=o.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,b=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,x=w-d.left-d.right,C=os(y-d[b],v),N=os(w-d[g],x),k=!t.middlewareData.shift;let T=C,I=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),k&&!p){const A=Kt(d.left,0),L=Kt(d.right,0),R=Kt(d.top,0),U=Kt(d.bottom,0);m?I=w-2*(A!==0||L!==0?A+L:Kt(d.left,d.right)):T=y-2*(R!==0||U!==0?R+U:Kt(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:T});const M=await i.getDimensions(a.floating);return w!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function bu(){return typeof window<"u"}function oi(e){return eC(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zn(e){var t;return(t=(eC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eC(e){return bu()?e instanceof Node||e instanceof Qt(e).Node:!1}function Nn(e){return bu()?e instanceof Element||e instanceof Qt(e).Element:!1}function Yn(e){return bu()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function Qv(e){return!bu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}const v2=new Set(["inline","contents"]);function Fa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!v2.has(s)}const x2=new Set(["table","td","th"]);function w2(e){return x2.has(oi(e))}const b2=[":popover-open",":modal"];function Su(e){return b2.some(t=>{try{return e.matches(t)}catch{return!1}})}const S2=["transform","translate","scale","rotate","perspective"],_2=["transform","translate","scale","rotate","perspective","filter"],C2=["paint","layout","strict","content"];function Jp(e){const t=Zp(),n=Nn(e)?In(e):e;return S2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_2.some(r=>(n.willChange||"").includes(r))||C2.some(r=>(n.contain||"").includes(r))}function k2(e){let t=is(e);for(;Yn(t)&&!Go(t);){if(Jp(t))return t;if(Su(t))return null;t=is(t)}return null}function Zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E2=new Set(["html","body","#document"]);function Go(e){return E2.has(oi(e))}function In(e){return Qt(e).getComputedStyle(e)}function _u(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if(oi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qv(e)&&e.host||Zn(e);return Qv(t)?t.host:t}function tC(e){const t=is(e);return Go(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yn(t)&&Fa(t)?t:tC(t)}function _a(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=tC(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Qt(s);if(o){const a=uh(i);return t.concat(i,i.visualViewport||[],Fa(s)?s:[],a&&n?_a(a):[])}return t.concat(s,_a(s,[],n))}function uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nC(e){const t=In(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Yn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Oc(n)!==o||Oc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function em(e){return Nn(e)?e:e.contextElement}function jo(e){const t=em(e);if(!Yn(t))return Gn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=nC(t);let i=(o?Oc(n.width):n.width)/r,a=(o?Oc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const T2=Gn(0);function rC(e){const t=Qt(e);return!Zp()||!t.visualViewport?T2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function R2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qt(e)?!1:t}function Bs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=em(e);let i=Gn(1);t&&(r?Nn(r)&&(i=jo(r)):i=jo(e));const a=R2(o,n,r)?rC(o):Gn(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=Qt(o),m=r&&Nn(r)?Qt(r):r;let w=p,y=uh(w);for(;y&&r&&m!==w;){const b=jo(y),g=y.getBoundingClientRect(),v=In(y),x=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,C=g.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=C,w=Qt(y),y=uh(w)}}return Dc({width:d,height:h,x:l,y:u})}function Cu(e,t){const n=_u(e).scrollLeft;return t?t.left+n:Bs(Zn(e)).left+n}function sC(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Cu(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function N2(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Zn(r),a=t?Su(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Gn(1);const d=Gn(0),h=Yn(r);if((h||!h&&!o)&&((oi(r)!=="body"||Fa(i))&&(l=_u(r)),Yn(r))){const m=Bs(r);u=jo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!h&&!o?sC(i,l):Gn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function I2(e){return Array.from(e.getClientRects())}function P2(e){const t=Zn(e),n=_u(e),r=e.ownerDocument.body,s=Kt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Kt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Cu(e);const a=-n.scrollTop;return In(r).direction==="rtl"&&(i+=Kt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Jv=25;function A2(e,t){const n=Qt(e),r=Zn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=Zp();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Cu(r);if(u<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=Jv&&(o-=w)}else u<=Jv&&(o+=u);return{width:o,height:i,x:a,y:l}}const j2=new Set(["absolute","fixed"]);function M2(e,t){const n=Bs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Yn(e)?jo(e):Gn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function Zv(e,t,n){let r;if(t==="viewport")r=A2(e,n);else if(t==="document")r=P2(Zn(e));else if(Nn(t))r=M2(t,n);else{const s=rC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Dc(r)}function oC(e,t){const n=is(e);return n===t||!Nn(n)||Go(n)?!1:In(n).position==="fixed"||oC(n,t)}function O2(e,t){const n=t.get(e);if(n)return n;let r=_a(e,[],!1).filter(a=>Nn(a)&&oi(a)!=="body"),s=null;const o=In(e).position==="fixed";let i=o?is(e):e;for(;Nn(i)&&!Go(i);){const a=In(i),l=Jp(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&j2.has(s.position)||Fa(i)&&!l&&oC(e,i))?r=r.filter(d=>d!==i):s=a,i=is(i)}return t.set(e,r),r}function L2(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Su(t)?[]:O2(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const h=Zv(t,d,s);return u.top=Kt(h.top,u.top),u.right=os(h.right,u.right),u.bottom=os(h.bottom,u.bottom),u.left=Kt(h.left,u.left),u},Zv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function D2(e){const{width:t,height:n}=nC(e);return{width:t,height:n}}function F2(e,t,n){const r=Yn(t),s=Zn(t),o=n==="fixed",i=Bs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Gn(0);function u(){l.x=Cu(s)}if(r||!r&&!o)if((oi(t)!=="body"||Fa(s))&&(a=_u(t)),r){const m=Bs(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?sC(s,a):Gn(0),h=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function Ld(e){return In(e).position==="static"}function ex(e,t){if(!Yn(e)||In(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zn(e)===n&&(n=n.ownerDocument.body),n}function iC(e,t){const n=Qt(e);if(Su(e))return n;if(!Yn(e)){let s=is(e);for(;s&&!Go(s);){if(Nn(s)&&!Ld(s))return s;s=is(s)}return n}let r=ex(e,t);for(;r&&w2(r)&&Ld(r);)r=ex(r,t);return r&&Go(r)&&Ld(r)&&!Jp(r)?n:r||k2(e)||n}const z2=async function(e){const t=this.getOffsetParent||iC,n=this.getDimensions,r=await n(e.floating);return{reference:F2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B2(e){return In(e).direction==="rtl"}const $2={convertOffsetParentRelativeRectToViewportRelativeRect:N2,getDocumentElement:Zn,getClippingRect:L2,getOffsetParent:iC,getElementRects:z2,getClientRects:I2,getDimensions:D2,getScale:jo,isElement:Nn,isRTL:B2};function aC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function U2(e,t){let n=null,r;const s=Zn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(a||t(),!p||!m)return;const w=wl(h),y=wl(s.clientWidth-(d+p)),b=wl(s.clientHeight-(h+m)),g=wl(d),x={rootMargin:-w+"px "+-y+"px "+-b+"px "+-g+"px",threshold:Kt(0,os(1,l))||1};let C=!0;function N(k){const T=k[0].intersectionRatio;if(T!==l){if(!C)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!aC(u,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(N,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,x)}n.observe(e)}return i(!0),o}function H2(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=em(e),d=s||o?[...u?_a(u):[],..._a(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&a?U2(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let w,y=l?Bs(e):null;l&&b();function b(){const g=Bs(e);y&&!aC(y,g)&&n(),y=g,w=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const V2=p2,W2=m2,K2=d2,q2=y2,G2=f2,tx=u2,Y2=g2,X2=(e,t,n)=>{const r=new Map,s={platform:$2,...n},o={...s.platform,_c:r};return c2(e,t,{...s,platform:o})};var Q2=typeof document<"u",J2=function(){},Kl=Q2?f.useLayoutEffect:J2;function Fc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Fc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Fc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function lC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nx(e,t){const n=lC(e);return Math.round(t*n)/n}function Dd(e){const t=f.useRef(e);return Kl(()=>{t.current=e}),t}function Z2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);Fc(p,r)||m(r);const[w,y]=f.useState(null),[b,g]=f.useState(null),v=f.useCallback(j=>{j!==k.current&&(k.current=j,y(j))},[]),x=f.useCallback(j=>{j!==T.current&&(T.current=j,g(j))},[]),C=o||w,N=i||b,k=f.useRef(null),T=f.useRef(null),I=f.useRef(d),M=l!=null,A=Dd(l),L=Dd(s),R=Dd(u),U=f.useCallback(()=>{if(!k.current||!T.current)return;const j={placement:t,strategy:n,middleware:p};L.current&&(j.platform=L.current),X2(k.current,T.current,j).then(B=>{const _={...B,isPositioned:R.current!==!1};$.current&&!Fc(I.current,_)&&(I.current=_,ni.flushSync(()=>{h(_)}))})},[p,t,n,L,R]);Kl(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const $=f.useRef(!1);Kl(()=>($.current=!0,()=>{$.current=!1}),[]),Kl(()=>{if(C&&(k.current=C),N&&(T.current=N),C&&N){if(A.current)return A.current(C,N,U);U()}},[C,N,U,A,M]);const W=f.useMemo(()=>({reference:k,floating:T,setReference:v,setFloating:x}),[v,x]),V=f.useMemo(()=>({reference:C,floating:N}),[C,N]),X=f.useMemo(()=>{const j={position:n,left:0,top:0};if(!V.floating)return j;const B=nx(V.floating,d.x),_=nx(V.floating,d.y);return a?{...j,transform:"translate("+B+"px, "+_+"px)",...lC(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:_}},[n,a,V.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:U,refs:W,elements:V,floatingStyles:X}),[d,U,W,V,X])}const eM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?tx({element:r.current,padding:s}).fn(n):{}:r?tx({element:r,padding:s}).fn(n):{}}}},tM=(e,t)=>({...V2(e),options:[e,t]}),nM=(e,t)=>({...W2(e),options:[e,t]}),rM=(e,t)=>({...Y2(e),options:[e,t]}),sM=(e,t)=>({...K2(e),options:[e,t]}),oM=(e,t)=>({...q2(e),options:[e,t]}),iM=(e,t)=>({...G2(e),options:[e,t]}),aM=(e,t)=>({...eM(e),options:[e,t]});var lM="Arrow",cC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(ae.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});cC.displayName=lM;var cM=cC;function uC(e){const[t,n]=f.useState(void 0);return et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var tm="Popper",[dC,ku]=Jn(tm),[uM,fC]=dC(tm),hC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return c.jsx(uM,{scope:t,anchor:r,onAnchorChange:s,children:n})};hC.displayName=tm;var pC="PopperAnchor",mC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=fC(pC,n),i=f.useRef(null),a=ye(t,i),l=f.useRef(null);return f.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(ae.div,{...s,ref:a})});mC.displayName=pC;var nm="PopperContent",[dM,fM]=dC(nm),gC=f.forwardRef((e,t)=>{var Q,pe,Me,xe,me,ke;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,b=fC(nm,n),[g,v]=f.useState(null),x=ye(t,ot=>v(ot)),[C,N]=f.useState(null),k=uC(C),T=(k==null?void 0:k.width)??0,I=(k==null?void 0:k.height)??0,M=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],R=L.length>0,U={padding:A,boundary:L.filter(pM),altBoundary:R},{refs:$,floatingStyles:W,placement:V,isPositioned:X,middlewareData:j}=Z2({strategy:"fixed",placement:M,whileElementsMounted:(...ot)=>H2(...ot,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[tM({mainAxis:s+I,alignmentAxis:i}),l&&nM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rM():void 0,...U}),l&&sM({...U}),oM({...U,apply:({elements:ot,rects:It,availableWidth:zt,availableHeight:pn})=>{const{width:Mn,height:gs}=It.reference,On=ot.floating.style;On.setProperty("--radix-popper-available-width",`${zt}px`),On.setProperty("--radix-popper-available-height",`${pn}px`),On.setProperty("--radix-popper-anchor-width",`${Mn}px`),On.setProperty("--radix-popper-anchor-height",`${gs}px`)}}),C&&aM({element:C,padding:a}),mM({arrowWidth:T,arrowHeight:I}),p&&iM({strategy:"referenceHidden",...U})]}),[B,_]=xC(V),ne=Ge(w);et(()=>{X&&(ne==null||ne())},[X,ne]);const he=(Q=j.arrow)==null?void 0:Q.x,E=(pe=j.arrow)==null?void 0:pe.y,Ne=((Me=j.arrow)==null?void 0:Me.centerOffset)!==0,[Ye,ve]=f.useState();return et(()=>{g&&ve(window.getComputedStyle(g).zIndex)},[g]),c.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:X?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ye,"--radix-popper-transform-origin":[(xe=j.transformOrigin)==null?void 0:xe.x,(me=j.transformOrigin)==null?void 0:me.y].join(" "),...((ke=j.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(dM,{scope:n,placedSide:B,onArrowChange:N,arrowX:he,arrowY:E,shouldHideArrow:Ne,children:c.jsx(ae.div,{"data-side":B,"data-align":_,...y,ref:x,style:{...y.style,animation:X?void 0:"none"}})})})});gC.displayName=nm;var yC="PopperArrow",hM={top:"bottom",right:"left",bottom:"top",left:"right"},vC=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=fM(yC,r),i=hM[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(cM,{...s,ref:n,style:{...s.style,display:"block"}})})});vC.displayName=yC;function pM(e){return e!==null}var mM=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=xC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=i?h:`${p}px`,y=`${-l}px`):u==="top"?(w=i?h:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=i?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,y=i?h:`${m}px`),{data:{x:w,y}}}});function xC(e){const[t,n="center"]=e.split("-");return[t,n]}var wC=hC,bC=mC,SC=gC,_C=vC,gM="Portal",rm=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=f.useState(!1);et(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?HN.createPortal(c.jsx(ae.div,{...r,ref:t}),i):null});rm.displayName=gM;function yM(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var er=e=>{const{present:t,children:n}=e,r=vM(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=ye(r.ref,xM(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};er.displayName="Presence";function vM(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=yM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=bl(r.current);o.current=a==="mounted"?u:"none"},[a]),et(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,m=bl(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=bl(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=bl(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function bl(e){return(e==null?void 0:e.animationName)||"none"}function xM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fd="rovingFocusGroup.onEntryFocus",wM={bubbles:!1,cancelable:!0},za="RovingFocusGroup",[dh,CC,bM]=K_(za),[SM,kC]=Jn(za,[bM]),[_M,CM]=SM(za),EC=f.forwardRef((e,t)=>c.jsx(dh.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(dh.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(kM,{...e,ref:t})})}));EC.displayName=za;var kM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),m=ye(t,p),w=xu(o),[y,b]=zs({prop:i,defaultProp:a??null,onChange:l,caller:za}),[g,v]=f.useState(!1),x=Ge(u),C=CC(n),N=f.useRef(!1),[k,T]=f.useState(0);return f.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Fd,x),()=>I.removeEventListener(Fd,x)},[x]),c.jsx(_M,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:f.useCallback(I=>b(I),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:f.useCallback(()=>T(I=>I-1),[]),children:c.jsx(ae.div,{tabIndex:g||k===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{N.current=!0}),onFocus:J(e.onFocus,I=>{const M=!N.current;if(I.target===I.currentTarget&&M&&!g){const A=new CustomEvent(Fd,wM);if(I.currentTarget.dispatchEvent(A),!A.defaultPrevented){const L=C().filter(V=>V.focusable),R=L.find(V=>V.active),U=L.find(V=>V.id===y),W=[R,U,...L].filter(Boolean).map(V=>V.ref.current);NC(W,d)}}N.current=!1}),onBlur:J(e.onBlur,()=>v(!1))})})}),TC="RovingFocusGroupItem",RC=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=pr(),u=o||l,d=CM(TC,n),h=d.currentTabStopId===u,p=CC(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),c.jsx(dh.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(ae.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:J(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:J(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=RM(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=p().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const C=x.indexOf(b.currentTarget);x=d.loop?NM(x,C+1):x.slice(C+1)}setTimeout(()=>NC(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});RC.displayName=TC;var EM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RM(e,t,n){const r=TM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EM[r]}function NC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function NM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IM=EC,PM=RC,AM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},so=new WeakMap,Sl=new WeakMap,_l={},zd=0,IC=function(e){return e&&(e.host||IC(e.parentNode))},jM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=IC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MM=function(e,t,n,r){var s=jM(t,Array.isArray(e)?e:[e]);_l[n]||(_l[n]=new WeakMap);var o=_l[n],i=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",y=(so.get(p)||0)+1,b=(o.get(p)||0)+1;so.set(p,y),o.set(p,b),i.push(p),y===1&&w&&Sl.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),a.clear(),zd++,function(){i.forEach(function(h){var p=so.get(h)-1,m=o.get(h)-1;so.set(h,p),o.set(h,m),p||(Sl.has(h)||h.removeAttribute(r),Sl.delete(h)),m||h.removeAttribute(n)}),zd--,zd||(so=new WeakMap,so=new WeakMap,Sl=new WeakMap,_l={})}},PC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=AM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),MM(r,s,n,"aria-hidden")):function(){return null}},Un=function(){return Un=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Un.apply(this,arguments)};function AC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function OM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ql="right-scroll-bar-position",Gl="width-before-scroll-bar",LM="with-scroll-bars-hidden",DM="--removed-body-scroll-bar-size";function Bd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FM(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var zM=typeof window<"u"?f.useLayoutEffect:f.useEffect,rx=new WeakMap;function BM(e,t){var n=FM(null,function(r){return e.forEach(function(s){return Bd(s,r)})});return zM(function(){var r=rx.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Bd(a,null)}),o.forEach(function(a){s.has(a)||Bd(a,i)})}rx.set(n,e)},[e]),n}function $M(e){return e}function UM(e,t){t===void 0&&(t=$M);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function HM(e){e===void 0&&(e={});var t=UM(null);return t.options=Un({async:!0,ssr:!1},e),t}var jC=function(e){var t=e.sideCar,n=AC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Un({},n))};jC.isSideCarExport=!0;function VM(e,t){return e.useMedium(t),jC}var MC=HM(),$d=function(){},Eu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:$d,onWheelCapture:$d,onTouchMoveCapture:$d}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,x=e.gapMode,C=AC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,k=BM([n,t]),T=Un(Un({},C),s);return f.createElement(f.Fragment,null,d&&f.createElement(N,{sideCar:MC,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:x}),i?f.cloneElement(f.Children.only(a),Un(Un({},T),{ref:k})):f.createElement(v,Un({},T,{className:l,ref:k}),a))});Eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eu.classNames={fullWidth:Gl,zeroRight:ql};var WM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=WM();return t&&e.setAttribute("nonce",t),e}function qM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=KM())&&(qM(t,n),GM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XM=function(){var e=YM();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},OC=function(){var e=XM(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},QM={left:0,top:0,right:0,gap:0},Ud=function(e){return parseInt(e||"",10)||0},JM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ud(n),Ud(r),Ud(s)]},ZM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QM;var t=JM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},eO=OC(),Mo="data-scroll-locked",tO=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(LM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ql,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mo,`] {
    `).concat(DM,": ").concat(a,`px;
  }
`)},sx=function(){var e=parseInt(document.body.getAttribute(Mo)||"0",10);return isFinite(e)?e:0},nO=function(){f.useEffect(function(){return document.body.setAttribute(Mo,(sx()+1).toString()),function(){var e=sx()-1;e<=0?document.body.removeAttribute(Mo):document.body.setAttribute(Mo,e.toString())}},[])},rO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;nO();var o=f.useMemo(function(){return ZM(s)},[s]);return f.createElement(eO,{styles:tO(o,!t,s,n?"":"!important")})},fh=!1;if(typeof window<"u")try{var Cl=Object.defineProperty({},"passive",{get:function(){return fh=!0,!0}});window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{fh=!1}var oo=fh?{passive:!1}:!1,sO=function(e){return e.tagName==="TEXTAREA"},LC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!sO(e)&&n[t]==="visible")},oO=function(e){return LC(e,"overflowY")},iO=function(e){return LC(e,"overflowX")},ox=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=DC(e,r);if(s){var o=FC(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},lO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},DC=function(e,t){return e==="v"?oO(t):iO(t)},FC=function(e,t){return e==="v"?aO(t):lO(t)},cO=function(e,t){return e==="h"&&t==="rtl"?-1:1},uO=function(e,t,n,r,s){var o=cO(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,h=0,p=0;do{if(!a)break;var m=FC(e,a),w=m[0],y=m[1],b=m[2],g=y-b-o*w;(w||g)&&DC(e,a)&&(h+=g,p+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},kl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ix=function(e){return[e.deltaX,e.deltaY]},ax=function(e){return e&&"current"in e?e.current:e},dO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hO=0,io=[];function pO(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(hO++)[0],o=f.useState(OC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=OM([e.lockRef.current],(e.shards||[]).map(ax),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=kl(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-g[0],C="deltaY"in y?y.deltaY:v[1]-g[1],N,k=y.target,T=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in y&&T==="h"&&k.type==="range")return!1;var I=window.getSelection(),M=I&&I.anchorNode,A=M?M===k||M.contains(k):!1;if(A)return!1;var L=ox(T,k);if(!L)return!0;if(L?N=T:(N=T==="v"?"h":"v",L=ox(T,k)),!L)return!1;if(!r.current&&"changedTouches"in y&&(x||C)&&(r.current=N),!N)return!0;var R=r.current||N;return uO(R,b,y,R==="h"?x:C)},[]),l=f.useCallback(function(y){var b=y;if(!(!io.length||io[io.length-1]!==o)){var g="deltaY"in b?ix(b):kl(b),v=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&dO(N.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(ax).filter(Boolean).filter(function(N){return N.contains(b.target)}),C=x.length>0?a(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(y,b,g,v){var x={name:y,delta:b,target:g,should:v,shadowParent:mO(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(y){n.current=kl(y),r.current=void 0},[]),h=f.useCallback(function(y){u(y.type,ix(y),y.target,a(y,e.lockRef.current))},[]),p=f.useCallback(function(y){u(y.type,kl(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return io.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,oo),document.addEventListener("touchmove",l,oo),document.addEventListener("touchstart",d,oo),function(){io=io.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,oo),document.removeEventListener("touchmove",l,oo),document.removeEventListener("touchstart",d,oo)}},[]);var m=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:fO(s)}):null,m?f.createElement(rO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function mO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gO=VM(MC,pO);var sm=f.forwardRef(function(e,t){return f.createElement(Eu,Un({},e,{ref:t,sideCar:gO}))});sm.classNames=Eu.classNames;const zC=f.forwardRef((e,t)=>c.jsx(tn.div,{...e,ref:t}));zC.displayName="AttachmentPrimitive.Root";const hh=()=>{const e=te(({attachment:t})=>t.name);return c.jsx(c.Fragment,{children:e})};hh.displayName="AttachmentPrimitive.Name";const yO=()=>{const e=ge();return f.useCallback(()=>{e.attachment().remove()},[e])},vO=An("AttachmentPrimitive.Remove",yO),xO=()=>{const e=ge(),t=te(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},wO=An("BranchPickerPrimitive.Next",xO),bO=()=>{const e=ge(),t=te(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},SO=An("BranchPickerPrimitive.Previous",bO),_O=()=>te(({message:t})=>t.branchCount),BC=()=>{const e=_O();return c.jsx(c.Fragment,{children:e})};BC.displayName="BranchPickerPrimitive.Count";const CO=()=>te(({message:t})=>t.branchNumber),$C=()=>{const e=CO();return c.jsx(c.Fragment,{children:e})};$C.displayName="BranchPickerPrimitive.Number";const Ba=e=>{const t=f.useRef(void 0);return f.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},UC=(e,t)=>{const n=f.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return Ba(n)},lx=f.createContext(!1),cx=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},HC=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=te(({thread:l,message:u})=>{var d;return u.isLast&&u.role==="assistant"&&u.index>=1&&((d=l.messages.at(u.index-1))==null?void 0:d.role)==="user"}),s=vu({optional:!0}),o=f.useContext(lx),i=f.useCallback(l=>{if(!s||o)return;const u=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:h,inset:p,userMessage:m}=d.height,w=cx(t,l),y=cx(n,l),b=m<=w?m:y,g=Math.max(0,h-p-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),s.subscribe(u)},[s,r,o,t,n]),a=Ba(i);return c.jsx(lx.Provider,{value:!0,children:c.jsx(z_,{ref:a,children:e})})};HC.displayName="ThreadPrimitive.ViewportSlack";const kO=()=>{const e=ge(),t=te(()=>e.message()),n=f.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return Ba(n)},EO=()=>{const e=Sa(s=>s.turnAnchor),t=Sa(s=>s.registerUserMessageHeight),n=te(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=f.useCallback(s=>s.offsetHeight,[]);return UC(n?t:null,r)},om=f.forwardRef((e,t)=>{const n=kO(),r=EO(),s=ye(t,n,r);return c.jsx(HC,{children:c.jsx(tn.div,{...e,ref:s})})});om.displayName="MessagePrimitive.Root";const TO=Object.freeze({type:"complete"}),RO=Ae(({parts:e,getMessagePart:t})=>{const[n,r]=Tn(!0),s=_e(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??TO},[e]),o=_e(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),NO=({startIndex:e,endIndex:t,children:n})=>{const r=te(({message:i})=>i.parts).slice(e,t+1),s=ge(),o=ge({chainOfThought:RO({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return c.jsx(us,{value:o,children:n})},VC=()=>te(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),im=f.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=E_(VC(),e);return c.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});im.displayName="MessagePartPrimitive.Text";const IO=()=>te(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),WC=f.forwardRef((e,t)=>{const{image:n}=IO();return c.jsx(tn.img,{src:n,...e,ref:t})});WC.displayName="MessagePartPrimitive.Image";const KC=({children:e})=>te(({part:n})=>n.status.type==="running")?e:null;KC.displayName="MessagePartPrimitive.InProgress";const ux=e=>Symbol.iterator in e,dx=e=>"entries"in e,fx=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},PO=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function AO(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:ux(e)&&ux(t)?dx(e)&&dx(t)?fx(e,t):PO(e,t):fx({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function qC(e){const t=be.useRef(void 0);return n=>{const r=e(n);return AO(t.current,r)?t.current:t.current=r}}const Hd=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},jO=(e,t)=>{const n=[];if(t){const r=Hd("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=Hd("toolGroup"),s=Hd("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},MO=e=>{const t=te(qC(n=>n.message.parts.map(r=>r.type)));return f.useMemo(()=>t.length===0?[]:jO(t,e),[t,e])},OO=({Fallback:e,...t})=>{const n=te(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?c.jsx(n,{...t}):null},cr={Text:()=>c.jsxs("p",{style:{whiteSpace:"pre-line"},children:[c.jsx(im,{}),c.jsx(KC,{children:c.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>c.jsx(WC,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},LO=({components:{Text:e=cr.Text,Reasoning:t=cr.Reasoning,Image:n=cr.Image,Source:r=cr.Source,File:s=cr.File,Unstable_Audio:o=cr.Unstable_Audio,tools:i={}}={}})=>{var d,h;const a=ge(),l=te(({part:p})=>p),u=l.type;if(u==="tool-call"){const p=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return c.jsx(i.Override,{...l,addResult:p,resume:m});const w=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return c.jsx(OO,{...l,Fallback:w,addResult:p,resume:m})}if(((h=l.status)==null?void 0:h.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return c.jsx(e,{...l});case"reasoning":return c.jsx(t,{...l});case"source":return c.jsx(r,{...l});case"image":return c.jsx(n,{...l});case"file":return c.jsx(s,{...l});case"audio":return c.jsx(o,{...l});case"data":return null;default:const p=u;throw new Error(`Unknown message part type: ${p}`)}},Yl=f.memo(({index:e,components:t})=>c.jsx(FA,{index:e,children:c.jsx(LO,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u,d,h,p,m,w,y,b,g,v,x;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((d=e.components)==null?void 0:d.File)===((h=t.components)==null?void 0:h.File)&&((p=e.components)==null?void 0:p.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((w=e.components)==null?void 0:w.tools)===((y=t.components)==null?void 0:y.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((v=e.components)==null?void 0:v.ReasoningGroup)===((x=t.components)==null?void 0:x.ReasoningGroup)});Yl.displayName="MessagePrimitive.PartByIndex";const DO=({status:e,component:t})=>c.jsx(UA,{text:"",isRunning:e.type==="running",children:c.jsx(t,{type:"text",text:"",status:e})}),FO=Object.freeze({type:"complete"}),zO=({components:e})=>{const t=te(n=>n.message.status??FO);return e!=null&&e.Empty?c.jsx(e.Empty,{status:t}):c.jsx(DO,{status:t,component:(e==null?void 0:e.Text)??cr.Text})},GC=f.memo(zO,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),BO=({components:e,enabled:t})=>te(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?c.jsx(GC,{components:e}):null,$O=f.memo(BO,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),am=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=te(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=MO(r),o=f.useMemo(()=>n===0?c.jsx(GC,{components:e}):s.map(i=>{if(i.type==="single")return c.jsx(Yl,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?c.jsx(NO,{startIndex:i.startIndex,endIndex:i.endIndex,children:c.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??cr.ToolGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(Yl,{index:i.startIndex+u,components:e},u))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??cr.ReasoningGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(Yl,{index:i.startIndex+u,components:e},u))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return c.jsxs(c.Fragment,{children:[o,c.jsx($O,{components:e,enabled:t})]})};am.displayName="MessagePrimitive.Parts";const UO=e=>te(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:u}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!u&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),Sr=({children:e,...t})=>UO(t)?e:null;Sr.displayName="MessagePrimitive.If";const HO=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},VO=({components:e})=>{const t=te(({attachment:r})=>r);if(!t)return null;const n=HO(e,t);return n?c.jsx(n,{}):null},YC=f.memo(({index:e,components:t})=>c.jsx(zA,{index:e,children:c.jsx(VO,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});YC.displayName="MessagePrimitive.AttachmentByIndex";const XC=({components:e})=>{const t=te(({message:r})=>r.role!=="user"?0:r.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(YC,{index:s,components:e},s)),[t,e])};XC.displayName="MessagePrimitive.Attachments";const QC=f.forwardRef(({hideWhenSingleBranch:e,...t},n)=>c.jsx(Sr,{hasBranches:e?!0:void 0,children:c.jsx(tn.div,{...t,ref:n})}));QC.displayName="BranchPickerPrimitive.Root";const JC=()=>{const e=ge(),t=te(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=f.useCallback(()=>{e.composer().send()},[e]);return t?null:n},ZC=An("ComposerPrimitive.Send",JC),lm=f.forwardRef(({onSubmit:e,...t},n)=>{const r=JC(),s=o=>{o.preventDefault(),r&&r()};return c.jsx(tn.form,{...t,ref:n,onSubmit:J(e,s)})});lm.displayName="ComposerPrimitive.Root";function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(null,arguments)}function WO(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KO=f.useLayoutEffect,qO=function(t){var n=be.useRef(t);return KO(function(){n.current=t}),n},hx=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},GO=function(t,n){var r=be.useRef();return be.useCallback(function(s){t.current=s,r.current&&hx(r.current,null),r.current=n,n&&hx(n,s)},[n])},px={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},YO=function(t){Object.keys(px).forEach(function(n){t.style.setProperty(n,px[n],"important")})},mx=YO,Ct=null,gx=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function XO(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ct||(Ct=document.createElement("textarea"),Ct.setAttribute("tabindex","-1"),Ct.setAttribute("aria-hidden","true"),mx(Ct)),Ct.parentNode===null&&document.body.appendChild(Ct);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(p){var m=p;Ct.style[m]=i[m]}),mx(Ct),Ct.value=t;var l=gx(Ct,e);Ct.value=t,l=gx(Ct,e),Ct.value="x";var u=Ct.scrollHeight-s,d=u*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var h=u*r;return a==="border-box"&&(h=h+s+o),l=Math.min(h,l),[l,u]}var yx=function(){},QO=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},JO=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ZO=!!document.documentElement.currentStyle,eL=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=QO(JO,n),s=r.boxSizing;if(s==="")return null;ZO&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},tL=eL;function cm(e,t,n){var r=qO(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var nL=function(t,n){cm(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},rL=function(t){cm(window,"resize",t)},sL=function(t){cm(document.fonts,"loadingdone",t)},oL=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],iL=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?yx:i,l=t.onHeightChange,u=l===void 0?yx:l,d=WO(t,oL),h=d.value!==void 0,p=f.useRef(null),m=GO(p,n),w=f.useRef(0),y=f.useRef(),b=function(){var x=p.current,C=r&&y.current?y.current:tL(x);if(C){y.current=C;var N=XO(C,x.value||x.placeholder||"x",o,s),k=N[0],T=N[1];w.current!==k&&(w.current=k,x.style.setProperty("height",k+"px","important"),u(k,{rowHeight:T}))}},g=function(x){h||b(),a(x)};return f.useLayoutEffect(b),nL(p,function(){if(!h){var v=p.current.value;requestAnimationFrame(function(){var x=p.current;x&&v!==x.value&&b()})}}),rL(b),sL(b),f.createElement("textarea",ph({},d,{onChange:g,ref:m}))},aL=f.forwardRef(iL);const e0=e=>{const t=Ge(e),n=Sa(r=>r.onScrollToBottom);f.useEffect(()=>n(t),[n,t])},um=f.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:u=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:h=!0,...p},m)=>{const w=ge(),y=te(({composer:I})=>I.isEditing?I.text:""),b=t?z_:aL,g=te(({thread:I,composer:M})=>{var A;return I.isDisabled||((A=M.dictation)==null?void 0:A.inputDisabled)})||n,v=f.useRef(null),x=ye(m,v);qp(I=>{var A;if(!a||!((A=v.current)!=null&&A.contains(I.target)))return;const M=w.composer();M.getState().canCancel&&(M.cancel(),I.preventDefault())});const C=I=>{var M,A;g||!i||I.nativeEvent.isComposing||I.key==="Enter"&&I.shiftKey===!1&&(w.thread().getState().isRunning||(I.preventDefault(),(A=(M=v.current)==null?void 0:M.closest("form"))==null||A.requestSubmit()))},N=async I=>{var L;if(!h)return;const M=w.thread().getState().capabilities,A=Array.from(((L=I.clipboardData)==null?void 0:L.files)||[]);if(M.attachments&&A.length>0)try{I.preventDefault(),await Promise.all(A.map(R=>w.composer().addAttachment(R)))}catch(R){console.error("Error adding attachment:",R)}},k=e&&!g,T=f.useCallback(()=>{const I=v.current;!I||!k||(I.focus({preventScroll:!0}),I.setSelectionRange(I.value.length,I.value.length))},[k]);return f.useEffect(()=>T(),[T]),e0(()=>{w.composer().getState().type==="thread"&&u&&T()}),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!l))return w.on("thread.runStart",T)},[l,T,w]),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!d))return w.on("threadListItem.switchedTo",T)},[d,T,w]),c.jsx(b,{name:"input",value:y,...p,ref:x,disabled:g,onChange:J(r,I=>{w.composer().getState().isEditing&&BS(()=>{w.composer().setText(I.target.value)})}),onKeyDown:J(s,C),onPaste:J(o,N)})});um.displayName="ComposerPrimitive.Input";const lL=()=>{const e=ge(),t=te(({composer:r})=>!r.canCancel),n=f.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},t0=An("ComposerPrimitive.Cancel",lL),cL=({multiple:e=!0}={})=>{const t=te(({composer:s})=>!s.isEditing),n=ge(),r=f.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},uL=An("ComposerPrimitive.AddAttachment",cL,["multiple"]),dL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},fL=({components:e})=>{const t=te(({attachment:r})=>r);if(!t)return null;const n=dL(e,t);return n?c.jsx(n,{}):null},n0=f.memo(({index:e,components:t})=>c.jsx(BA,{index:e,children:c.jsx(fL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});n0.displayName="ComposerPrimitive.AttachmentByIndex";const r0=({components:e})=>{const t=te(r=>r.composer.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(n0,{index:s,components:e},s)),[t,e])};r0.displayName="ComposerPrimitive.Attachments";const s0=f.forwardRef((e,t)=>c.jsx(tn.div,{...e,ref:t}));s0.displayName="ThreadPrimitive.Root";const o0=({children:e})=>te(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;o0.displayName="ThreadPrimitive.Empty";const hL=e=>te(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),Ca=({children:e,...t})=>hL(t)?e:null;Ca.displayName="ThreadPrimitive.If";const pL=e=>{const t=Ge(e),n=f.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return Ba(n)},mL=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=f.useRef(null),o=vu();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=f.useRef(0),a=f.useRef(null),l=f.useCallback(m=>{const w=s.current;w&&(a.current=m,w.scrollTo({top:w.scrollHeight,behavior:m}))},[]),u=()=>{const m=s.current;if(!m)return;const w=o.getState().isAtBottom,y=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!y&&i.current<m.scrollTop||(y&&(a.current=null),(y||a.current===null)&&y!==w&&ba(o).setState({isAtBottom:y})),i.current=m.scrollTop},d=pL(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),u()}),h=Ba(m=>(m.addEventListener("scroll",u),()=>{m.removeEventListener("scroll",u)}));return e0(({behavior:m})=>{l(m)}),Ed("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),Ed("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),Ed("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),ye(d,h,s)},gL=()=>{const e=Sa(n=>n.registerViewport),t=f.useCallback(n=>n.clientHeight,[]);return UC(e,t)},i0=f.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=mL({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=gL(),u=ye(i,a,l);return c.jsx(tn.div,{...o,ref:u,children:s})});i0.displayName="ThreadPrimitive.ViewportScrollable";const a0=f.forwardRef(({turnAnchor:e,...t},n)=>c.jsx(M_,{options:{turnAnchor:e},children:c.jsx(i0,{...t,ref:n})}));a0.displayName="ThreadPrimitive.Viewport";const l0=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,yL=()=>null,vL=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??yL;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},xL=({components:e})=>{const t=te(({message:s})=>s.role),n=te(({message:s})=>s.composer.isEditing),r=vL(e,t,n);return c.jsx(r,{})},c0=f.memo(({index:e,components:t})=>c.jsx(DA,{index:e,children:c.jsx(xL,{components:t})}),(e,t)=>e.index===t.index&&l0(e.components,t.components));c0.displayName="ThreadPrimitive.MessageByIndex";const u0=({components:e})=>{const t=te(({thread:r})=>r.messages.length);return f.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>c.jsx(c0,{index:s,components:e},s)),[t,e])};u0.displayName="ThreadPrimitive.Messages";const wL=f.memo(u0,(e,t)=>l0(e.components,t.components)),bL=({behavior:e}={})=>{const t=Sa(s=>s.isAtBottom),n=vu(),r=f.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},SL=An("ThreadPrimitive.ScrollToBottom",bL,["behavior"]),_L=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=ge(),i=te(({thread:u})=>u.isDisabled),a=t??r??!1,l=f.useCallback(()=>{const u=o.thread().getState().isRunning;if(a&&!u)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},d0=An("ThreadPrimitive.Suggestion",_L,["prompt","send","clearComposer","autoSend","method"]);var f0=f.createContext({}),Te=()=>f.useContext(f0),h0=({children:e,config:t})=>{const n=!!ZA(),r=t&&Object.keys(t).length>0,s=Te();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?c.jsx(f0.Provider,{value:t,children:e}):c.jsx(c.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return c.jsx(O_,{runtime:t.runtime,children:o})};h0.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...kL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:p0("lucide",s),...a},[...i.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const n=f.forwardRef(({className:r,...s},o)=>f.createElement(EL,{ref:o,iconNode:t,className:p0(`lucide-${CL(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],RL=Nt("ArrowDown",TL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],IL=Nt("AudioLines",NL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],m0=Nt("Check",PL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jL=Nt("ChevronLeft",AL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OL=Nt("ChevronRight",ML);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],DL=Nt("CircleStop",LL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zL=Nt("CircleX",FL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],g0=Nt("Copy",BL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],UL=Nt("File",$L);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],VL=Nt("Paperclip",HL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],KL=Nt("Pencil",WL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],GL=Nt("RefreshCw",qL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],XL=Nt("SendHorizontal",YL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],JL=Nt("ThumbsDown",QL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],eD=Nt("ThumbsUp",ZL);var y0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tD="VisuallyHidden",v0=f.forwardRef((e,t)=>c.jsx(ae.span,{...e,ref:t,style:{...y0,...e.style}}));v0.displayName=tD;var x0=v0,[Tu]=Jn("Tooltip",[ku]),Ru=ku(),w0="TooltipProvider",nD=700,mh="tooltip.open",[rD,dm]=Tu(w0),b0=e=>{const{__scopeTooltip:t,delayDuration:n=nD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(rD,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};b0.displayName=w0;var ka="Tooltip",[sD,Nu]=Tu(ka),S0=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=dm(ka,e.__scopeTooltip),u=Ru(t),[d,h]=f.useState(null),p=pr(),m=f.useRef(0),w=i??l.disableHoverableContent,y=a??l.delayDuration,b=f.useRef(!1),[g,v]=zs({prop:r,defaultProp:s??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(mh))):l.onClose(),o==null||o(T)},caller:ka}),x=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),N=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),k=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},y)},[y,v]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(wC,{...u,children:c.jsx(sD,{scope:t,contentId:p,open:g,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?k():C()},[l.isOpenDelayedRef,k,C]),onTriggerLeave:f.useCallback(()=>{w?N():(window.clearTimeout(m.current),m.current=0)},[N,w]),onOpen:C,onClose:N,disableHoverableContent:w,children:n})})};S0.displayName=ka;var gh="TooltipTrigger",_0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Nu(gh,n),o=dm(gh,n),i=Ru(n),a=f.useRef(null),l=ye(t,a,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(bC,{asChild:!0,...i,children:c.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(e.onBlur,s.onClose),onClick:J(e.onClick,s.onClose)})})});_0.displayName=gh;var oD="TooltipPortal",[d8,iD]=Tu(oD,{forceMount:void 0}),Yo="TooltipContent",C0=f.forwardRef((e,t)=>{const n=iD(Yo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Nu(Yo,e.__scopeTooltip);return c.jsx(er,{present:r||i.open,children:i.disableHoverableContent?c.jsx(k0,{side:s,...o,ref:t}):c.jsx(aD,{side:s,...o,ref:t})})}),aD=f.forwardRef((e,t)=>{const n=Nu(Yo,e.__scopeTooltip),r=dm(Yo,e.__scopeTooltip),s=f.useRef(null),o=ye(t,s),[i,a]=f.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{a(null),h(!1)},[h]),m=f.useCallback((w,y)=>{const b=w.currentTarget,g={x:w.clientX,y:w.clientY},v=fD(g,b.getBoundingClientRect()),x=hD(g,v),C=pD(y.getBoundingClientRect()),N=gD([...x,...C]);a(N),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&d){const w=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),f.useEffect(()=>{if(i){const w=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!mD(g,i);v?p():x&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,i,u,p]),c.jsx(k0,{...e,ref:o})}),[lD,cD]=Tu(ka,{isInside:!1}),uD=Rj("TooltipContent"),k0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Nu(Yo,n),u=Ru(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(mh,d),()=>document.removeEventListener(mh,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(wu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(SC,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(uD,{children:r}),c.jsx(lD,{scope:n,isInside:!0,children:c.jsx(x0,{id:l.contentId,role:"tooltip",children:s||r})})]})})});C0.displayName=Yo;var E0="TooltipArrow",dD=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ru(n);return cD(E0,n).isInside?null:c.jsx(_C,{...s,...r,ref:t})});dD.displayName=E0;function fD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function pD(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function mD(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function gD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yD(t)}function yD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var T0=b0,vD=S0,xD=_0,wD=C0,R0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(R0);var bD=R0.exports;const G=Jo(bD);var SD=({className:e,...t})=>({className:n,...r})=>({className:G(e,n),...t,...r}),Ce=(e,t)=>{const n=SD(t),r=f.forwardRef((s,o)=>{const i=e;return c.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},fm=e=>c.jsx(T0,{children:c.jsx(vD,{...e})});fm.displayName="Tooltip";var N0=xD,hm=Ce(wD,{sideOffset:4,className:"aui-tooltip-content"});hm.displayName="TooltipContent";function I0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=I0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _D(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=I0(e))&&(r&&(r+=" "),r+=t);return r}const vx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xx=_D,CD=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return xx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const p=vx(d)||vx(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,h,p]:u},[]);return xx(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var kD=CD("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),Iu=f.forwardRef(({className:e,variant:t,size:n,...r},s)=>c.jsx(ae.button,{className:kD({variant:t,size:n,className:e}),...r,ref:s}));Iu.displayName="Button";var xt=f.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>c.jsxs(fm,{children:[c.jsx(N0,{asChild:!0,children:c.jsxs(Iu,{variant:"ghost",size:"icon",...r,ref:s,children:[e,c.jsx("span",{className:"aui-sr-only",children:t})]})}),c.jsx(hm,{side:n,children:t})]}));xt.displayName="TooltipIconButton";var ED=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.unstable_copy);return t&&(!e||n)},pm=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.speech);return t&&(!e||n)},P0=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.reload);return t&&(!e||n)},A0=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.feedback);return t&&(!e||n)},j0=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.feedback);return t&&(!e||n)},M0=()=>{const e=ED(!0),t=P0(!0),n=pm(!0),r=A0(!0),s=j0(!0);return!e&&!t&&!n&&!r&&!s?null:c.jsxs(mm,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&c.jsx(O0,{}),e&&c.jsx(gm,{}),t&&c.jsx(xm,{}),r&&c.jsx(wm,{}),s&&c.jsx(bm,{})]})};M0.displayName="AssistantActionBar";var mm=Ce(Kp,{className:"aui-assistant-action-bar-root"});mm.displayName="AssistantActionBarRoot";var gm=f.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=Te();return c.jsx(B_,{copiedDuration:e,asChild:!0,children:c.jsx(xt,{tooltip:r,...t,ref:n,children:t.children??c.jsxs(c.Fragment,{children:[c.jsx(Sr,{copied:!0,children:c.jsx(m0,{})}),c.jsx(Sr,{copied:!1,children:c.jsx(g0,{})})]})})})});gm.displayName="AssistantActionBarCopy";var O0=()=>c.jsxs(c.Fragment,{children:[c.jsx(Sr,{speaking:!1,children:c.jsx(ym,{})}),c.jsx(Sr,{speaking:!0,children:c.jsx(vm,{})})]}),ym=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=Te(),r=pm();return c.jsx(vj,{disabled:!r,asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(IL,{})})})});ym.displayName="AssistantActionBarSpeak";var vm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=Te(),r=pm();return c.jsx($_,{disabled:!r,asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(DL,{})})})});vm.displayName="AssistantActionBarStopSpeaking";var xm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=Te(),r=P0();return c.jsx(pj,{disabled:!r,asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(GL,{})})})});xm.displayName="AssistantActionBarReload";var wm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=Te(),r=A0();return c.jsx(U_,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(eD,{})})})});wm.displayName="AssistantActionBarFeedbackPositive";var bm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=Te(),r=j0();return c.jsx(H_,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(JL,{})})})});bm.displayName="AssistantActionBarFeedbackNegative";var TD={Root:mm,Reload:xm,Copy:gm,Speak:ym,StopSpeaking:vm,SpeechControl:O0,FeedbackPositive:wm,FeedbackNegative:bm},L0=Object.assign(M0,TD),Sm=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.edit);return t&&(!e||n)},D0=()=>Sm(!0)?c.jsxs(_m,{hideWhenSingleBranch:!0,children:[c.jsx(Cm,{}),c.jsx(F0,{}),c.jsx(km,{})]}):null;D0.displayName="BranchPicker";var _m=Ce(QC,{className:"aui-branch-picker-root"});_m.displayName="BranchPickerRoot";var Cm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=Te(),r=Sm();return c.jsx(SO,{disabled:!r,asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(jL,{})})})});Cm.displayName="BranchPickerPrevious";var RD=Ce("span",{className:"aui-branch-picker-state"}),F0=f.forwardRef((e,t)=>c.jsxs(RD,{...e,ref:t,children:[c.jsx($C,{})," / ",c.jsx(BC,{})]}));F0.displayName="BranchPickerState";var km=f.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=Te(),r=Sm();return c.jsx(wO,{disabled:!r,asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(OL,{})})})});km.displayName="BranchPickerNext";var ND={Root:_m,Previous:Cm,Next:km},Pu=Object.assign(D0,ND),z0={exports:{}},B0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=f;function ID(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PD=typeof Object.is=="function"?Object.is:ID,AD=Xo.useState,jD=Xo.useEffect,MD=Xo.useLayoutEffect,OD=Xo.useDebugValue;function LD(e,t){var n=t(),r=AD({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return MD(function(){s.value=n,s.getSnapshot=t,Vd(s)&&o({inst:s})},[e,n,t]),jD(function(){return Vd(s)&&o({inst:s}),e(function(){Vd(s)&&o({inst:s})})},[e]),OD(n),n}function Vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!PD(e,n)}catch{return!0}}function DD(e,t){return t()}var FD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DD:LD;B0.useSyncExternalStore=Xo.useSyncExternalStore!==void 0?Xo.useSyncExternalStore:FD;z0.exports=B0;var zD=z0.exports;function BD(){return zD.useSyncExternalStore($D,()=>!0,()=>!1)}function $D(){return()=>{}}var Em="Avatar",[UD]=Jn(Em),[HD,$0]=UD(Em),U0=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return c.jsx(HD,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(ae.span,{...r,ref:t})})});U0.displayName=Em;var H0="AvatarImage",V0=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=$0(H0,n),a=VD(r,o),l=Ge(u=>{s(u),i.onImageLoadingStatusChange(u)});return et(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ae.img,{...o,ref:t,src:r}):null});V0.displayName=H0;var W0="AvatarFallback",Tm=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=$0(W0,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(ae.span,{...s,ref:t}):null});Tm.displayName=W0;function wx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function VD(e,{referrerPolicy:t,crossOrigin:n}){const r=BD(),s=f.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=f.useState(()=>wx(o,e));return et(()=>{a(wx(o,e))},[o,e]),et(()=>{const l=h=>()=>{a(h)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var WD=U0,KD=V0,qD=Tm,Rm=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:c.jsxs(Nm,{children:[e!=null&&c.jsx(Im,{src:e,alt:t}),n!=null&&c.jsx(K0,{children:n})]});Rm.displayName="Avatar";var Nm=Ce(WD,{className:"aui-avatar-root"});Nm.displayName="AvatarRoot";var Im=Ce(KD,{className:"aui-avatar-image"});Im.displayName="AvatarImage";var K0=Ce(qD,{className:"aui-avatar-fallback"});K0.displayName="AvatarFallback";var{useSmoothStatus:GD,withSmoothContextProvider:YD}=Vp,XD=()=>{const e=GD();return c.jsx(im,{className:G("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},QD={Text:YD(XD)},q0=QD,G0=()=>c.jsxs(Pm,{children:[c.jsx(Y0,{}),c.jsx(Am,{}),c.jsx(Pu,{}),c.jsx(L0,{})]});G0.displayName="AssistantMessage";var Y0=()=>{const{assistantAvatar:e={fallback:"A"}}=Te();return c.jsx(Rm,{...e})},Pm=Ce(om,{className:"aui-assistant-message-root"});Pm.displayName="AssistantMessageRoot";var JD=Ce("div",{className:"aui-assistant-message-content"}),Am=f.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=Te(),o=f.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return c.jsxs(JD,{...t,ref:n,children:[c.jsx(am,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??q0.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&c.jsx(i,{})]})});Am.displayName="AssistantMessageContent";var ZD={Root:Pm,Avatar:Y0,Content:Am},Xl=Object.assign(G0,ZD),X0=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:c.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});X0.displayName="CircleStopIcon";var Au="Dialog",[Q0]=Jn(Au),[eF,jn]=Q0(Au),J0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[u,d]=zs({prop:r,defaultProp:s??!1,onChange:o,caller:Au});return c.jsx(eF,{scope:t,triggerRef:a,contentRef:l,contentId:pr(),titleId:pr(),descriptionId:pr(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};J0.displayName=Au;var Z0="DialogTrigger",ek=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(Z0,n),o=ye(t,s.triggerRef);return c.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lm(s.open),...r,ref:o,onClick:J(e.onClick,s.onOpenToggle)})});ek.displayName=Z0;var jm="DialogPortal",[tF,tk]=Q0(jm,{forceMount:void 0}),nk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=jn(jm,t);return c.jsx(tF,{scope:t,forceMount:n,children:f.Children.map(r,i=>c.jsx(er,{present:n||o.open,children:c.jsx(rm,{asChild:!0,container:s,children:i})}))})};nk.displayName=jm;var zc="DialogOverlay",rk=f.forwardRef((e,t)=>{const n=tk(zc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=jn(zc,e.__scopeDialog);return o.modal?c.jsx(er,{present:r||o.open,children:c.jsx(rF,{...s,ref:t})}):null});rk.displayName=zc;var nF=qo("DialogOverlay.RemoveScroll"),rF=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(zc,n);return c.jsx(sm,{as:nF,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ae.div,{"data-state":Lm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),$s="DialogContent",sk=f.forwardRef((e,t)=>{const n=tk($s,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=jn($s,e.__scopeDialog);return c.jsx(er,{present:r||o.open,children:o.modal?c.jsx(sF,{...s,ref:t}):c.jsx(oF,{...s,ref:t})})});sk.displayName=$s;var sF=f.forwardRef((e,t)=>{const n=jn($s,e.__scopeDialog),r=f.useRef(null),s=ye(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return PC(o)},[]),c.jsx(ok,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:J(e.onFocusOutside,o=>o.preventDefault())})}),oF=f.forwardRef((e,t)=>{const n=jn($s,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return c.jsx(ok,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ok=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=jn($s,n),l=f.useRef(null),u=ye(t,l);return X_(),c.jsxs(c.Fragment,{children:[c.jsx(Gp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(wu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lm(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(iF,{titleId:a.titleId}),c.jsx(lF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Mm="DialogTitle",Om=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(Mm,n);return c.jsx(ae.h2,{id:s.titleId,...r,ref:t})});Om.displayName=Mm;var ik="DialogDescription",ak=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(ik,n);return c.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});ak.displayName=ik;var lk="DialogClose",ck=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(lk,n);return c.jsx(ae.button,{type:"button",...r,ref:t,onClick:J(e.onClick,()=>s.onOpenChange(!1))})});ck.displayName=lk;function Lm(e){return e?"open":"closed"}var uk="DialogTitleWarning",[f8,dk]=Sj(uk,{contentName:$s,titleName:Mm,docsSlug:"dialog"}),iF=({titleId:e})=>{const t=dk(uk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},aF="DialogDescriptionWarning",lF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dk(aF).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},fk=J0,hk=ek,pk=nk,Dm=rk,Fm=sk,cF=Om,uF=ak,dF=ck,fF=fk,hF=hk,pF=pk,mk=f.forwardRef(({className:e,...t},n)=>c.jsx(Dm,{ref:n,className:G("aui-dialog-overlay",e),...t}));mk.displayName=Dm.displayName;var gk=f.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(pF,{children:[c.jsx(mk,{}),c.jsx(Fm,{ref:r,className:G("aui-dialog-content",e),...n,children:t})]}));gk.displayName=Fm.displayName;var zm=Ce(zC,{className:"aui-attachment-root"}),mF=Ce("div",{className:"aui-attachment-content"});zm.displayName="AttachmentRoot";var gF=e=>{const[t,n]=f.useState(void 0);return f.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},yk=()=>{const{file:e,src:t}=jc(qC(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return gF(e)??t},yF=({src:e})=>{const[t,n]=f.useState(!1);return c.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},vF=({children:e})=>{const t=yk();return t?c.jsxs(fF,{children:[c.jsx(hF,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),c.jsxs(gk,{children:[c.jsx(Om,{className:"aui-sr-only",children:"Image Attachment Preview"}),c.jsx(yF,{src:t})]})]}):e},xF=()=>{const e=jc(n=>n.type==="image"),t=yk();return c.jsxs(Nm,{className:"aui-attachment-thumb",children:[c.jsx(Tm,{delayMs:e?200:0,children:c.jsx(UL,{})}),c.jsx(Im,{src:t})]})},vk=()=>{const e=jc(n=>n.source!=="message"),t=jc(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return c.jsxs(fm,{children:[c.jsxs(zm,{children:[c.jsx(vF,{children:c.jsx(N0,{asChild:!0,children:c.jsxs(mF,{children:[c.jsx(xF,{}),c.jsxs("div",{className:"aui-attachment-text",children:[c.jsx("p",{className:"aui-attachment-name",children:c.jsx(hh,{})}),c.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&c.jsx(Bm,{})]}),c.jsx(hm,{side:"top",children:c.jsx(hh,{})})]})};vk.displayName="Attachment";var Bm=f.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=Te();return c.jsx(vO,{asChild:!0,children:c.jsx(xt,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??c.jsx(zL,{})})})});Bm.displayName="AttachmentRemove";var wF={Root:zm,Remove:Bm},xk=Object.assign(vk,wF),wk=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.attachments);return t&&(!e||n)},bk=()=>{const e=wk(!0);return c.jsxs($m,{children:[e&&c.jsx(Sk,{}),e&&c.jsx(Hm,{}),c.jsx(Um,{autoFocus:!0}),c.jsx(Vm,{})]})};bk.displayName="Composer";var $m=Ce(lm,{className:"aui-composer-root"});$m.displayName="ComposerRoot";var bF=Ce(um,{rows:1,autoFocus:!0,className:"aui-composer-input"}),Um=f.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=Te();return c.jsx(bF,{placeholder:n,...e,ref:t})});Um.displayName="ComposerInput";var SF=Ce("div",{className:"aui-composer-attachments"}),Sk=({components:e})=>c.jsx(SF,{children:c.jsx(r0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??xk}})}),_F=Ce(xt,{variant:"default",className:"aui-composer-attach"}),Hm=f.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=Te(),r=wk();return c.jsx(uL,{disabled:!r,asChild:!0,children:c.jsx(_F,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??c.jsx(VL,{})})})});Hm.displayName="ComposerAddAttachment";var CF=()=>Pn(t=>t.capabilities.cancel),Vm=()=>CF()?c.jsxs(c.Fragment,{children:[c.jsx(Ca,{running:!1,children:c.jsx(Bc,{})}),c.jsx(Ca,{running:!0,children:c.jsx(Wm,{})})]}):c.jsx(Bc,{});Vm.displayName="ComposerAction";var kF=Ce(xt,{variant:"default",className:"aui-composer-send"}),Bc=f.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=Te();return c.jsx(ZC,{asChild:!0,children:c.jsx(kF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(XL,{})})})});Bc.displayName="ComposerSend";var EF=Ce(xt,{variant:"default",className:"aui-composer-cancel"}),Wm=f.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=Te();return c.jsx(t0,{asChild:!0,children:c.jsx(EF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(X0,{})})})});Wm.displayName="ComposerCancel";var TF={Root:$m,Input:Um,Action:Vm,Send:Bc,Cancel:Wm,AddAttachment:Hm,Attachments:Sk},RF=Object.assign(bk,TF),_k=()=>c.jsxs(Km,{children:[c.jsxs(Ck,{children:[c.jsx(kk,{}),c.jsx(qm,{})]}),c.jsx(Gm,{})]});_k.displayName="ThreadWelcome";var NF=Ce("div",{className:"aui-thread-welcome-root"}),Ck=Ce("div",{className:"aui-thread-welcome-center"}),Km=f.forwardRef((e,t)=>c.jsx(o0,{children:c.jsx(NF,{...e,ref:t})}));Km.displayName="ThreadWelcomeRoot";var kk=()=>{const{assistantAvatar:e={fallback:"A"}}=Te();return c.jsx(Rm,{...e})},IF=Ce("p",{className:"aui-thread-welcome-message"}),qm=f.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=Te();return c.jsx(IF,{...t,ref:n,children:e??r??s})});qm.displayName="ThreadWelcomeMessage";var PF=Ce("div",{className:"aui-thread-welcome-suggestions"}),AF=Ce(d0,{className:"aui-thread-welcome-suggestion"}),Ek=({suggestion:{text:e,prompt:t}})=>c.jsx(AF,{prompt:t,method:"replace",autoSend:!0,children:c.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),Gm=()=>{const e=Pn(r=>r.suggestions),{welcome:{suggestions:t}={}}=Te(),n=e.length?e:t;return c.jsx(PF,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return c.jsx(Ek,{suggestion:r},o)})})};Gm.displayName="ThreadWelcomeSuggestions";var jF={Root:Km,Center:Ck,Avatar:kk,Message:qm,Suggestions:Gm,Suggestion:Ek},MF=Object.assign(_k,jF),Tk=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=Te(),n=Pn(r=>r.capabilities.edit);return t&&(!e||n)},Rk=()=>Tk(!0)?c.jsx(Ym,{hideWhenRunning:!0,autohide:"not-last",children:c.jsx(Xm,{})}):null;Rk.displayName="UserActionBar";var Ym=Ce(Kp,{className:"aui-user-action-bar-root"});Ym.displayName="UserActionBarRoot";var Xm=f.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=Te(),r=Tk();return c.jsx(gj,{disabled:!r,asChild:!0,children:c.jsx(xt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(KL,{})})})});Xm.displayName="UserActionBarEdit";var OF={Root:Ym,Edit:Xm},Nk=Object.assign(Rk,OF),Ik=()=>c.jsxs(Qm,{children:[c.jsx(Pk,{}),c.jsxs(Sr,{hasContent:!0,children:[c.jsx(Nk,{}),c.jsx(Jm,{})]}),c.jsx(Pu,{})]});Ik.displayName="UserMessage";var Qm=Ce(om,{className:"aui-user-message-root"});Qm.displayName="UserMessageRoot";var LF=Ce("div",{className:"aui-user-message-content"}),Jm=f.forwardRef(({components:e,...t},n)=>c.jsx(LF,{...t,ref:n,children:c.jsx(am,{components:{...e,Text:(e==null?void 0:e.Text)??q0.Text}})}));Jm.displayName="UserMessageContent";var DF=Ce("div",{className:"aui-user-message-attachments"}),Pk=({components:e})=>c.jsx(Sr,{hasAttachments:!0,children:c.jsx(DF,{children:c.jsx(XC,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??xk}})})}),FF={Root:Qm,Content:Jm,Attachments:Pk},Ql=Object.assign(Ik,FF),Ak=()=>c.jsxs(Zm,{children:[c.jsx(eg,{}),c.jsxs(tg,{children:[c.jsx(ng,{}),c.jsx(rg,{})]})]});Ak.displayName="EditComposer";var Zm=Ce(lm,{className:"aui-edit-composer-root"});Zm.displayName="EditComposerRoot";var eg=Ce(um,{className:"aui-edit-composer-input"});eg.displayName="EditComposerInput";var tg=Ce("div",{className:"aui-edit-composer-footer"});tg.displayName="EditComposerFooter";var ng=f.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=Te();return c.jsx(t0,{asChild:!0,children:c.jsx(Iu,{variant:"ghost",...e,ref:t,children:e.children??n})})});ng.displayName="EditComposerCancel";var rg=f.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=Te();return c.jsx(ZC,{asChild:!0,children:c.jsx(Iu,{...e,ref:t,children:e.children??n})})});rg.displayName="EditComposerSend";var zF={Root:Zm,Input:eg,Footer:tg,Cancel:ng,Send:rg},BF=Object.assign(Ak,zF),$F=e=>{const{components:{Composer:t=RF,ThreadWelcome:n=MF,MessagesFooter:r,...s}={}}=e;return c.jsx(sg,{config:e,children:c.jsxs(og,{children:[c.jsx(n,{}),c.jsx(ag,{MessagesFooter:r,components:s}),c.jsx(jk,{}),c.jsxs(ig,{children:[c.jsx(lg,{}),c.jsx(t,{})]})]})})},UF=Ce(s0,{className:"aui-root aui-thread-root"}),sg=f.forwardRef(({config:e,...t},n)=>c.jsx(h0,{config:e,children:c.jsx(UF,{...t,ref:n})}));sg.displayName="ThreadRoot";var og=Ce(a0,{className:"aui-thread-viewport"});og.displayName="ThreadViewport";var ig=Ce("div",{className:"aui-thread-viewport-footer"});ig.displayName="ThreadViewportFooter";var ag=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>c.jsxs(c.Fragment,{children:[c.jsx(wL,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??Ql,AssistantMessage:(e==null?void 0:e.AssistantMessage)??Xl,EditComposer:(e==null?void 0:e.EditComposer)??BF},...r}),t&&c.jsx(t,{}),n&&c.jsx(Ca,{empty:!1,children:c.jsx("div",{style:{flexGrow:1}})})]});ag.displayName="ThreadMessages";var jk=()=>{const e=Pn(t=>t.suggestions);return c.jsx(Ca,{empty:!1,running:!1,children:c.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>c.jsx(d0,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},HF=Ce(xt,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),lg=f.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=Te();return c.jsx(SL,{asChild:!0,children:c.jsx(HF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(RL,{})})})});lg.displayName="ThreadScrollToBottom";var VF={Root:sg,Viewport:og,Messages:ag,FollowupSuggestions:jk,ScrollToBottom:lg,ViewportFooter:ig},WF=Object.assign($F,VF),KF=({copiedDuration:e=3e3}={})=>{const[t,n]=f.useState(!1);return{isCopied:t,copyToClipboard:s=>{s&&navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},qF=({language:e,code:t})=>{const{strings:{code:{header:{copy:{tooltip:n="Copy"}={}}={}}={}}={}}=Te(),{isCopied:r,copyToClipboard:s}=KF(),o=()=>{!t||r||s(t)};return c.jsxs("div",{className:"aui-code-header-root",children:[c.jsx("span",{className:"aui-code-header-language",children:e}),c.jsxs(xt,{tooltip:n,onClick:o,children:[!r&&c.jsx(g0,{}),r&&c.jsx(m0,{})]})]})};function GF(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const YF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QF={};function bx(e,t){return(QF.jsx?XF:YF).test(e)}const JF=/[ \t\n\f\r]/g;function ZF(e){return typeof e=="object"?e.type==="text"?Sx(e.value):!1:Sx(e)}function Sx(e){return e.replace(JF,"")===""}class $a{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}$a.prototype.normal={};$a.prototype.property={};$a.prototype.space=void 0;function Mk(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new $a(n,r,t)}function yh(e){return e.toLowerCase()}class Ft{constructor(t,n){this.attribute=n,this.property=t}}Ft.prototype.attribute="";Ft.prototype.booleanish=!1;Ft.prototype.boolean=!1;Ft.prototype.commaOrSpaceSeparated=!1;Ft.prototype.commaSeparated=!1;Ft.prototype.defined=!1;Ft.prototype.mustUseProperty=!1;Ft.prototype.number=!1;Ft.prototype.overloadedBoolean=!1;Ft.prototype.property="";Ft.prototype.spaceSeparated=!1;Ft.prototype.space=void 0;let ez=0;const ce=qs(),Je=qs(),vh=qs(),z=qs(),Oe=qs(),Oo=qs(),Ht=qs();function qs(){return 2**++ez}const xh=Object.freeze(Object.defineProperty({__proto__:null,boolean:ce,booleanish:Je,commaOrSpaceSeparated:Ht,commaSeparated:Oo,number:z,overloadedBoolean:vh,spaceSeparated:Oe},Symbol.toStringTag,{value:"Module"})),Wd=Object.keys(xh);class cg extends Ft{constructor(t,n,r,s){let o=-1;if(super(t,n),_x(this,"space",s),typeof r=="number")for(;++o<Wd.length;){const i=Wd[o];_x(this,Wd[o],(r&xh[i])===xh[i])}}}cg.prototype.defined=!0;function _x(e,t,n){n&&(e[t]=n)}function ii(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new cg(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[yh(r)]=r,n[yh(o.attribute)]=r}return new $a(t,n,e.space)}const Ok=ii({properties:{ariaActiveDescendant:null,ariaAtomic:Je,ariaAutoComplete:null,ariaBusy:Je,ariaChecked:Je,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Oe,ariaCurrent:null,ariaDescribedBy:Oe,ariaDetails:null,ariaDisabled:Je,ariaDropEffect:Oe,ariaErrorMessage:null,ariaExpanded:Je,ariaFlowTo:Oe,ariaGrabbed:Je,ariaHasPopup:null,ariaHidden:Je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Oe,ariaLevel:z,ariaLive:null,ariaModal:Je,ariaMultiLine:Je,ariaMultiSelectable:Je,ariaOrientation:null,ariaOwns:Oe,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:Je,ariaReadOnly:Je,ariaRelevant:null,ariaRequired:Je,ariaRoleDescription:Oe,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:Je,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Lk(e,t){return t in e?e[t]:t}function Dk(e,t){return Lk(e,t.toLowerCase())}const tz=ii({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Oo,acceptCharset:Oe,accessKey:Oe,action:null,allow:null,allowFullScreen:ce,allowPaymentRequest:ce,allowUserMedia:ce,alt:null,as:null,async:ce,autoCapitalize:null,autoComplete:Oe,autoFocus:ce,autoPlay:ce,blocking:Oe,capture:null,charSet:null,checked:ce,cite:null,className:Oe,cols:z,colSpan:null,content:null,contentEditable:Je,controls:ce,controlsList:Oe,coords:z|Oo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ce,defer:ce,dir:null,dirName:null,disabled:ce,download:vh,draggable:Je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ce,formTarget:null,headers:Oe,height:z,hidden:vh,high:z,href:null,hrefLang:null,htmlFor:Oe,httpEquiv:Oe,id:null,imageSizes:null,imageSrcSet:null,inert:ce,inputMode:null,integrity:null,is:null,isMap:ce,itemId:null,itemProp:Oe,itemRef:Oe,itemScope:ce,itemType:Oe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ce,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ce,muted:ce,name:null,nonce:null,noModule:ce,noValidate:ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ce,optimum:z,pattern:null,ping:Oe,placeholder:null,playsInline:ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ce,referrerPolicy:null,rel:Oe,required:ce,reversed:ce,rows:z,rowSpan:z,sandbox:Oe,scope:null,scoped:ce,seamless:ce,selected:ce,shadowRootClonable:ce,shadowRootDelegatesFocus:ce,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:Je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ce,useMap:null,value:Je,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Oe,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ce,declare:ce,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ce,noHref:ce,noShade:ce,noWrap:ce,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:Je,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ce,disableRemotePlayback:ce,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:Dk}),nz=ii({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ht,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Oe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Oo,g2:Oo,glyphName:Oo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Ht,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Oe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ht,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ht,rev:Ht,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ht,requiredFeatures:Ht,requiredFonts:Ht,requiredFormats:Ht,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Ht,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ht,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ht,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Lk}),Fk=ii({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),zk=ii({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Dk}),Bk=ii({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),rz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sz=/[A-Z]/g,Cx=/-[a-z]/g,oz=/^data[-\w.:]+$/i;function iz(e,t){const n=yh(t);let r=t,s=Ft;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oz.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Cx,lz);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Cx.test(o)){let i=o.replace(sz,az);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=cg}return new s(r,t)}function az(e){return"-"+e.toLowerCase()}function lz(e){return e.charAt(1).toUpperCase()}const cz=Mk([Ok,tz,Fk,zk,Bk],"html"),ug=Mk([Ok,nz,Fk,zk,Bk],"svg");function uz(e){return e.join(" ").trim()}var dg={},kx=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,dz=/\n/g,fz=/^\s*/,hz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pz=/^:\s*/,mz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gz=/^[;\s]*/,yz=/^\s+|\s+$/g,vz=`
`,Ex="/",Tx="*",Es="",xz="comment",wz="declaration";function bz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(w){var y=w.match(dz);y&&(n+=y.length);var b=w.lastIndexOf(vz);r=~b?w.length-b:r+w.length}function o(){var w={line:n,column:r};return function(y){return y.position=new i(w),u(),y}}function i(w){this.start=w,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function a(w){var y=new Error(t.source+":"+n+":"+r+": "+w);if(y.reason=w,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(w){var y=w.exec(e);if(y){var b=y[0];return s(b),e=e.slice(b.length),y}}function u(){l(fz)}function d(w){var y;for(w=w||[];y=h();)y!==!1&&w.push(y);return w}function h(){var w=o();if(!(Ex!=e.charAt(0)||Tx!=e.charAt(1))){for(var y=2;Es!=e.charAt(y)&&(Tx!=e.charAt(y)||Ex!=e.charAt(y+1));)++y;if(y+=2,Es===e.charAt(y-1))return a("End of comment missing");var b=e.slice(2,y-2);return r+=2,s(b),e=e.slice(y),r+=2,w({type:xz,comment:b})}}function p(){var w=o(),y=l(hz);if(y){if(h(),!l(pz))return a("property missing ':'");var b=l(mz),g=w({type:wz,property:Rx(y[0].replace(kx,Es)),value:b?Rx(b[0].replace(kx,Es)):Es});return l(gz),g}}function m(){var w=[];d(w);for(var y;y=p();)y!==!1&&(w.push(y),d(w));return w}return u(),m()}function Rx(e){return e?e.replace(yz,Es):Es}var Sz=bz,_z=rc&&rc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dg,"__esModule",{value:!0});dg.default=kz;const Cz=_z(Sz);function kz(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Cz.default)(e),s=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:a}=o;s?t(i,a,o):a&&(n=n||{},n[i]=a)}),n}var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.camelCase=void 0;var Ez=/^--[a-zA-Z0-9_-]+$/,Tz=/-([a-z])/g,Rz=/^[^-]+$/,Nz=/^-(webkit|moz|ms|o|khtml)-/,Iz=/^-(ms)-/,Pz=function(e){return!e||Rz.test(e)||Ez.test(e)},Az=function(e,t){return t.toUpperCase()},Nx=function(e,t){return"".concat(t,"-")},jz=function(e,t){return t===void 0&&(t={}),Pz(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Iz,Nx):e=e.replace(Nz,Nx),e.replace(Tz,Az))};ju.camelCase=jz;var Mz=rc&&rc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Oz=Mz(dg),Lz=ju;function wh(e,t){var n={};return!e||typeof e!="string"||(0,Oz.default)(e,function(r,s){r&&s&&(n[(0,Lz.camelCase)(r,t)]=s)}),n}wh.default=wh;var Dz=wh;const Fz=Jo(Dz),$k=Uk("end"),fg=Uk("start");function Uk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zz(e){const t=fg(e),n=$k(e);if(t&&n)return{start:t,end:n}}function Ji(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ix(e.position):"start"in e||"end"in e?Ix(e):"line"in e||"column"in e?bh(e):""}function bh(e){return Px(e&&e.line)+":"+Px(e&&e.column)}function Ix(e){return bh(e&&e.start)+"-"+bh(e&&e.end)}function Px(e){return e&&typeof e=="number"?e:1}class wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},i=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(i=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=Ji(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wt.prototype.file="";wt.prototype.name="";wt.prototype.reason="";wt.prototype.message="";wt.prototype.stack="";wt.prototype.column=void 0;wt.prototype.line=void 0;wt.prototype.ancestors=void 0;wt.prototype.cause=void 0;wt.prototype.fatal=void 0;wt.prototype.place=void 0;wt.prototype.ruleId=void 0;wt.prototype.source=void 0;const hg={}.hasOwnProperty,Bz=new Map,$z=/[A-Z]/g,Uz=new Set(["table","tbody","thead","tfoot","tr"]),Hz=new Set(["td","th"]),Hk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Vz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Jz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Qz(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ug:cz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Vk(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function Vk(e,t,n){if(t.type==="element")return Wz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Kz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Gz(e,t,n);if(t.type==="mdxjsEsm")return qz(e,t);if(t.type==="root")return Yz(e,t,n);if(t.type==="text")return Xz(e,t)}function Wz(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=ug,e.schema=s),e.ancestors.push(t);const o=Kk(e,t.tagName,!1),i=Zz(e,t);let a=mg(e,t);return Uz.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!ZF(l):!0})),Wk(e,i,o,t),pg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function Kz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ea(e,t.position)}function qz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ea(e,t.position)}function Gz(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=ug,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:Kk(e,t.name,!0),i=eB(e,t),a=mg(e,t);return Wk(e,i,o,t),pg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function Yz(e,t,n){const r={};return pg(r,mg(e,t)),e.create(t,e.Fragment,r,n)}function Xz(e,t){return t.value}function Wk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function pg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Qz(e,t,n){return r;function r(s,o,i,a){const u=Array.isArray(i.children)?n:t;return a?u(o,i,a):u(o,i)}}function Jz(e,t){return n;function n(r,s,o,i){const a=Array.isArray(o.children),l=fg(r);return t(s,o,i,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Zz(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&hg.call(t.properties,s)){const o=tB(e,s,t.properties[s]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&i==="align"&&typeof a=="string"&&Hz.has(t.tagName)?r=a:n[i]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function eB(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const a=i.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Ea(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else Ea(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function mg(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Bz;for(;++r<t.children.length;){const o=t.children[r];let i;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=s.get(l)||0;i=l+"-"+u,s.set(l,u+1)}}const a=Vk(e,o,i);a!==void 0&&n.push(a)}return n}function tB(e,t,n){const r=iz(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?GF(n):uz(n)),r.property==="style"){let s=typeof n=="object"?n:nB(e,String(n));return e.stylePropertyNameCase==="css"&&(s=rB(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?rz[r.property]||r.property:r.attribute,n]}}function nB(e,t){try{return Fz(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Hk+"#cannot-parse-style-attribute",s}}function Kk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,i;for(;++o<s.length;){const a=bx(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};i=i?{type:"MemberExpression",object:i,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=i}else r=bx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return hg.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ea(e)}function Ea(e,t){const n=new wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Hk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function rB(e){const t={};let n;for(n in e)hg.call(e,n)&&(t[sB(n)]=e[n]);return t}function sB(e){let t=e.replace($z,oB);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function oB(e){return"-"+e.toLowerCase()}const Kd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iB={};function aB(e,t){const n=iB,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qk(e,r,s)}function qk(e,t,n){if(lB(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ax(e.children,t,n)}return Array.isArray(e)?Ax(e,t,n):""}function Ax(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=qk(e[s],t,n);return r.join("")}function lB(e){return!!(e&&typeof e=="object")}const jx=document.createElement("i");function gg(e){const t="&"+e+";";jx.innerHTML=t;const n=jx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xn(e,t,n,r){const s=e.length;let o=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function ln(e,t){return e.length>0?(Xn(e,e.length,0,t),e):t}const Mx={}.hasOwnProperty;function cB(e){const t={};let n=-1;for(;++n<e.length;)uB(t,e[n]);return t}function uB(e,t){let n;for(n in t){const s=(Mx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){Mx.call(s,i)||(s[i]=[]);const a=o[i];dB(s[i],Array.isArray(a)?a:a?[a]:[])}}}function dB(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xn(e,0,0,r)}function Gk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Lo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hn=fs(/[A-Za-z]/),Yt=fs(/[\dA-Za-z]/),fB=fs(/[#-'*+\--9=?A-Z^-~]/);function Sh(e){return e!==null&&(e<32||e===127)}const _h=fs(/\d/),hB=fs(/[\dA-Fa-f]/),pB=fs(/[!-/:-@[-`{-~]/);function ie(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function Re(e){return e===-2||e===-1||e===32}const mB=fs(new RegExp("\\p{P}|\\p{S}","u")),gB=fs(/\s/);function fs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ai(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let i="";if(o===37&&Yt(e.charCodeAt(n+1))&&Yt(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(i=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(i=String.fromCharCode(o,a),s=1):i=""}else i=String.fromCharCode(o);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function De(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return i;function i(l){return Re(l)?(e.enter(n),a(l)):t(l)}function a(l){return Re(l)&&o++<s?(e.consume(l),a):(e.exit(n),t(l))}}const yB={tokenize:vB};function vB(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),De(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,i(a)}function i(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ie(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),i)}}const xB={tokenize:wB},Ox={tokenize:bB};function wB(e){const t=this,n=[];let r=0,s,o,i;return a;function a(x){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const C=t.events.length;let N=C,k;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){k=t.events[N][1].end;break}g(r);let T=C;for(;T<t.events.length;)t.events[T][1].end={...k},T++;return Xn(t.events,N+1,0,t.events.slice(C)),t.events.length=T,u(x)}return a(x)}function u(x){if(r===n.length){if(!s)return p(x);if(s.currentConstruct&&s.currentConstruct.concrete)return w(x);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ox,d,h)(x)}function d(x){return s&&v(),g(r),p(x)}function h(x){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,w(x)}function p(x){return t.containerState={},e.attempt(Ox,m,w)(x)}function m(x){return r++,n.push([t.currentConstruct,t.containerState]),p(x)}function w(x){if(x===null){s&&v(),g(0),e.consume(x);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),y(x)}function y(x){if(x===null){b(e.exit("chunkFlow"),!0),g(0),e.consume(x);return}return ie(x)?(e.consume(x),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),y)}function b(x,C){const N=t.sliceStream(x);if(C&&N.push(null),x.previous=o,o&&(o.next=x),o=x,s.defineSkip(x.start),s.write(N),t.parser.lazy[x.start.line]){let k=s.events.length;for(;k--;)if(s.events[k][1].start.offset<i&&(!s.events[k][1].end||s.events[k][1].end.offset>i))return;const T=t.events.length;let I=T,M,A;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){A=t.events[I][1].end;break}M=!0}for(g(r),k=T;k<t.events.length;)t.events[k][1].end={...A},k++;Xn(t.events,I+1,0,t.events.slice(T)),t.events.length=k}}function g(x){let C=n.length;for(;C-- >x;){const N=n[C];t.containerState=N[1],N[0].exit.call(t,e)}n.length=x}function v(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function bB(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Lx(e){if(e===null||Dt(e)||gB(e))return 1;if(mB(e))return 2}function yg(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Ch={name:"attention",resolveAll:SB,tokenize:_B};function SB(e,t){let n=-1,r,s,o,i,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};Dx(h,-l),Dx(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[r][1].end={...i.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ln(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ln(u,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",o,t]]),u=ln(u,yg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ln(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ln(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Xn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _B(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Lx(r);let o;return i;function i(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=Lx(l),h=!d||d===2&&s||n.includes(l),p=!s||s===2&&d||n.includes(r);return u._open=!!(o===42?h:h&&(s||!p)),u._close=!!(o===42?p:p&&(d||!h)),t(l)}}function Dx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const CB={name:"autolink",tokenize:kB};function kB(e,t,n){let r=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Hn(m)?(e.consume(m),i):m===64?n(m):u(m)}function i(m){return m===43||m===45||m===46||Yt(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Yt(m))&&r++<32?(e.consume(m),a):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Sh(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):fB(m)?(e.consume(m),u):n(m)}function d(m){return Yt(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Yt(m))&&r++<63){const w=m===45?p:h;return e.consume(m),w}return n(m)}}const Mu={partial:!0,tokenize:EB};function EB(e,t,n){return r;function r(o){return Re(o)?De(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||ie(o)?t(o):n(o)}}const Yk={continuation:{tokenize:RB},exit:NB,name:"blockQuote",tokenize:TB};function TB(e,t,n){const r=this;return s;function s(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)}function o(i){return Re(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function RB(e,t,n){const r=this;return s;function s(i){return Re(i)?De(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)}function o(i){return e.attempt(Yk,t,n)(i)}}function NB(e){e.exit("blockQuote")}const Xk={name:"characterEscape",tokenize:IB};function IB(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return pB(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Qk={name:"characterReference",tokenize:PB};function PB(e,t,n){const r=this;let s=0,o,i;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,i=Yt,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=hB,d):(e.enter("characterReferenceValue"),o=7,i=_h,d(h))}function d(h){if(h===59&&s){const p=e.exit("characterReferenceValue");return i===Yt&&!gg(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(h)&&s++<o?(e.consume(h),d):n(h)}}const Fx={partial:!0,tokenize:jB},zx={concrete:!0,name:"codeFenced",tokenize:AB};function AB(e,t,n){const r=this,s={partial:!0,tokenize:N};let o=0,i=0,a;return l;function l(k){return u(k)}function u(k){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===a?(i++,e.consume(k),d):i<3?n(k):(e.exit("codeFencedFenceSequence"),Re(k)?De(e,h,"whitespace")(k):h(k))}function h(k){return k===null||ie(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(Fx,y,C)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||ie(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Re(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,m,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),p)}function m(k){return k===null||ie(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||ie(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(e.consume(k),w)}function y(k){return e.attempt(s,C,b)(k)}function b(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g}function g(k){return o>0&&Re(k)?De(e,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||ie(k)?e.check(Fx,y,C)(k):(e.enter("codeFlowValue"),x(k))}function x(k){return k===null||ie(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),x)}function C(k){return e.exit("codeFenced"),t(k)}function N(k,T,I){let M=0;return A;function A(W){return k.enter("lineEnding"),k.consume(W),k.exit("lineEnding"),L}function L(W){return k.enter("codeFencedFence"),Re(W)?De(k,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):R(W)}function R(W){return W===a?(k.enter("codeFencedFenceSequence"),U(W)):I(W)}function U(W){return W===a?(M++,k.consume(W),U):M>=i?(k.exit("codeFencedFenceSequence"),Re(W)?De(k,$,"whitespace")(W):$(W)):I(W)}function $(W){return W===null||ie(W)?(k.exit("codeFencedFence"),T(W)):I(W)}}}function jB(e,t,n){const r=this;return s;function s(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const qd={name:"codeIndented",tokenize:OB},MB={partial:!0,tokenize:LB};function OB(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),De(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?l(u):ie(u)?e.attempt(MB,i,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ie(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function LB(e,t,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):ie(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):De(e,o,"linePrefix",5)(i)}function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):ie(i)?s(i):n(i)}}const DB={name:"codeText",previous:zB,resolve:FB,tokenize:BB};function FB(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function zB(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BB(e,t,n){let r=0,s,o;return i;function i(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),s=0,d(h)):ie(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ie(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",u(h))}}class $B{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Ri(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ri(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ri(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ri(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ri(this.left,n.reverse())}}}function Ri(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Jk(e){const t={};let n=-1,r,s,o,i,a,l,u;const d=new $B(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,UB(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(i=d.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=o);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},a=d.slice(s,n),a.unshift(r),d.splice(s,n-s+1,a))}}return Xn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function UB(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const a=i.events,l=[],u={};let d,h,p=-1,m=n,w=0,y=0;const b=[y];for(;m;){for(;e.get(++s)[1]!==m;);o.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const g=a.slice(b[p],b[p+1]),v=o.pop();l.push([v,v+g.length-1]),e.splice(v,2,g)}for(l.reverse(),p=-1;++p<l.length;)u[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return u}const HB={resolve:WB,tokenize:KB},VB={partial:!0,tokenize:qB};function WB(e){return Jk(e),e}function KB(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?o(a):ie(a)?e.check(VB,i,o)(a):(e.consume(a),s)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function qB(e,t,n){const r=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),De(e,o,"linePrefix")}function o(i){if(i===null||ie(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function Zk(e,t,n,r,s,o,i,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(g){return g===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(g),e.exit(o),p):g===null||g===32||g===41||Sh(g)?n(g):(e.enter(r),e.enter(i),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(a),p(g)):g===null||g===60||ie(g)?n(g):(e.consume(g),g===92?w:m)}function w(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Dt(g))?(e.exit("chunkString"),e.exit(a),e.exit(i),e.exit(r),t(g)):d<u&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Sh(g)?n(g):(e.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function eE(e,t,n,r,s,o){const i=this;let a=0,l;return u;function u(m){return e.enter(r),e.enter(s),e.consume(m),e.exit(s),e.enter(o),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in i.parser.constructs?n(m):m===93?(e.exit(o),e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):ie(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||ie(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Re(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}}function tE(e,t,n,r,s,o){let i;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(s),e.consume(p),e.exit(s),i=p===40?41:p,l):n(p)}function l(p){return p===i?(e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):(e.enter(o),u(p))}function u(p){return p===i?(e.exit(o),l(i)):p===null?n(p):ie(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),De(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===i||p===null||ie(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:d)}function h(p){return p===i||p===92?(e.consume(p),d):d(p)}}function Zi(e,t){let n;return r;function r(s){return ie(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Re(s)?De(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const GB={name:"definition",tokenize:XB},YB={partial:!0,tokenize:QB};function XB(e,t,n){const r=this;let s;return o;function o(m){return e.enter("definition"),i(m)}function i(m){return eE.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return s=Lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Dt(m)?Zi(e,u)(m):u(m)}function u(m){return Zk(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(YB,h,h)(m)}function h(m){return Re(m)?De(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ie(m)?(e.exit("definition"),r.parser.defined.push(s),t(m)):n(m)}}function QB(e,t,n){return r;function r(a){return Dt(a)?Zi(e,s)(a):n(a)}function s(a){return tE(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Re(a)?De(e,i,"whitespace")(a):i(a)}function i(a){return a===null||ie(a)?t(a):n(a)}}const JB={name:"hardBreakEscape",tokenize:ZB};function ZB(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return ie(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const e3={name:"headingAtx",resolve:t3,tokenize:n3};function t3(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xn(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function n3(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Dt(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||ie(d)?(e.exit("atxHeading"),t(d)):Re(d)?De(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Dt(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const r3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Bx=["pre","script","style","textarea"],s3={concrete:!0,name:"htmlFlow",resolveTo:a3,tokenize:l3},o3={partial:!0,tokenize:u3},i3={partial:!0,tokenize:c3};function a3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function l3(e,t,n){const r=this;let s,o,i,a,l;return u;function u(E){return d(E)}function d(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),h}function h(E){return E===33?(e.consume(E),p):E===47?(e.consume(E),o=!0,y):E===63?(e.consume(E),s=3,r.interrupt?t:_):Hn(E)?(e.consume(E),i=String.fromCharCode(E),b):n(E)}function p(E){return E===45?(e.consume(E),s=2,m):E===91?(e.consume(E),s=5,a=0,w):Hn(E)?(e.consume(E),s=4,r.interrupt?t:_):n(E)}function m(E){return E===45?(e.consume(E),r.interrupt?t:_):n(E)}function w(E){const Ne="CDATA[";return E===Ne.charCodeAt(a++)?(e.consume(E),a===Ne.length?r.interrupt?t:R:w):n(E)}function y(E){return Hn(E)?(e.consume(E),i=String.fromCharCode(E),b):n(E)}function b(E){if(E===null||E===47||E===62||Dt(E)){const Ne=E===47,Ye=i.toLowerCase();return!Ne&&!o&&Bx.includes(Ye)?(s=1,r.interrupt?t(E):R(E)):r3.includes(i.toLowerCase())?(s=6,Ne?(e.consume(E),g):r.interrupt?t(E):R(E)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):o?v(E):x(E))}return E===45||Yt(E)?(e.consume(E),i+=String.fromCharCode(E),b):n(E)}function g(E){return E===62?(e.consume(E),r.interrupt?t:R):n(E)}function v(E){return Re(E)?(e.consume(E),v):A(E)}function x(E){return E===47?(e.consume(E),A):E===58||E===95||Hn(E)?(e.consume(E),C):Re(E)?(e.consume(E),x):A(E)}function C(E){return E===45||E===46||E===58||E===95||Yt(E)?(e.consume(E),C):N(E)}function N(E){return E===61?(e.consume(E),k):Re(E)?(e.consume(E),N):x(E)}function k(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),l=E,T):Re(E)?(e.consume(E),k):I(E)}function T(E){return E===l?(e.consume(E),l=null,M):E===null||ie(E)?n(E):(e.consume(E),T)}function I(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Dt(E)?N(E):(e.consume(E),I)}function M(E){return E===47||E===62||Re(E)?x(E):n(E)}function A(E){return E===62?(e.consume(E),L):n(E)}function L(E){return E===null||ie(E)?R(E):Re(E)?(e.consume(E),L):n(E)}function R(E){return E===45&&s===2?(e.consume(E),V):E===60&&s===1?(e.consume(E),X):E===62&&s===4?(e.consume(E),ne):E===63&&s===3?(e.consume(E),_):E===93&&s===5?(e.consume(E),B):ie(E)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(o3,he,U)(E)):E===null||ie(E)?(e.exit("htmlFlowData"),U(E)):(e.consume(E),R)}function U(E){return e.check(i3,$,he)(E)}function $(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),W}function W(E){return E===null||ie(E)?U(E):(e.enter("htmlFlowData"),R(E))}function V(E){return E===45?(e.consume(E),_):R(E)}function X(E){return E===47?(e.consume(E),i="",j):R(E)}function j(E){if(E===62){const Ne=i.toLowerCase();return Bx.includes(Ne)?(e.consume(E),ne):R(E)}return Hn(E)&&i.length<8?(e.consume(E),i+=String.fromCharCode(E),j):R(E)}function B(E){return E===93?(e.consume(E),_):R(E)}function _(E){return E===62?(e.consume(E),ne):E===45&&s===2?(e.consume(E),_):R(E)}function ne(E){return E===null||ie(E)?(e.exit("htmlFlowData"),he(E)):(e.consume(E),ne)}function he(E){return e.exit("htmlFlow"),t(E)}}function c3(e,t,n){const r=this;return s;function s(i){return ie(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function u3(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Mu,t,n)}}const d3={name:"htmlText",tokenize:f3};function f3(e,t,n){const r=this;let s,o,i;return a;function a(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),l}function l(_){return _===33?(e.consume(_),u):_===47?(e.consume(_),N):_===63?(e.consume(_),x):Hn(_)?(e.consume(_),I):n(_)}function u(_){return _===45?(e.consume(_),d):_===91?(e.consume(_),o=0,w):Hn(_)?(e.consume(_),v):n(_)}function d(_){return _===45?(e.consume(_),m):n(_)}function h(_){return _===null?n(_):_===45?(e.consume(_),p):ie(_)?(i=h,X(_)):(e.consume(_),h)}function p(_){return _===45?(e.consume(_),m):h(_)}function m(_){return _===62?V(_):_===45?p(_):h(_)}function w(_){const ne="CDATA[";return _===ne.charCodeAt(o++)?(e.consume(_),o===ne.length?y:w):n(_)}function y(_){return _===null?n(_):_===93?(e.consume(_),b):ie(_)?(i=y,X(_)):(e.consume(_),y)}function b(_){return _===93?(e.consume(_),g):y(_)}function g(_){return _===62?V(_):_===93?(e.consume(_),g):y(_)}function v(_){return _===null||_===62?V(_):ie(_)?(i=v,X(_)):(e.consume(_),v)}function x(_){return _===null?n(_):_===63?(e.consume(_),C):ie(_)?(i=x,X(_)):(e.consume(_),x)}function C(_){return _===62?V(_):x(_)}function N(_){return Hn(_)?(e.consume(_),k):n(_)}function k(_){return _===45||Yt(_)?(e.consume(_),k):T(_)}function T(_){return ie(_)?(i=T,X(_)):Re(_)?(e.consume(_),T):V(_)}function I(_){return _===45||Yt(_)?(e.consume(_),I):_===47||_===62||Dt(_)?M(_):n(_)}function M(_){return _===47?(e.consume(_),V):_===58||_===95||Hn(_)?(e.consume(_),A):ie(_)?(i=M,X(_)):Re(_)?(e.consume(_),M):V(_)}function A(_){return _===45||_===46||_===58||_===95||Yt(_)?(e.consume(_),A):L(_)}function L(_){return _===61?(e.consume(_),R):ie(_)?(i=L,X(_)):Re(_)?(e.consume(_),L):M(_)}function R(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),s=_,U):ie(_)?(i=R,X(_)):Re(_)?(e.consume(_),R):(e.consume(_),$)}function U(_){return _===s?(e.consume(_),s=void 0,W):_===null?n(_):ie(_)?(i=U,X(_)):(e.consume(_),U)}function $(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||Dt(_)?M(_):(e.consume(_),$)}function W(_){return _===47||_===62||Dt(_)?M(_):n(_)}function V(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function X(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),j}function j(_){return Re(_)?De(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):B(_)}function B(_){return e.enter("htmlTextData"),i(_)}}const vg={name:"labelEnd",resolveAll:g3,resolveTo:y3,tokenize:v3},h3={tokenize:x3},p3={tokenize:w3},m3={tokenize:b3};function g3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Xn(e,0,e.length,n),e}function y3(e,t){let n=e.length,r=0,s,o,i,a;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=ln(a,e.slice(o+1,o+r+3)),a=ln(a,[["enter",d,t]]),a=ln(a,yg(t.parser.constructs.insideSpan.null,e.slice(o+r+4,i-3),t)),a=ln(a,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),a=ln(a,e.slice(i+1)),a=ln(a,[["exit",l,t]]),Xn(e,o,e.length,a),e}function v3(e,t,n){const r=this;let s=r.events.length,o,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return a;function a(p){return o?o._inactive?h(p):(i=r.parser.defined.includes(Lo(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(h3,d,i?d:h)(p):p===91?e.attempt(p3,d,i?u:h)(p):i?d(p):h(p)}function u(p){return e.attempt(m3,d,h)(p)}function d(p){return t(p)}function h(p){return o._balanced=!0,n(p)}}function x3(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Dt(h)?Zi(e,o)(h):o(h)}function o(h){return h===41?d(h):Zk(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function i(h){return Dt(h)?Zi(e,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?tE(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Dt(h)?Zi(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function w3(e,t,n){const r=this;return s;function s(a){return eE.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Lo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}function b3(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const S3={name:"labelStartImage",resolveAll:vg.resolveAll,tokenize:_3};function _3(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const C3={name:"labelStartLink",resolveAll:vg.resolveAll,tokenize:k3};function k3(e,t,n){const r=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o}function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const Gd={name:"lineEnding",tokenize:E3};function E3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const Jl={name:"thematicBreak",tokenize:T3};function T3(e,t,n){let r=0,s;return o;function o(u){return e.enter("thematicBreak"),i(u)}function i(u){return s=u,a(u)}function a(u){return u===s?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ie(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===s?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Re(u)?De(e,a,"whitespace")(u):a(u))}}const Pt={continuation:{tokenize:P3},exit:j3,name:"list",tokenize:I3},R3={partial:!0,tokenize:M3},N3={partial:!0,tokenize:A3};function I3(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return a;function a(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:_h(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Jl,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return _h(m)&&++i<10?(e.consume(m),l):(!r.interrupt||i<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Mu,r.interrupt?n:d,e.attempt(R3,p,h))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function h(m){return Re(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function P3(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Mu,s,o);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Re(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(N3,t,i)(a))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(Pt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function A3(e,t,n){const r=this;return De(e,s,"listItemIndent",r.containerState.size+1);function s(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)}}function j3(e){e.exit(this.containerState.type)}function M3(e,t,n){const r=this;return De(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const i=r.events[r.events.length-1];return!Re(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const $x={name:"setextUnderline",resolveTo:O3,tokenize:L3};function O3(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",i,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function L3(e,t,n){const r=this;let s;return o;function o(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===s?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Re(u)?De(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ie(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const D3={tokenize:F3};function F3(e){const t=this,n=e.attempt(Mu,r,e.attempt(this.parser.constructs.flowInitial,s,De(e,e.attempt(this.parser.constructs.flow,s,e.attempt(HB,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const z3={resolveAll:rE()},B3=nE("string"),$3=nE("text");function nE(e){return{resolveAll:rE(e==="text"?U3:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,i,a);return i;function i(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=s[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function rE(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function U3(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,i=-1,a=0,l;for(;o--;){const u=s[o];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)a++,i--;if(i)break;i=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?i:r.start._bufferIndex+i,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const H3={42:Pt,43:Pt,45:Pt,48:Pt,49:Pt,50:Pt,51:Pt,52:Pt,53:Pt,54:Pt,55:Pt,56:Pt,57:Pt,62:Yk},V3={91:GB},W3={[-2]:qd,[-1]:qd,32:qd},K3={35:e3,42:Jl,45:[$x,Jl],60:s3,61:$x,95:Jl,96:zx,126:zx},q3={38:Qk,92:Xk},G3={[-5]:Gd,[-4]:Gd,[-3]:Gd,33:S3,38:Qk,42:Ch,60:[CB,d3],91:C3,92:[JB,Xk],93:vg,95:Ch,96:DB},Y3={null:[Ch,z3]},X3={null:[42,95]},Q3={null:[]},J3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:X3,contentInitial:V3,disable:Q3,document:H3,flow:K3,flowInitial:W3,insideSpan:Y3,string:q3,text:G3},Symbol.toStringTag,{value:"Module"}));function Z3(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let i=[],a=[];const l={attempt:T(N),check:T(k),consume:v,enter:x,exit:C,interrupt:T(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function h(L){return i=ln(i,L),b(),i[i.length-1]!==null?[]:(I(t,0),u.events=yg(o,u.events,u),u.events)}function p(L,R){return t4(m(L),R)}function m(L){return e4(i,L)}function w(){const{_bufferIndex:L,_index:R,line:U,column:$,offset:W}=r;return{_bufferIndex:L,_index:R,line:U,column:$,offset:W}}function y(L){s[L.line]=L.column,A()}function b(){let L;for(;r._index<i.length;){const R=i[r._index];if(typeof R=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<R.length;)g(R.charCodeAt(r._bufferIndex));else g(R)}}function g(L){d=d(L)}function v(L){ie(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,A()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function x(L,R){const U=R||{};return U.type=L,U.start=w(),u.events.push(["enter",U,u]),a.push(U),U}function C(L){const R=a.pop();return R.end=w(),u.events.push(["exit",R,u]),R}function N(L,R){I(L,R.from)}function k(L,R){R.restore()}function T(L,R){return U;function U($,W,V){let X,j,B,_;return Array.isArray($)?he($):"tokenize"in $?he([$]):ne($);function ne(ve){return Q;function Q(pe){const Me=pe!==null&&ve[pe],xe=pe!==null&&ve.null,me=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return he(me)(pe)}}function he(ve){return X=ve,j=0,ve.length===0?V:E(ve[j])}function E(ve){return Q;function Q(pe){return _=M(),B=ve,ve.partial||(u.currentConstruct=ve),ve.name&&u.parser.constructs.disable.null.includes(ve.name)?Ye():ve.tokenize.call(R?Object.assign(Object.create(u),R):u,l,Ne,Ye)(pe)}}function Ne(ve){return L(B,_),W}function Ye(ve){return _.restore(),++j<X.length?E(X[j]):V}}}function I(L,R){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&Xn(u.events,R,u.events.length-R,L.resolve(u.events.slice(R),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function M(){const L=w(),R=u.previous,U=u.currentConstruct,$=u.events.length,W=Array.from(a);return{from:$,restore:V};function V(){r=L,u.previous=R,u.currentConstruct=U,u.events.length=$,a=W,A()}}function A(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function e4(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,o)];else{if(i=e.slice(n,s),r>-1){const a=i[0];typeof a=="string"?i[0]=a.slice(r):i.shift()}o>0&&i.push(e[s].slice(0,o))}return i}function t4(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let i;if(typeof o=="string")i=o;else switch(o){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(o)}s=o===-2,r.push(i)}return r.join("")}function n4(e){const r={constructs:cB([J3,...(e||{}).extensions||[]]),content:s(yB),defined:[],document:s(xB),flow:s(D3),lazy:{},string:s(B3),text:s($3)};return r;function s(o){return i;function i(a){return Z3(r,o,a)}}}function r4(e){for(;!Jk(e););return e}const Ux=/[\0\t\n\r]/g;function s4(){let e=1,t="",n=!0,r;return s;function s(o,i,a){const l=[];let u,d,h,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(i||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(Ux.lastIndex=h,u=Ux.exec(o),p=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(p),!u){t=o.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(o.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const o4=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function i4(e){return e.replace(o4,a4)}function a4(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return Gk(n.slice(o?2:1),o?16:10)}return gg(n)||e}const sE={}.hasOwnProperty;function l4(e,t,n){return typeof t!="string"&&(n=t,t=void 0),c4(n)(r4(n4(n).document().write(s4()(e,t,!0))))}function c4(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(On),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(zt),blockQuote:o(xe),characterEscape:M,characterReference:M,codeFenced:o(me),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(me,i),codeText:o(ke,i),codeTextData:M,data:M,codeFlowValue:M,definition:o(ot),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o(It),hardBreakEscape:o(pn),hardBreakTrailing:o(pn),htmlFlow:o(Mn,i),htmlFlowData:M,htmlText:o(Mn,i),htmlTextData:M,image:o(gs),label:i,link:o(On),listItem:o(Wu),listItemValue:p,listOrdered:o(ui,h),listUnordered:o(ui),paragraph:o(nr),reference:E,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(zt),strong:o(di),thematicBreak:o(Ku)},exit:{atxHeading:l(),atxHeadingSequence:N,autolink:l(),autolinkEmail:Me,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Ye,characterReferenceMarkerNumeric:Ye,characterReferenceValue:ve,characterReference:Q,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:A,codeIndented:l(g),codeText:l(W),codeTextData:A,data:A,definition:l(),definitionDestinationString:C,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(R),hardBreakTrailing:l(R),htmlFlow:l(U),htmlFlowData:A,htmlText:l($),htmlTextData:A,image:l(X),label:B,labelText:j,lineEnding:L,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ne,resourceDestinationString:_,resourceTitleString:ne,resource:he,setextHeading:l(I),setextHeadingLineSequence:T,setextHeadingText:k,strong:l(),thematicBreak:l()}};oE(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(O){let D={type:"root",children:[]};const se={stack:[D],tokenStack:[],config:t,enter:a,exit:u,buffer:i,resume:d,data:n},ue=[];let Ie=-1;for(;++Ie<O.length;)if(O[Ie][1].type==="listOrdered"||O[Ie][1].type==="listUnordered")if(O[Ie][0]==="enter")ue.push(Ie);else{const Bt=ue.pop();Ie=s(O,Bt,Ie)}for(Ie=-1;++Ie<O.length;){const Bt=t[O[Ie][0]];sE.call(Bt,O[Ie][1].type)&&Bt[O[Ie][1].type].call(Object.assign({sliceSerialize:O[Ie][2].sliceSerialize},se),O[Ie][1])}if(se.tokenStack.length>0){const Bt=se.tokenStack[se.tokenStack.length-1];(Bt[1]||Hx).call(se,void 0,Bt[0])}for(D.position={start:Mr(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:Mr(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<t.transforms.length;)D=t.transforms[Ie](D)||D;return D}function s(O,D,se){let ue=D-1,Ie=-1,Bt=!1,Ln,$t,Er,rr;for(;++ue<=se;){const pt=O[ue];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Ie++:Ie--,rr=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Ln&&!rr&&!Ie&&!Er&&(Er=ue),rr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rr=void 0}if(!Ie&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Ie===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Ln){let sr=ue;for($t=void 0;sr--;){const St=O[sr];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;$t&&(O[$t][1].type="lineEndingBlank",Bt=!0),St[1].type="lineEnding",$t=sr}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}Er&&(!$t||Er<$t)&&(Ln._spread=!0),Ln.end=Object.assign({},$t?O[$t][1].start:pt[1].end),O.splice($t||ue,0,["exit",Ln,pt[2]]),ue++,se++}if(pt[1].type==="listItemPrefix"){const sr={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Ln=sr,O.splice(ue,0,["enter",sr,pt[2]]),ue++,se++,Er=void 0,rr=!0}}}return O[D][1]._spread=Bt,se}function o(O,D){return se;function se(ue){a.call(this,O(ue),ue),D&&D.call(this,ue)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(O,D,se){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([D,se||void 0]),O.position={start:Mr(D.start),end:void 0}}function l(O){return D;function D(se){O&&O.call(this,se),u.call(this,se)}}function u(O,D){const se=this.stack.pop(),ue=this.tokenStack.pop();if(ue)ue[0].type!==O.type&&(D?D.call(this,O,ue[0]):(ue[1]||Hx).call(this,O,ue[0]));else throw new Error("Cannot close `"+O.type+"` ("+Ji({start:O.start,end:O.end})+"): its not open");se.position.end=Mr(O.end)}function d(){return aB(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(O){if(this.data.expectingFirstListItemValue){const D=this.stack[this.stack.length-2];D.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function m(){const O=this.resume(),D=this.stack[this.stack.length-1];D.lang=O}function w(){const O=this.resume(),D=this.stack[this.stack.length-1];D.meta=O}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O.replace(/(\r?\n|\r)$/g,"")}function v(O){const D=this.resume(),se=this.stack[this.stack.length-1];se.label=D,se.identifier=Lo(this.sliceSerialize(O)).toLowerCase()}function x(){const O=this.resume(),D=this.stack[this.stack.length-1];D.title=O}function C(){const O=this.resume(),D=this.stack[this.stack.length-1];D.url=O}function N(O){const D=this.stack[this.stack.length-1];if(!D.depth){const se=this.sliceSerialize(O).length;D.depth=se}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function T(O){const D=this.stack[this.stack.length-1];D.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(O){const se=this.stack[this.stack.length-1].children;let ue=se[se.length-1];(!ue||ue.type!=="text")&&(ue=Ha(),ue.position={start:Mr(O.start),end:void 0},se.push(ue)),this.stack.push(ue)}function A(O){const D=this.stack.pop();D.value+=this.sliceSerialize(O),D.position.end=Mr(O.end)}function L(O){const D=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=D.children[D.children.length-1];se.position.end=Mr(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(D.type)&&(M.call(this,O),A.call(this,O))}function R(){this.data.atHardBreak=!0}function U(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O}function $(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O}function W(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O}function V(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const D=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=D,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function X(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const D=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=D,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function j(O){const D=this.sliceSerialize(O),se=this.stack[this.stack.length-2];se.label=i4(D),se.identifier=Lo(D).toLowerCase()}function B(){const O=this.stack[this.stack.length-1],D=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const ue=O.children;se.children=ue}else se.alt=D}function _(){const O=this.resume(),D=this.stack[this.stack.length-1];D.url=O}function ne(){const O=this.resume(),D=this.stack[this.stack.length-1];D.title=O}function he(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function Ne(O){const D=this.resume(),se=this.stack[this.stack.length-1];se.label=D,se.identifier=Lo(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Ye(O){this.data.characterReferenceType=O.type}function ve(O){const D=this.sliceSerialize(O),se=this.data.characterReferenceType;let ue;se?(ue=Gk(D,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ue=gg(D);const Ie=this.stack[this.stack.length-1];Ie.value+=ue}function Q(O){const D=this.stack.pop();D.position.end=Mr(O.end)}function pe(O){A.call(this,O);const D=this.stack[this.stack.length-1];D.url=this.sliceSerialize(O)}function Me(O){A.call(this,O);const D=this.stack[this.stack.length-1];D.url="mailto:"+this.sliceSerialize(O)}function xe(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function ke(){return{type:"inlineCode",value:""}}function ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function It(){return{type:"emphasis",children:[]}}function zt(){return{type:"heading",depth:0,children:[]}}function pn(){return{type:"break"}}function Mn(){return{type:"html",value:""}}function gs(){return{type:"image",title:null,url:"",alt:null}}function On(){return{type:"link",title:null,url:"",children:[]}}function ui(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function Wu(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function nr(){return{type:"paragraph",children:[]}}function di(){return{type:"strong",children:[]}}function Ha(){return{type:"text",value:""}}function Ku(){return{type:"thematicBreak"}}}function Mr(e){return{line:e.line,column:e.column,offset:e.offset}}function oE(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?oE(e,r):u4(e,r)}}function u4(e,t){let n;for(n in t)if(sE.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Hx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ji({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ji({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ji({start:t.start,end:t.end})+") is still open")}function d4(e){const t=this;t.parser=n;function n(r){return l4(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function f4(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function h4(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function p4(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function m4(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g4(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y4(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=ai(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let i,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function v4(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function x4(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function iE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function w4(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return iE(e,t);const s={src:ai(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function b4(e,t){const n={src:ai(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function S4(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function _4(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return iE(e,t);const s={href:ai(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function C4(e,t){const n={href:ai(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function k4(e,t,n){const r=e.all(t),s=n?E4(n):aE(t),o={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(s||a!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:i};return e.patch(t,u),e.applyData(t,u)}function E4(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=aE(n[r])}return t}function aE(e){const t=e.spread;return t??e.children.length>1}function T4(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function R4(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function N4(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function I4(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function P4(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=fg(t.children[1]),l=$k(t.children[t.children.length-1]);a&&l&&(i.position={start:a,end:l}),s.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function A4(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],p={},m=i?i[l]:void 0;m&&(p.align=m);let w={type:"element",tagName:o,properties:p,children:[]};h&&(w.children=e.all(h),e.patch(h,w),w=e.applyData(h,w)),u.push(w)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function j4(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Vx=9,Wx=32;function M4(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(Kx(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(Kx(t.slice(s),s>0,!1)),o.join("")}function Kx(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===Vx||o===Wx;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===Vx||o===Wx;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function O4(e,t){const n={type:"text",value:M4(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function L4(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const D4={blockquote:f4,break:h4,code:p4,delete:m4,emphasis:g4,footnoteReference:y4,heading:v4,html:x4,imageReference:w4,image:b4,inlineCode:S4,linkReference:_4,link:C4,listItem:k4,list:T4,paragraph:R4,root:N4,strong:I4,table:P4,tableCell:j4,tableRow:A4,text:O4,thematicBreak:L4,toml:El,yaml:El,definition:El,footnoteDefinition:El};function El(){}const lE=-1,Ou=0,ea=1,$c=2,xg=3,wg=4,bg=5,Sg=6,cE=7,uE=8,qx=typeof self=="object"?self:globalThis,F4=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,i]=t[s];switch(o){case Ou:case lE:return n(i,s);case ea:{const a=n([],s);for(const l of i)a.push(r(l));return a}case $c:{const a=n({},s);for(const[l,u]of i)a[r(l)]=r(u);return a}case xg:return n(new Date(i),s);case wg:{const{source:a,flags:l}=i;return n(new RegExp(a,l),s)}case bg:{const a=n(new Map,s);for(const[l,u]of i)a.set(r(l),r(u));return a}case Sg:{const a=n(new Set,s);for(const l of i)a.add(r(l));return a}case cE:{const{name:a,message:l}=i;return n(new qx[a](l),s)}case uE:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:a}=new Uint8Array(i);return n(new DataView(a),i)}}return n(new qx[o](i),s)};return r},Gx=e=>F4(new Map,e)(0),ao="",{toString:z4}={},{keys:B4}=Object,Ni=e=>{const t=typeof e;if(t!=="object"||!e)return[Ou,t];const n=z4.call(e).slice(8,-1);switch(n){case"Array":return[ea,ao];case"Object":return[$c,ao];case"Date":return[xg,ao];case"RegExp":return[wg,ao];case"Map":return[bg,ao];case"Set":return[Sg,ao];case"DataView":return[ea,n]}return n.includes("Array")?[ea,n]:n.includes("Error")?[cE,n]:[$c,n]},Tl=([e,t])=>e===Ou&&(t==="function"||t==="symbol"),$4=(e,t,n,r)=>{const s=(i,a)=>{const l=r.push(i)-1;return n.set(a,l),l},o=i=>{if(n.has(i))return n.get(i);let[a,l]=Ni(i);switch(a){case Ou:{let d=i;switch(l){case"bigint":a=uE,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([lE],i)}return s([a,d],i)}case ea:{if(l){let p=i;return l==="DataView"?p=new Uint8Array(i.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(i)),s([l,[...p]],i)}const d=[],h=s([a,d],i);for(const p of i)d.push(o(p));return h}case $c:{if(l)switch(l){case"BigInt":return s([l,i.toString()],i);case"Boolean":case"Number":case"String":return s([l,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const d=[],h=s([a,d],i);for(const p of B4(i))(e||!Tl(Ni(i[p])))&&d.push([o(p),o(i[p])]);return h}case xg:return s([a,i.toISOString()],i);case wg:{const{source:d,flags:h}=i;return s([a,{source:d,flags:h}],i)}case bg:{const d=[],h=s([a,d],i);for(const[p,m]of i)(e||!(Tl(Ni(p))||Tl(Ni(m))))&&d.push([o(p),o(m)]);return h}case Sg:{const d=[],h=s([a,d],i);for(const p of i)(e||!Tl(Ni(p)))&&d.push(o(p));return h}}const{message:u}=i;return s([a,{name:l,message:u}],i)};return o},Yx=(e,{json:t,lossy:n}={})=>{const r=[];return $4(!(t||n),!!t,new Map,r)(e),r},Uc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Gx(Yx(e,t)):structuredClone(e):(e,t)=>Gx(Yx(e,t));function U4(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function V4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||U4,r=e.options.footnoteBackLabel||H4,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),p=ai(h.toLowerCase());let m=0;const w=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++m<=y;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,m);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...w)}else d.push(...w);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Uc(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const dE=function(e){if(e==null)return G4;if(typeof e=="function")return Lu(e);if(typeof e=="object")return Array.isArray(e)?W4(e):K4(e);if(typeof e=="string")return q4(e);throw new Error("Expected function, string, or object as test")};function W4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=dE(e[n]);return Lu(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function K4(e){const t=e;return Lu(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function q4(e){return Lu(t);function t(n){return n&&n.type===e}}function Lu(e){return t;function t(n,r,s){return!!(Y4(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function G4(){return!0}function Y4(e){return e!==null&&typeof e=="object"&&"type"in e}const fE=[],X4=!0,Xx=!1,Q4="skip";function J4(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=dE(s),i=r?-1:1;a(e,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=fE,w,y,b;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=Z4(n(l,d)),m[0]===Xx))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Q4)for(y=(r?g.children.length:-1)+i,b=d.concat(g);y>-1&&y<g.children.length;){const v=g.children[y];if(w=a(v,y,b)(),w[0]===Xx)return w;y=typeof w[1]=="number"?w[1]:y+i}}return m}}}function Z4(e){return Array.isArray(e)?e:typeof e=="number"?[X4,e]:e==null?fE:[e]}function hE(e,t,n,r){let s,o,i;typeof t=="function"&&typeof n!="function"?(o=void 0,i=t,s=n):(o=t,i=n,s=r),J4(e,o,a,s);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return i(l,h,d)}}const kh={}.hasOwnProperty,e$={};function t$(e,t){const n=t||e$,r=new Map,s=new Map,o=new Map,i={...D4,...n.handlers},a={all:u,applyData:r$,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:i,one:l,options:n,patch:n$,wrap:o$};return hE(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(kh.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,g=Uc(b);return g.children=a.all(d),g}return Uc(d)}return(a.options.unknownHandler||s$)(a,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const w=a.one(p[m],d);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Qx(w.value)),!Array.isArray(w)&&w.type==="element")){const y=w.children[0];y&&y.type==="text"&&(y.value=Qx(y.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function n$(e,t){e.position&&(t.position=zz(e))}function r$(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&o&&Object.assign(n.properties,Uc(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function s$(e,t){const n=t.data||{},r="value"in t&&!(kh.call(n,"hProperties")||kh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function o$(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Qx(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Jx(e,t){const n=t$(e,t),r=n.one(e,void 0),s=V4(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function i$(e,t){return e&&"run"in e?async function(n,r){const s=Jx(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Jx(n,{file:r,...e||t})}}function Zx(e){if(e)throw e}var Zl=Object.prototype.hasOwnProperty,pE=Object.prototype.toString,ew=Object.defineProperty,tw=Object.getOwnPropertyDescriptor,nw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):pE.call(t)==="[object Array]"},rw=function(t){if(!t||pE.call(t)!=="[object Object]")return!1;var n=Zl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Zl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||Zl.call(t,s)},sw=function(t,n){ew&&n.name==="__proto__"?ew(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},ow=function(t,n){if(n==="__proto__")if(Zl.call(t,n)){if(tw)return tw(t,n).value}else return;return t[n]},a$=function e(){var t,n,r,s,o,i,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=ow(a,n),s=ow(t,n),a!==s&&(d&&s&&(rw(s)||(o=nw(s)))?(o?(o=!1,i=r&&nw(r)?r:[]):i=r&&rw(r)?r:{},sw(a,{name:n,newValue:e(d,i,s)})):typeof s<"u"&&sw(a,{name:n,newValue:s}));return a};const Yd=Jo(a$);function Eh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function l$(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);a(null,...s);function a(l,...u){const d=e[++o];let h=-1;if(l){i(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?c$(d,a)(...u):i(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function c$(e,t){let n;return r;function r(...i){const a=e.length>i.length;let l;a&&i.push(s);try{l=e.apply(this,i)}catch(u){const d=u;if(a&&n)throw d;return s(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,s):l instanceof Error?s(l):o(l))}function s(i,...a){n||(n=!0,t(i,...a))}function o(i){s(null,i)}}const Bn={basename:u$,dirname:d$,extname:f$,join:h$,sep:"/"};function u$(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ua(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function d$(e){if(Ua(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function f$(e){Ua(e);let t=e.length,n=-1,r=0,s=-1,o=0,i;for(;t--;){const a=e.codePointAt(t);if(a===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),a===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function h$(...e){let t=-1,n;for(;++t<e.length;)Ua(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":p$(n)}function p$(e){Ua(e);const t=e.codePointAt(0)===47;let n=m$(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function m$(e,t){let n="",r=0,s=-1,o=0,i=-1,a,l;for(;++i<=e.length;){if(i<e.length)a=e.codePointAt(i);else{if(a===47)break;a=47}if(a===47){if(!(s===i-1||o===1))if(s!==i-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=i,o=0;continue}}else if(n.length>0){n="",r=0,s=i,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,i):n=e.slice(s+1,i),r=i-s-1;s=i,o=0}else a===46&&o>-1?o++:o=-1}return n}function Ua(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const g$={cwd:y$};function y$(){return"/"}function Th(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function v$(e){if(typeof e=="string")e=new URL(e);else if(!Th(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return x$(e)}function x$(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Xd=["history","path","basename","stem","extname","dirname"];class mE{constructor(t){let n;t?Th(t)?n={path:t}:typeof t=="string"||w$(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":g$.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xd.length;){const o=Xd[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Xd.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Bn.basename(this.path):void 0}set basename(t){Jd(t,"basename"),Qd(t,"basename"),this.path=Bn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Bn.dirname(this.path):void 0}set dirname(t){iw(this.basename,"dirname"),this.path=Bn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Bn.extname(this.path):void 0}set extname(t){if(Qd(t,"extname"),iw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Th(t)&&(t=v$(t)),Jd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Bn.basename(this.path,this.extname):void 0}set stem(t){Jd(t,"stem"),Qd(t,"stem"),this.path=Bn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new wt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Qd(e,t){if(e&&e.includes(Bn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bn.sep+"`")}function Jd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function iw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function w$(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const b$=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},S$={}.hasOwnProperty;class _g extends b${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=l$()}copy(){const t=new _g;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Yd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(tf("data",this.frozen),this.namespace[t]=n,this):S$.call(this.namespace,t)&&this.namespace[t]||void 0:t?(tf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Rl(t),r=this.parser||this.Parser;return Zd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Zd("process",this.parser||this.Parser),ef("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,i){const a=Rl(t),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return u(d);const m=h,w=r.stringify(m,p);k$(w)?p.value=w:p.result=w,u(d,p)});function u(d,h){d||!h?i(d):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Zd("processSync",this.parser||this.Parser),ef("processSync",this.compiler||this.Compiler),this.process(t,s),lw("processSync","process",n),r;function s(o,i){n=!0,Zx(o),r=i}}run(t,n,r){aw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(i,a){const l=Rl(n);s.run(t,l,u);function u(d,h,p){const m=h||t;d?a(d):i?i(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),lw("runSync","run",r),s;function o(i,a){Zx(i),s=a,r=!0}}stringify(t,n){this.freeze();const r=Rl(n),s=this.compiler||this.Compiler;return ef("stringify",s),aw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(tf("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(s.settings=Yd(!0,s.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...w]=d;const y=r[p][1];Eh(y)&&Eh(m)&&(m=Yd(!0,y,m)),r[p]=[u,m,...w]}}}}const _$=new _g().freeze();function Zd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ef(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function tf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aw(e){if(!Eh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function lw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Rl(e){return C$(e)?e:new mE(e)}function C$(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function k$(e){return typeof e=="string"||E$(e)}function E$(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const T$="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",cw=[],uw={allowDangerousHtml:!0},R$=/^(https?|ircs?|mailto|xmpp)$/i,N$=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function I$(e){const t=P$(e),n=A$(e);return j$(t.runSync(t.parse(n),n),e)}function P$(e){const t=e.rehypePlugins||cw,n=e.remarkPlugins||cw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uw}:uw;return _$().use(d4).use(n).use(i$,r).use(t)}function A$(e){const t=e.children||"",n=new mE;return typeof t=="string"&&(n.value=t),n}function j$(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,i=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||M$;for(const d of N$)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+T$+d.id,void 0);return hE(e,u),Vz(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return i?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in Kd)if(Object.hasOwn(Kd,m)&&Object.hasOwn(d.properties,m)){const w=d.properties[m],y=Kd[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(w||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function M$(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||R$.test(e.slice(0,t))?e:""}const O$=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),L$=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:s,data:o,...i}=r||{};return i};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&O$(e.children,t.children)},Cg=(e,t)=>L$(e.node,t.node),D$=(e={})=>Object.fromEntries(Object.entries(e??{}).map(([t,n])=>{if(!n)return[t,n];const r=n,s=({node:o,...i})=>c.jsx(r,{...i});return[t,f.memo(s,Cg)]})),kg=f.createContext(null),gE=()=>f.useContext(kg)!==null,F$=({children:e,...t})=>c.jsx(kg.Provider,{value:t,children:e}),z$=f.memo(F$,Cg),B$=({node:e,...t})=>c.jsx("pre",{...t}),$$=({node:e,...t})=>c.jsx("code",{...t}),Eg=({node:e,components:{Pre:t,Code:n},code:r})=>c.jsx(t,{children:c.jsx(n,{node:e,children:r})}),U$=()=>null,H$=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},language:o,code:i})=>{const a=f.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=o?r:Eg;return c.jsxs(c.Fragment,{children:[c.jsx(s,{node:e,language:o,code:i}),c.jsx(l,{node:e,components:a,language:o??"unknown",code:i})]})},dw=({className:e,...t})=>({className:n,...r})=>({className:G(e,n),...t,...r}),V$=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},componentsByLanguage:o={},children:i,...a})=>{var b,g,v;const l=f.useContext(kg),u=dw(l),d=Ge(x=>c.jsx(t,{...u(x)})),h=dw(a),p=Ge(x=>c.jsx(n,{...h(x)})),m=((b=/language-(\w+)/.exec(a.className||""))==null?void 0:b[1])??"";if(typeof i!="string")return c.jsx(Eg,{node:e,components:{Pre:d,Code:p},code:i});const w=((g=o[m])==null?void 0:g.SyntaxHighlighter)??r,y=((v=o[m])==null?void 0:v.CodeHeader)??s;return c.jsx(H$,{node:e,components:{Pre:d,Code:p,SyntaxHighlighter:w,CodeHeader:y},language:m||"unknown",code:i})},W$=({node:e,components:t,componentsByLanguage:n,...r})=>gE()?c.jsx(V$,{node:e,components:t,componentsByLanguage:n,...r}):c.jsx(t.Code,{...r}),K$=f.memo(W$,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&Cg(e,t)),{useSmooth:q$,useSmoothStatus:G$,withSmoothContextProvider:Y$}=Vp,X$=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...s})=>{const o=VC(),i=f.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:a}=q$(i,n),{pre:l=B$,code:u=$$,SyntaxHighlighter:d=Eg,CodeHeader:h=U$}=e??{},p=f.useMemo(()=>({Pre:l,Code:u,SyntaxHighlighter:d,CodeHeader:h}),[l,u,d,h]),m=Ge(y=>c.jsx(K$,{components:p,componentsByLanguage:t,...y})),w=f.useMemo(()=>{const{pre:y,code:b,SyntaxHighlighter:g,CodeHeader:v,...x}=e??{};return{...x,pre:z$,code:m}},[m,e]);return c.jsx(I$,{components:w,...s,children:a})},yE=f.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},s)=>{const o=G$();return c.jsx(n,{"data-status":o.type,...t,className:G(e,t==null?void 0:t.className),ref:s,children:c.jsx(X$,{...r})})});yE.displayName="MarkdownTextPrimitive";const Q$=Y$(yE);var{withSmoothContextProvider:J$,useSmoothStatus:Z$}=Vp,e5=D$({h1:({className:e,...t})=>c.jsx("h1",{className:G("aui-md-h1",e),...t}),h2:({className:e,...t})=>c.jsx("h2",{className:G("aui-md-h2",e),...t}),h3:({className:e,...t})=>c.jsx("h3",{className:G("aui-md-h3",e),...t}),h4:({className:e,...t})=>c.jsx("h4",{className:G("aui-md-h4",e),...t}),h5:({className:e,...t})=>c.jsx("h5",{className:G("aui-md-h5",e),...t}),h6:({className:e,...t})=>c.jsx("h6",{className:G("aui-md-h6",e),...t}),p:({className:e,...t})=>c.jsx("p",{className:G("aui-md-p",e),...t}),a:({className:e,...t})=>c.jsx("a",{className:G("aui-md-a",e),...t}),blockquote:({className:e,...t})=>c.jsx("blockquote",{className:G("aui-md-blockquote",e),...t}),ul:({className:e,...t})=>c.jsx("ul",{className:G("aui-md-ul",e),...t}),ol:({className:e,...t})=>c.jsx("ol",{className:G("aui-md-ol",e),...t}),hr:({className:e,...t})=>c.jsx("hr",{className:G("aui-md-hr",e),...t}),table:({className:e,...t})=>c.jsx("table",{className:G("aui-md-table",e),...t}),th:({className:e,...t})=>c.jsx("th",{className:G("aui-md-th",e),...t}),td:({className:e,...t})=>c.jsx("td",{className:G("aui-md-td",e),...t}),tr:({className:e,...t})=>c.jsx("tr",{className:G("aui-md-tr",e),...t}),sup:({className:e,...t})=>c.jsx("sup",{className:G("aui-md-sup",e),...t}),pre:({className:e,...t})=>c.jsx("pre",{className:G("aui-md-pre",e),...t}),code:function({className:t,...n}){const r=gE();return c.jsx("code",{className:G(!r&&"aui-md-inline-code",t),...n})},CodeHeader:qF}),t5=({className:e,components:t,...n}={})=>{const r={...e5,...Object.fromEntries(Object.entries(t??{}).filter(([o,i])=>i!==void 0))},s=()=>{const o=Z$();return c.jsx(Q$,{components:r,...n,className:G(o.type==="running"&&"aui-md-running",e)})};return s.displayName="MarkdownText",f.memo(J$(s),()=>!0)};function vE(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Rh(e,[t,n]){return Math.min(n,Math.max(t,e))}function n5(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Tg="ScrollArea",[xE]=Jn(Tg),[r5,hn]=xE(Tg),wE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=f.useState(null),[u,d]=f.useState(null),[h,p]=f.useState(null),[m,w]=f.useState(null),[y,b]=f.useState(null),[g,v]=f.useState(0),[x,C]=f.useState(0),[N,k]=f.useState(!1),[T,I]=f.useState(!1),M=ye(t,L=>l(L)),A=xu(s);return c.jsx(r5,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:C,children:c.jsx(ae.div,{dir:A,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});wE.displayName=Tg;var bE="ScrollAreaViewport",SE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=hn(bE,n),a=f.useRef(null),l=ye(t,a,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});SE.displayName=bE;var tr="ScrollAreaScrollbar",_E=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=hn(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return f.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?c.jsx(s5,{...r,ref:t,forceMount:n}):s.type==="scroll"?c.jsx(o5,{...r,ref:t,forceMount:n}):s.type==="auto"?c.jsx(CE,{...r,ref:t,forceMount:n}):s.type==="always"?c.jsx(Rg,{...r,ref:t}):null});_E.displayName=tr;var s5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=hn(tr,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(er,{present:n||o,children:c.jsx(CE,{"data-state":o?"visible":"hidden",...r,ref:t})})}),o5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=hn(tr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Fu(()=>l("SCROLL_END"),100),[a,l]=n5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(l("SCROLL"),i()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),c.jsx(er,{present:n||a!=="hidden",children:c.jsx(Rg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:J(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),CE=f.forwardRef((e,t)=>{const n=hn(tr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=f.useState(!1),a=e.orientation==="horizontal",l=Fu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return Qo(n.viewport,l),Qo(n.content,l),c.jsx(er,{present:r||o,children:c.jsx(Rg,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Rg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=hn(tr,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=NE(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return d5(p,i.current,a,m)}return n==="horizontal"?c.jsx(i5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=fw(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?c.jsx(a5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=fw(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),i5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=hn(tr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=ye(t,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(EE,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Du(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),PE(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Vc(i.paddingLeft),paddingEnd:Vc(i.paddingRight)}})}})}),a5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=hn(tr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=ye(t,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(EE,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Du(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),PE(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Vc(i.paddingTop),paddingEnd:Vc(i.paddingBottom)}})}})}),[l5,kE]=xE(tr),EE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,m=hn(tr,n),[w,y]=f.useState(null),b=ye(t,M=>y(M)),g=f.useRef(null),v=f.useRef(""),x=m.viewport,C=r.content-r.viewport,N=Ge(d),k=Ge(l),T=Fu(h,10);function I(M){if(g.current){const A=M.clientX-g.current.left,L=M.clientY-g.current.top;u({x:A,y:L})}}return f.useEffect(()=>{const M=A=>{const L=A.target;(w==null?void 0:w.contains(L))&&N(A,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,w,C,N]),f.useEffect(k,[r,k]),Qo(w,T),Qo(m.content,T),c.jsx(l5,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ge(o),onThumbPointerUp:Ge(i),onThumbPositionChange:k,onThumbPointerDown:Ge(a),children:c.jsx(ae.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:J(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(M))}),onPointerMove:J(e.onPointerMove,I),onPointerUp:J(e.onPointerUp,M=>{const A=M.target;A.hasPointerCapture(M.pointerId)&&A.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),Hc="ScrollAreaThumb",TE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=kE(Hc,e.__scopeScrollArea);return c.jsx(er,{present:n||s.hasThumb,children:c.jsx(c5,{ref:t,...r})})}),c5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=hn(Hc,n),i=kE(Hc,n),{onThumbPositionChange:a}=i,l=ye(t,h=>i.onThumbChange(h)),u=f.useRef(void 0),d=Fu(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!u.current){const m=f5(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,a]),c.jsx(ae.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,y=h.clientY-m.top;i.onThumbPointerDown({x:w,y})}),onPointerUp:J(e.onPointerUp,i.onThumbPointerUp)})});TE.displayName=Hc;var Ng="ScrollAreaCorner",RE=f.forwardRef((e,t)=>{const n=hn(Ng,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(u5,{...e,ref:t}):null});RE.displayName=Ng;var u5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=hn(Ng,n),[o,i]=f.useState(0),[a,l]=f.useState(0),u=!!(o&&a);return Qo(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Qo(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?c.jsx(ae.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vc(e){return e?parseInt(e,10):0}function NE(e,t){const n=e/t;return isNaN(n)?0:n}function Du(e){const t=NE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function d5(e,t,n,r="ltr"){const s=Du(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return IE([l,u],h)(e)}function fw(e,t,n="ltr"){const r=Du(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=Rh(e,l);return IE([0,i],[0,a])(u)}function IE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function PE(e,t){return e>0&&e<t}var f5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Fu(e,t){const n=Ge(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Qo(e,t){const n=Ge(t);et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var AE=wE,jE=SE,Nh=_E,Ih=TE,h5=RE,p5=[" ","Enter","ArrowUp","ArrowDown"],m5=[" ","Enter"],Us="Select",[zu,Bu,g5]=K_(Us),[li]=Jn(Us,[g5,ku]),$u=ku(),[y5,hs]=li(Us),[v5,x5]=li(Us),ME=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:w}=e,y=$u(t),[b,g]=f.useState(null),[v,x]=f.useState(null),[C,N]=f.useState(!1),k=xu(u),[T,I]=zs({prop:r,defaultProp:s??!1,onChange:o,caller:Us}),[M,A]=zs({prop:i,defaultProp:a,onChange:l,caller:Us}),L=f.useRef(null),R=b?w||!!b.closest("form"):!0,[U,$]=f.useState(new Set),W=Array.from(U).map(V=>V.props.value).join(";");return c.jsx(wC,{...y,children:c.jsxs(y5,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:pr(),value:M,onValueChange:A,open:T,onOpenChange:I,dir:k,triggerPointerDownPosRef:L,disabled:p,children:[c.jsx(zu.Provider,{scope:t,children:c.jsx(v5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(V=>{$(X=>new Set(X).add(V))},[]),onNativeOptionRemove:f.useCallback(V=>{$(X=>{const j=new Set(X);return j.delete(V),j})},[]),children:n})}),R?c.jsxs(r1,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:V=>A(V.target.value),disabled:p,form:w,children:[M===void 0?c.jsx("option",{value:""}):null,Array.from(U)]},W):null]})})};ME.displayName=Us;var OE="SelectTrigger",LE=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=$u(n),i=hs(OE,n),a=i.disabled||r,l=ye(t,i.onTriggerChange),u=Bu(n),d=f.useRef("touch"),[h,p,m]=o1(y=>{const b=u().filter(x=>!x.disabled),g=b.find(x=>x.value===i.value),v=i1(b,y,g);v!==void 0&&i.onValueChange(v.value)}),w=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(bC,{asChild:!0,...o,children:c.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":s1(i.value)?"":void 0,...s,ref:l,onClick:J(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:J(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:J(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&p5.includes(y.key)&&(w(),y.preventDefault())})})})});LE.displayName=OE;var DE="SelectValue",FE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=hs(DE,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,h=ye(t,l.onValueNodeChange);return et(()=>{u(d)},[u,d]),c.jsx(ae.span,{...a,ref:h,style:{pointerEvents:"none"},children:s1(l.value)?c.jsx(c.Fragment,{children:i}):o})});FE.displayName=DE;var w5="SelectIcon",zE=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});zE.displayName=w5;var b5="SelectPortal",BE=e=>c.jsx(rm,{asChild:!0,...e});BE.displayName=b5;var Hs="SelectContent",$E=f.forwardRef((e,t)=>{const n=hs(Hs,e.__scopeSelect),[r,s]=f.useState();if(et(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ni.createPortal(c.jsx(UE,{scope:e.__scopeSelect,children:c.jsx(zu.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(HE,{...e,ref:t})});$E.displayName=Hs;var yn=10,[UE,ps]=li(Hs),S5="SelectContentImpl",_5=qo("SelectContent.RemoveScroll"),HE=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b,...g}=e,v=hs(Hs,n),[x,C]=f.useState(null),[N,k]=f.useState(null),T=ye(t,Q=>C(Q)),[I,M]=f.useState(null),[A,L]=f.useState(null),R=Bu(n),[U,$]=f.useState(!1),W=f.useRef(!1);f.useEffect(()=>{if(x)return PC(x)},[x]),X_();const V=f.useCallback(Q=>{const[pe,...Me]=R().map(ke=>ke.ref.current),[xe]=Me.slice(-1),me=document.activeElement;for(const ke of Q)if(ke===me||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===pe&&N&&(N.scrollTop=0),ke===xe&&N&&(N.scrollTop=N.scrollHeight),ke==null||ke.focus(),document.activeElement!==me))return},[R,N]),X=f.useCallback(()=>V([I,x]),[V,I,x]);f.useEffect(()=>{U&&X()},[U,X]);const{onOpenChange:j,triggerPointerDownPosRef:B}=v;f.useEffect(()=>{if(x){let Q={x:0,y:0};const pe=xe=>{var me,ke;Q={x:Math.abs(Math.round(xe.pageX)-(((me=B.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((ke=B.current)==null?void 0:ke.y)??0))}},Me=xe=>{Q.x<=10&&Q.y<=10?xe.preventDefault():x.contains(xe.target)||j(!1),document.removeEventListener("pointermove",pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Me,{capture:!0})}}},[x,j,B]),f.useEffect(()=>{const Q=()=>j(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[j]);const[_,ne]=o1(Q=>{const pe=R().filter(me=>!me.disabled),Me=pe.find(me=>me.ref.current===document.activeElement),xe=i1(pe,Q,Me);xe&&setTimeout(()=>xe.ref.current.focus())}),he=f.useCallback((Q,pe,Me)=>{const xe=!W.current&&!Me;(v.value!==void 0&&v.value===pe||xe)&&(M(Q),xe&&(W.current=!0))},[v.value]),E=f.useCallback(()=>x==null?void 0:x.focus(),[x]),Ne=f.useCallback((Q,pe,Me)=>{const xe=!W.current&&!Me;(v.value!==void 0&&v.value===pe||xe)&&L(Q)},[v.value]),Ye=r==="popper"?Ph:VE,ve=Ye===Ph?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(UE,{scope:n,content:x,viewport:N,onViewportChange:k,itemRefCallback:he,selectedItem:I,onItemLeave:E,itemTextRefCallback:Ne,focusSelectedItem:X,selectedItemText:A,position:r,isPositioned:U,searchRef:_,children:c.jsx(sm,{as:_5,allowPinchZoom:!0,children:c.jsx(Gp,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:J(s,Q=>{var pe;(pe=v.trigger)==null||pe.focus({preventScroll:!0}),Q.preventDefault()}),children:c.jsx(wu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(Ye,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...g,...ve,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:J(g.onKeyDown,Q=>{const pe=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!pe&&Q.key.length===1&&ne(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let xe=R().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const me=Q.target,ke=xe.indexOf(me);xe=xe.slice(ke+1)}setTimeout(()=>V(xe)),Q.preventDefault()}})})})})})})});HE.displayName=S5;var C5="SelectItemAlignedPosition",VE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=hs(Hs,n),i=ps(Hs,n),[a,l]=f.useState(null),[u,d]=f.useState(null),h=ye(t,T=>d(T)),p=Bu(n),m=f.useRef(!1),w=f.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&b&&g){const T=o.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(o.dir!=="rtl"){const me=A.left-I.left,ke=M.left-me,ot=T.left-ke,It=T.width+ot,zt=Math.max(It,I.width),pn=window.innerWidth-yn,Mn=Rh(ke,[yn,Math.max(yn,pn-zt)]);a.style.minWidth=It+"px",a.style.left=Mn+"px"}else{const me=I.right-A.right,ke=window.innerWidth-M.right-me,ot=window.innerWidth-T.right-ke,It=T.width+ot,zt=Math.max(It,I.width),pn=window.innerWidth-yn,Mn=Rh(ke,[yn,Math.max(yn,pn-zt)]);a.style.minWidth=It+"px",a.style.right=Mn+"px"}const L=p(),R=window.innerHeight-yn*2,U=y.scrollHeight,$=window.getComputedStyle(u),W=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),X=parseInt($.borderBottomWidth,10),j=parseInt($.paddingBottom,10),B=W+V+U+j+X,_=Math.min(b.offsetHeight*5,B),ne=window.getComputedStyle(y),he=parseInt(ne.paddingTop,10),E=parseInt(ne.paddingBottom,10),Ne=T.top+T.height/2-yn,Ye=R-Ne,ve=b.offsetHeight/2,Q=b.offsetTop+ve,pe=W+V+Q,Me=B-pe;if(pe<=Ne){const me=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const ke=u.clientHeight-y.offsetTop-y.offsetHeight,ot=Math.max(Ye,ve+(me?E:0)+ke+X),It=pe+ot;a.style.height=It+"px"}else{const me=L.length>0&&b===L[0].ref.current;a.style.top="0px";const ot=Math.max(Ne,W+y.offsetTop+(me?he:0)+ve)+Me;a.style.height=ot+"px",y.scrollTop=pe-Ne+y.offsetTop}a.style.margin=`${yn}px 0`,a.style.minHeight=_+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,b,g,o.dir,r]);et(()=>x(),[x]);const[C,N]=f.useState();et(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(T=>{T&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return c.jsx(E5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(ae.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VE.displayName=C5;var k5="SelectPopperPosition",Ph=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=yn,...o}=e,i=$u(n);return c.jsx(SC,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ph.displayName=k5;var[E5,Ig]=li(Hs,{}),Ah="SelectViewport",WE=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=ps(Ah,n),i=Ig(Ah,n),a=ye(t,o.onViewportChange),l=f.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(zu.Slot,{scope:n,children:c.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const w=window.innerHeight-yn*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(y,b);if(g<w){const v=g+m,x=Math.min(w,v),C=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});WE.displayName=Ah;var KE="SelectGroup",[T5,R5]=li(KE),qE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=pr();return c.jsx(T5,{scope:n,id:s,children:c.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});qE.displayName=KE;var GE="SelectLabel",YE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=R5(GE,n);return c.jsx(ae.div,{id:s.id,...r,ref:t})});YE.displayName=GE;var Wc="SelectItem",[N5,XE]=li(Wc),QE=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=hs(Wc,n),l=ps(Wc,n),u=a.value===r,[d,h]=f.useState(o??""),[p,m]=f.useState(!1),w=ye(t,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),y=pr(),b=f.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(N5,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:f.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(zu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(ae.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:J(i.onFocus,()=>m(!0)),onBlur:J(i.onBlur,()=>m(!1)),onClick:J(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:J(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:J(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:J(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:J(i.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(m5.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});QE.displayName=Wc;var Di="SelectItemText",JE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=hs(Di,n),a=ps(Di,n),l=XE(Di,n),u=x5(Di,n),[d,h]=f.useState(null),p=ye(t,g=>h(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,w=f.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return et(()=>(y(w),()=>b(w)),[y,b,w]),c.jsxs(c.Fragment,{children:[c.jsx(ae.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ni.createPortal(o.children,i.valueNode):null]})});JE.displayName=Di;var ZE="SelectItemIndicator",e1=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return XE(ZE,n).isSelected?c.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});e1.displayName=ZE;var jh="SelectScrollUpButton",I5=f.forwardRef((e,t)=>{const n=ps(jh,e.__scopeSelect),r=Ig(jh,e.__scopeSelect),[s,o]=f.useState(!1),i=ye(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(t1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});I5.displayName=jh;var Mh="SelectScrollDownButton",P5=f.forwardRef((e,t)=>{const n=ps(Mh,e.__scopeSelect),r=Ig(Mh,e.__scopeSelect),[s,o]=f.useState(!1),i=ye(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(t1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});P5.displayName=Mh;var t1=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=ps("SelectScrollButton",n),i=f.useRef(null),a=Bu(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),et(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:J(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:J(s.onPointerLeave,()=>{l()})})}),A5="SelectSeparator",n1=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});n1.displayName=A5;var Oh="SelectArrow",j5=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$u(n),o=hs(Oh,n),i=ps(Oh,n);return o.open&&i.position==="popper"?c.jsx(_C,{...s,...r,ref:t}):null});j5.displayName=Oh;var M5="SelectBubbleInput",r1=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=ye(r,s),i=vE(t);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),c.jsx(ae.select,{...n,style:{...y0,...n.style},ref:o,defaultValue:t})});r1.displayName=M5;function s1(e){return e===""||e===void 0}function o1(e){const t=Ge(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const a=n.current+i;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function i1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=O5(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function O5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var L5=ME,D5=LE,F5=FE,z5=zE,B5=BE,$5=$E,U5=WE,H5=qE,V5=YE,W5=QE,K5=JE,q5=e1,G5=n1,Uu="Switch",[Y5]=Jn(Uu),[X5,Q5]=Y5(Uu),a1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=e,[p,m]=f.useState(null),w=ye(t,x=>m(x)),y=f.useRef(!1),b=p?d||!!p.closest("form"):!0,[g,v]=zs({prop:s,defaultProp:o??!1,onChange:u,caller:Uu});return c.jsxs(X5,{scope:n,checked:g,disabled:a,children:[c.jsx(ae.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":d1(g),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:w,onClick:J(e.onClick,x=>{v(C=>!C),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&c.jsx(u1,{control:p,bubbles:!y.current,name:r,value:l,checked:g,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});a1.displayName=Uu;var l1="SwitchThumb",c1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=Q5(l1,n);return c.jsx(ae.span,{"data-state":d1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});c1.displayName=l1;var J5="SwitchBubbleInput",u1=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=f.useRef(null),a=ye(i,o),l=vE(n),u=uC(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});u1.displayName=J5;function d1(e){return e?"checked":"unchecked"}var Z5=a1,eU=c1,Hu="Tabs",[tU]=Jn(Hu,[kC]),f1=kC(),[nU,Pg]=tU(Hu),h1=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=xu(a),[h,p]=zs({prop:r,onChange:s,defaultProp:o??"",caller:Hu});return c.jsx(nU,{scope:n,baseId:pr(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:l,children:c.jsx(ae.div,{dir:d,"data-orientation":i,...u,ref:t})})});h1.displayName=Hu;var p1="TabsList",m1=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Pg(p1,n),i=f1(n);return c.jsx(IM,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(ae.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});m1.displayName=p1;var g1="TabsTrigger",y1=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Pg(g1,n),a=f1(n),l=w1(i.baseId,r),u=b1(i.baseId,r),d=r===i.value;return c.jsx(PM,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:J(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:J(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:J(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});y1.displayName=g1;var v1="TabsContent",x1=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=Pg(v1,n),l=w1(a.baseId,r),u=b1(a.baseId,r),d=r===a.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(er,{present:s||d,children:({present:p})=>c.jsx(ae.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});x1.displayName=v1;function w1(e,t){return`${e}-trigger-${t}`}function b1(e,t){return`${e}-content-${t}`}var rU=h1,sU=m1,oU=y1,iU=x1;const Cr={asChild:{type:"boolean"}},ec={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},S1={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},aU=["1","2","3","4"],lU={...Cr,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:aU,default:"3",responsive:!0},width:ec.width,minWidth:ec.minWidth,maxWidth:{...ec.maxWidth,default:"600px"},...S1},_1=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],kr={color:{type:"enum",values:_1,default:void 0}},Ag={color:{type:"enum",values:_1,default:""}},ms={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},cU=["normal","start","end","both"],C1={trim:{type:"enum",className:"rt-r-lt",values:cU,responsive:!0}},uU=["left","center","right"],k1={align:{type:"enum",className:"rt-r-ta",values:uU,responsive:!0}},dU=["wrap","nowrap","pretty","balance"],E1={wrap:{type:"enum",className:"rt-r-tw",values:dU,responsive:!0}},T1={truncate:{type:"boolean",className:"rt-truncate"}},fU=["light","regular","medium","bold"],R1={weight:{type:"enum",className:"rt-r-weight",values:fU,responsive:!0}},hU=["h1","h2","h3","h4","h5","h6"],pU=["1","2","3","4","5","6","7","8","9"],mU={as:{type:"enum",values:hU,default:"h1"},...Cr,size:{type:"enum",className:"rt-r-size",values:pU,default:"6",responsive:!0},...R1,...k1,...C1,...T1,...E1,...kr,...ms},gU=["initial","xs","sm","md","lg","xl"],jg=new Set(gU);function N1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ta(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>jg.has(t))}function Dr({className:e,customProperties:t,...n}){const r=Kc({allowArbitraryValues:!0,className:e,...n}),s=yU({customProperties:t,...n});return[r,s]}function Kc({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return hw(n,t,s);if(ta(t)){const i=t;for(const a in i){if(!N1(i,a)||!jg.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const u=hw(n,l,s),d=a==="initial"?u:`${a}:${u}`;o.push(d)}else if(e){const u=a==="initial"?n:`${a}:${n}`;o.push(u)}}}return o.join(" ")}if(e)return n}}function hw(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function yU({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),ta(t)){const o=t;for(const i in o){if(!N1(o,i)||!jg.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function qc(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function vU(...e){return Object.assign({},...e)}function st(e,...t){let n,r;const s={...e},o=vU(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!ta(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const u="responsive"in l;if(!a||ta(a)&&!u)continue;if(ta(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=Kc({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=G(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[h,p]=Dr({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=qc(r,p),n=G(n,h);continue}if(l.type==="boolean"&&a){n=G(n,l.className);continue}}}return s.className=G(n,e.className),s.style=qc(r,e.style),s}const ws=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],bt={m:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:ws,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},Mg=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=st(e,mU,bt);return f.createElement(ds,{"data-accent-color":i,...a,ref:t,className:G("rt-Heading",r)},s?n:f.createElement(o,null,n))});Mg.displayName="Heading";const xU=["span","div","label","p"],wU=["1","2","3","4","5","6","7","8","9"],bU={as:{type:"enum",values:xU,default:"span"},...Cr,size:{type:"enum",className:"rt-r-size",values:wU,responsive:!0},...R1,...k1,...C1,...T1,...E1,...kr,...ms},q=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=st(e,bU,bt);return f.createElement(ds,{"data-accent-color":i,...a,ref:t,className:G("rt-Text",r)},s?n:f.createElement(o,null,n))});q.displayName="Text";function SU(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const _U=["none","small","medium","large","full"],ci={radius:{type:"enum",values:_U,default:void 0}},Wt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},lo=()=>{},Gc=f.createContext(void 0);function CU(){const e=f.useContext(Gc);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const Vu=f.forwardRef((e,t)=>f.useContext(Gc)===void 0?f.createElement(T0,{delayDuration:200},f.createElement(Mj,{dir:"ltr"},f.createElement(I1,{...e,ref:t}))):f.createElement(Og,{...e,ref:t}));Vu.displayName="Theme";const I1=f.forwardRef((e,t)=>{const{appearance:n=Wt.appearance.default,accentColor:r=Wt.accentColor.default,grayColor:s=Wt.grayColor.default,panelBackground:o=Wt.panelBackground.default,radius:i=Wt.radius.default,scaling:a=Wt.scaling.default,hasBackground:l=Wt.hasBackground.default,...u}=e,[d,h]=f.useState(n);f.useEffect(()=>h(n),[n]);const[p,m]=f.useState(r);f.useEffect(()=>m(r),[r]);const[w,y]=f.useState(s);f.useEffect(()=>y(s),[s]);const[b,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[v,x]=f.useState(i);f.useEffect(()=>x(i),[i]);const[C,N]=f.useState(a);return f.useEffect(()=>N(a),[a]),f.createElement(Og,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:p,grayColor:w,panelBackground:b,radius:v,scaling:C,onAppearanceChange:h,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:x,onScalingChange:N})});I1.displayName="ThemeRoot";const Og=f.forwardRef((e,t)=>{const n=f.useContext(Gc),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??Wt.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??Wt.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??Wt.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??Wt.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Wt.radius.default,scaling:h=(n==null?void 0:n.scaling)??Wt.scaling.default,onAppearanceChange:p=lo,onAccentColorChange:m=lo,onGrayColorChange:w=lo,onPanelBackgroundChange:y=lo,onRadiusChange:b=lo,onScalingChange:g=lo,...v}=e,x=r?ds:"div",C=l==="auto"?SU(a):l,N=e.appearance==="light"||e.appearance==="dark",k=o===void 0?s||N:o;return f.createElement(Gc.Provider,{value:f.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:C,panelBackground:u,radius:d,scaling:h,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:w,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:g}),[i,a,l,C,u,d,h,p,m,w,y,b,g])},f.createElement(x,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":C,"data-has-background":k?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":h,ref:t,...v,className:G("radix-themes",{light:i==="light",dark:i==="dark"},v.className)}))});Og.displayName="ThemeImpl";const P1=e=>{if(!f.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${f.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function kU(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=f.Children.only(r);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const EU=["1","2","3"],TU=["solid","soft","surface","outline"],RU={...Cr,size:{type:"enum",className:"rt-r-size",values:EU,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:TU,default:"soft"},...Ag,...ms,...ci},Lg=f.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=st(e,RU,bt),a=n?ds:"span";return f.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:G("rt-reset","rt-Badge",r)})});Lg.displayName="Badge";const NU=ds,bs=["0","1","2","3","4","5","6","7","8","9"],tc={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:bs,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:bs,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:bs,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:bs,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:bs,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:bs,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:bs,responsive:!0}},nf=["visible","hidden","clip","scroll","auto"],IU=["static","relative","absolute","fixed","sticky"],Ii=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],PU=["0","1"],AU=["0","1"],jU=["start","center","end","baseline","stretch"],MU=["start","center","end","baseline","stretch"],OU={...tc,...ec,...S1,position:{type:"enum",className:"rt-r-position",values:IU,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:Ii,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:Ii,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:Ii,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:Ii,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:Ii,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:nf,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:nf,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:nf,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:PU,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:AU,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:jU,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:MU,responsive:!0}},LU=["1","2","3","4"],DU=["classic","solid","soft","surface","outline","ghost"],pw={...Cr,size:{type:"enum",className:"rt-r-size",values:LU,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:DU,default:"solid"},...Ag,...ms,...ci,loading:{type:"boolean",className:"rt-loading",default:!1}},rf=["0","1","2","3","4","5","6","7","8","9"],FU={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:rf,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:rf,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:rf,responsive:!0}},zU=["div","span"],BU=["none","inline-flex","flex"],$U=["row","column","row-reverse","column-reverse"],UU=["start","center","end","baseline","stretch"],HU=["start","center","end","between"],VU=["nowrap","wrap","wrap-reverse"],A1={as:{type:"enum",values:zU,default:"div"},...Cr,display:{type:"enum",className:"rt-r-display",values:BU,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:$U,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:UU,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:HU,parseValue:WU,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:VU,responsive:!0},...FU};function WU(e){return e==="between"?"space-between":e}const kn=f.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=st(e,A1,OU,bt);return f.createElement(r?NU:s,{...o,ref:t,className:G("rt-Flex",n)})});kn.displayName="Flex";const KU=["1","2","3"],qU={size:{type:"enum",className:"rt-r-size",values:KU,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},j1=f.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=st(e,qU,bt);if(!s)return r;const i=f.createElement("span",{...o,ref:t,className:G("rt-Spinner",n)},f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:f.createElement(kn,{asChild:!0,position:"relative",align:"center",justify:"center"},f.createElement("span",null,f.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),f.createElement(kn,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,i))))});j1.displayName="Spinner";const GU=x0;function M1(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function YU(e){return e==="3"?"3":"2"}function XU(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const O1=f.forwardRef((e,t)=>{const{size:n=pw.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...u}=st(e,pw,bt),d=o?ds:"button";return f.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...u,ref:t,className:G("rt-reset","rt-BaseButton",r),disabled:l},e.loading?f.createElement(f.Fragment,null,f.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),f.createElement(GU,null,s),f.createElement(kn,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,f.createElement(j1,{size:M1(n,XU)})))):s)});O1.displayName="BaseButton";const sn=f.forwardRef(({className:e,...t},n)=>f.createElement(O1,{...t,ref:n,className:G("rt-Button",e)}));sn.displayName="Button";const QU=["1","2","3"],JU=["soft","surface","outline"],mw={...Cr,size:{type:"enum",className:"rt-r-size",values:QU,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:JU,default:"soft"},...Ag,...ms},L1=f.createContext({}),nn=f.forwardRef((e,t)=>{const{size:n=mw.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=st(e,mw,bt),l=r?ds:"div";return f.createElement(l,{"data-accent-color":i,...a,className:G("rt-CalloutRoot",o),ref:t},f.createElement(L1.Provider,{value:f.useMemo(()=>({size:n}),[n])},s))});nn.displayName="Callout.Root";const ZU=f.forwardRef(({className:e,...t},n)=>f.createElement("div",{...t,className:G("rt-CalloutIcon",e),ref:n}));ZU.displayName="Callout.Icon";const rn=f.forwardRef(({className:e,...t},n)=>{const{size:r}=f.useContext(L1);return f.createElement(q,{as:"p",size:M1(r,YU),...t,asChild:!1,ref:n,className:G("rt-CalloutText",e)})});rn.displayName="Callout.Text";const e6=["1","2","3","4","5"],t6=["surface","classic","ghost"],n6={...Cr,size:{type:"enum",className:"rt-r-size",values:e6,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:t6,default:"surface"}},qt=f.forwardRef((e,t)=>{const{asChild:n,className:r,...s}=st(e,n6,bt),o=n?ds:"div";return f.createElement(o,{ref:t,...s,className:G("rt-reset","rt-BaseCard","rt-Card",r)})});qt.displayName="Card";var D1=ae;D1.dispatchDiscreteCustomEvent=W_;D1.Root=ae;const r6=be.forwardRef((e,t)=>be.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},be.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));r6.displayName="ThickDividerHorizontalIcon";const F1=be.forwardRef((e,t)=>be.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},be.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));F1.displayName="ThickCheckIcon";const z1=be.forwardRef((e,t)=>be.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},be.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));z1.displayName="ChevronDownIcon";const s6=be.forwardRef((e,t)=>be.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},be.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));s6.displayName="ThickChevronRightIcon";const o6=["1","2","3"],Pi={...Cr,size:{values:o6,default:"1"},...ci,scrollbars:{default:"both"}};function i6(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const Ss=bt.m.values;function a6(e){const[t,n]=Dr({className:"rt-r-m",customProperties:["--margin"],propValues:Ss,value:e.m}),[r,s]=Dr({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:Ss,value:e.mx}),[o,i]=Dr({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:Ss,value:e.my}),[a,l]=Dr({className:"rt-r-mt",customProperties:["--margin-top"],propValues:Ss,value:e.mt}),[u,d]=Dr({className:"rt-r-mr",customProperties:["--margin-right"],propValues:Ss,value:e.mr}),[h,p]=Dr({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:Ss,value:e.mb}),[m,w]=Dr({className:"rt-r-ml",customProperties:["--margin-left"],propValues:Ss,value:e.ml});return[G(t,r,o,a,u,h,m),qc(n,s,i,l,d,p,w)]}const B1=f.forwardRef((e,t)=>{const{rest:n,...r}=i6(e),[s,o]=a6(r),{asChild:i,children:a,className:l,style:u,type:d,scrollHideDelay:h=d!=="scroll"?0:void 0,dir:p,size:m=Pi.size.default,radius:w=Pi.radius.default,scrollbars:y=Pi.scrollbars.default,...b}=n;return f.createElement(AE,{type:d,scrollHideDelay:h,className:G("rt-ScrollAreaRoot",s,l),style:qc(o,u),asChild:i},kU({asChild:i,children:a},g=>f.createElement(f.Fragment,null,f.createElement(jE,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),y!=="vertical"?f.createElement(Nh,{"data-radius":w,orientation:"horizontal",className:G("rt-ScrollAreaScrollbar",Kc({className:"rt-r-size",value:m,propValues:Pi.size.values}))},f.createElement(Ih,{className:"rt-ScrollAreaThumb"})):null,y!=="horizontal"?f.createElement(Nh,{"data-radius":w,orientation:"vertical",className:G("rt-ScrollAreaScrollbar",Kc({className:"rt-r-size",value:m,propValues:Pi.size.values}))},f.createElement(Ih,{className:"rt-ScrollAreaThumb"})):null,y==="both"?f.createElement(h5,{className:"rt-ScrollAreaCorner"}):null)))});B1.displayName="ScrollArea";const So=e=>f.createElement(fk,{...e,modal:!0});So.displayName="Dialog.Root";const l6=f.forwardRef(({children:e,...t},n)=>f.createElement(hk,{...t,ref:n,asChild:!0},P1(e)));l6.displayName="Dialog.Trigger";const _o=f.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=lU,{className:o}=st({align:e},{align:r}),{className:i,forceMount:a,container:l,...u}=st(t,s);return f.createElement(pk,{container:l,forceMount:a},f.createElement(Vu,{asChild:!0},f.createElement(Dm,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},f.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},f.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},f.createElement(Fm,{...u,ref:n,className:G("rt-BaseDialogContent","rt-DialogContent",i)}))))))});_o.displayName="Dialog.Content";const Co=f.forwardRef((e,t)=>f.createElement(cF,{asChild:!0},f.createElement(Mg,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));Co.displayName="Dialog.Title";const ko=f.forwardRef((e,t)=>f.createElement(uF,{asChild:!0},f.createElement(q,{as:"p",size:"3",...e,asChild:!1,ref:t})));ko.displayName="Dialog.Description";const $1=f.forwardRef(({children:e,...t},n)=>f.createElement(dF,{...t,ref:n,asChild:!0},P1(e)));$1.displayName="Dialog.Close";const c6=["1","2","3"],Dg={size:{type:"enum",className:"rt-r-size",values:c6,default:"2",responsive:!0}},u6=["classic","surface","soft","ghost"],d6={variant:{type:"enum",className:"rt-variant",values:u6,default:"surface"},...kr,...ci,placeholder:{type:"string"}},f6=["solid","soft"],h6={variant:{type:"enum",className:"rt-variant",values:f6,default:"solid"},...kr,...ms},Fg=f.createContext({}),U1=e=>{const{children:t,size:n=Dg.size.default,...r}=e;return f.createElement(L5,{...r},f.createElement(Fg.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};U1.displayName="Select.Root";const H1=f.forwardRef((e,t)=>{const n=f.useContext(Fg),{children:r,className:s,color:o,radius:i,placeholder:a,...l}=st({size:n==null?void 0:n.size,...e},{size:Dg.size},d6,bt);return f.createElement(D5,{asChild:!0},f.createElement("button",{"data-accent-color":o,"data-radius":i,...l,ref:t,className:G("rt-reset","rt-SelectTrigger",s)},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(F5,{placeholder:a},r)),f.createElement(z5,{asChild:!0},f.createElement(z1,{className:"rt-SelectIcon"}))))});H1.displayName="Select.Trigger";const V1=f.forwardRef((e,t)=>{const n=f.useContext(Fg),{className:r,children:s,color:o,container:i,...a}=st({size:n==null?void 0:n.size,...e},{size:Dg.size},h6),l=CU(),u=o||l.accentColor;return f.createElement(B5,{container:i},f.createElement(Vu,{asChild:!0},f.createElement($5,{"data-accent-color":u,sideOffset:4,...a,asChild:!1,ref:t,className:G({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",r)},f.createElement(AE,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(U5,{asChild:!0,className:"rt-SelectViewport"},f.createElement(jE,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},s)),f.createElement(Nh,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement(Ih,{className:"rt-ScrollAreaThumb"}))))))});V1.displayName="Select.Content";const W1=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(W5,{...s,asChild:!1,ref:t,className:G("rt-SelectItem",n)},f.createElement(q5,{className:"rt-SelectItemIndicator"},f.createElement(F1,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(K5,null,r))});W1.displayName="Select.Item";const p6=f.forwardRef(({className:e,...t},n)=>f.createElement(H5,{...t,asChild:!1,ref:n,className:G("rt-SelectGroup",e)}));p6.displayName="Select.Group";const m6=f.forwardRef(({className:e,...t},n)=>f.createElement(V5,{...t,asChild:!1,ref:n,className:G("rt-SelectLabel",e)}));m6.displayName="Select.Label";const g6=f.forwardRef(({className:e,...t},n)=>f.createElement(G5,{...t,asChild:!1,ref:n,className:G("rt-SelectSeparator",e)}));g6.displayName="Select.Separator";const y6=["horizontal","vertical"],v6=["1","2","3","4"],x6={orientation:{type:"enum",className:"rt-r-orientation",values:y6,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:v6,default:"1",responsive:!0},color:{...kr.color,default:"gray"},decorative:{type:"boolean",default:!0}},zg=f.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=st(e,x6,bt);return f.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:G("rt-Separator",n)})});zg.displayName="Separator";const w6=["1","2","3"],b6=["classic","surface","soft"],S6={size:{type:"enum",className:"rt-r-size",values:w6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:b6,default:"surface"},...kr,...ms,...ci},K1=f.forwardRef((e,t)=>{const{className:n,color:r,radius:s,...o}=st(e,S6,bt);return f.createElement(Z5,{"data-accent-color":r,"data-radius":s,...o,asChild:!1,ref:t,className:G("rt-reset","rt-SwitchRoot",n)},f.createElement(eU,{className:G("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});K1.displayName="Switch";const _6=["1","2"],C6=["nowrap","wrap","wrap-reverse"],k6=["start","center","end"],E6={size:{type:"enum",className:"rt-r-size",values:_6,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:C6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:k6,responsive:!0},...kr,...ms},q1=f.forwardRef((e,t)=>{const{className:n,...r}=st(e,bt);return f.createElement(rU,{...r,ref:t,className:G("rt-TabsRoot",n)})});q1.displayName="Tabs.Root";const G1=f.forwardRef((e,t)=>{const{className:n,color:r,...s}=st(e,E6,bt);return f.createElement(sU,{"data-accent-color":r,...s,asChild:!1,ref:t,className:G("rt-BaseTabList","rt-TabsList",n)})});G1.displayName="Tabs.List";const Fr=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(oU,{...s,asChild:!1,ref:t,className:G("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},r))});Fr.displayName="Tabs.Trigger";const zr=f.forwardRef((e,t)=>{const{className:n,...r}=st(e,bt);return f.createElement(iU,{...r,ref:t,className:G("rt-TabsContent",n)})});zr.displayName="Tabs.Content";const T6=["1","2","3"],R6=["classic","surface","soft"],N6={size:{type:"enum",className:"rt-r-size",values:T6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:R6,default:"surface"},...kr,...ci},I6=["left","right"],P6={side:{type:"enum",values:I6},...kr,gap:A1.gap,px:tc.px,pl:tc.pl,pr:tc.pr},oe=f.forwardRef((e,t)=>{const n=f.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=st(e,N6,bt);return f.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:G("rt-TextFieldRoot",s),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const h=n.current;if(!h)return;const p=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(p,p)}catch{}h.focus()})}},f.createElement("input",{spellCheck:"false",...l,ref:yu(n,t),className:"rt-reset rt-TextFieldInput"}),r)});oe.displayName="TextField.Root";const A6=f.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=st(e,P6);return f.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:G("rt-TextFieldSlot",n)})});A6.displayName="TextField.Slot";function j6(e){const t=/^session-(\d{14})$/.exec(e.trim());if(!t)return null;const n=t[1],r=Number(n.slice(0,4)),s=Number(n.slice(4,6)),o=Number(n.slice(6,8)),i=Number(n.slice(8,10)),a=Number(n.slice(10,12)),l=Number(n.slice(12,14));if(!Number.isFinite(r)||!Number.isFinite(s)||!Number.isFinite(o))return null;const u=new Date(r,s-1,o,i,a,l);return Number.isNaN(u.getTime())?null:u}function Nl(e){return String(e).padStart(2,"0")}function M6(e){const t=j6(e.session_key),n=Date.parse(e.last_message_time||""),r=t||(Number.isFinite(n)?new Date(n):null);return r?`created ${r.getFullYear()}-${Nl(r.getMonth()+1)}-${Nl(r.getDate())} ${Nl(r.getHours())}:${Nl(r.getMinutes())}`:"created --"}function O6({appearance:e,onToggleAppearance:t,uiTheme:n,onUiThemeChange:r,uiThemeOptions:s,sessionItems:o,selectedSessionKey:i,onSessionSelect:a,onRefreshSession:l,onResetSession:u,onDeleteSession:d,onOpenConfig:h,onOpenUsage:p,onNewSession:m,appVersion:w}){const y=e==="dark",[b,g]=f.useState(null),[v,x]=f.useState(!1),C=f.useRef(null),N=f.useRef(null),k=f.useRef(null);return f.useEffect(()=>{const T=M=>{var L,R,U;const A=M.target;A&&((L=N.current)!=null&&L.contains(A)||(R=C.current)!=null&&R.contains(A)||(U=k.current)!=null&&U.contains(A)||(g(null),x(!1)))},I=()=>{g(null),x(!1)};return window.addEventListener("pointerdown",T),window.addEventListener("scroll",I,!0),()=>{window.removeEventListener("pointerdown",T),window.removeEventListener("scroll",I,!0)}},[]),c.jsxs("aside",{className:y?"flex h-full min-h-0 flex-col border-r p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",style:y?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-sidebar)"}:void 0,children:[c.jsxs(kn,{justify:"between",align:"center",className:"mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/icon.png",alt:"MicroClaw",className:"h-7 w-7 rounded-md border border-black/10 object-cover",loading:"eager",decoding:"async"}),c.jsx(q,{size:"5",weight:"bold",children:"MicroClaw"})]}),c.jsxs("div",{className:"relative flex items-center gap-2",children:[c.jsx("button",{ref:N,type:"button",onClick:T=>{T.stopPropagation(),x(I=>!I)},"aria-label":"Change UI theme color",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:""})}),c.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),t()},"aria-label":y?"Switch to light mode":"Switch to dark mode",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:y?"":""})}),v?c.jsxs("div",{ref:C,className:y?"absolute right-0 top-10 z-50 w-56 rounded-lg border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-sidebar)] p-2 shadow-xl":"absolute right-0 top-10 z-50 w-56 rounded-lg border border-slate-300 bg-white p-2 shadow-xl",children:[c.jsx(q,{size:"1",color:"gray",children:"Theme"}),c.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:s.map(T=>c.jsxs("button",{type:"button",onClick:I=>{I.stopPropagation(),r(T.key),x(!1)},className:n===T.key?y?"flex items-center gap-2 rounded-md border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-2 py-1 text-left text-xs text-slate-100":"flex items-center gap-2 rounded-md border px-2 py-1 text-left text-xs text-slate-900":y?"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-600 hover:border-slate-200 hover:bg-slate-50",style:!y&&n===T.key?{borderColor:"var(--mc-accent)",backgroundColor:"color-mix(in srgb, var(--mc-accent) 12%, white)"}:void 0,children:[c.jsx("span",{className:y?"h-3 w-3 rounded-sm border border-white/20":"h-3 w-3 rounded-sm border border-slate-300",style:{backgroundColor:T.color},"aria-hidden":"true"}),T.label]},T.key))})]}):null]})]}),c.jsx(kn,{direction:"column",gap:"2",className:"mb-4",children:c.jsx("button",{type:"button",onClick:m,className:"inline-flex h-9 w-full items-center justify-center rounded-md border border-transparent text-[15px] font-medium transition hover:brightness-110 active:brightness-95",style:y?{backgroundColor:"var(--mc-accent)",color:"#06110f"}:{backgroundColor:"var(--mc-accent)",color:"#ffffff"},children:"New Session"})}),c.jsx(zg,{size:"4",className:"my-4"}),c.jsxs(kn,{justify:"between",align:"center",className:"mb-2",children:[c.jsx(q,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),c.jsx(Lg,{variant:"surface",children:o.length})]}),c.jsx("div",{className:y?"min-h-0 flex-1 rounded-xl border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:c.jsxs(B1,{type:"auto",style:{height:"100%"},children:[c.jsx("div",{className:"mb-2",children:c.jsx(q,{size:"1",color:"gray",children:"Chats"})}),c.jsx("div",{className:"flex flex-col gap-1.5 pr-4",children:o.map(T=>c.jsxs("button",{type:"button",onClick:()=>a(T.session_key),onContextMenu:I=>{I.preventDefault(),g({x:I.clientX,y:I.clientY,key:T.session_key})},className:i===T.session_key?y?"flex w-full max-w-full flex-col items-start rounded-lg border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-3 py-2 text-left shadow-sm":"flex w-full max-w-full flex-col items-start rounded-lg border bg-white px-3 py-2 text-left shadow-sm":y?"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",style:!y&&i===T.session_key?{borderColor:"color-mix(in srgb, var(--mc-accent) 36%, #94a3b8)",boxShadow:"0 4px 12px color-mix(in srgb, var(--mc-accent) 12%, transparent)"}:void 0,children:[c.jsx("span",{className:"max-w-[220px] truncate text-sm font-medium",children:T.label}),c.jsx("span",{className:y?"mt-0.5 text-[11px] uppercase tracking-wide text-slate-500":"mt-0.5 text-[11px] uppercase tracking-wide text-slate-400",children:T.chat_type}),c.jsx("span",{className:y?"mt-0.5 text-[11px] text-slate-500":"mt-0.5 text-[11px] text-slate-400",children:M6(T)})]},T.session_key))})]})}),c.jsxs("div",{className:y?"mt-4 border-t border-[color:var(--mc-border-soft)] pt-3":"mt-4 border-t border-slate-200 pt-3",children:[c.jsx(sn,{size:"2",variant:"soft",onClick:()=>void p(),style:{width:"100%"},children:"Usage Panel"}),c.jsx(sn,{size:"2",variant:"soft",onClick:()=>void h(),style:{width:"100%",marginTop:"8px"},children:"Runtime Config"}),c.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[c.jsx("a",{href:"https://microclaw.ai",target:"_blank",rel:"noreferrer",className:y?"text-xs text-slate-400 hover:text-slate-200":"text-xs text-slate-600 hover:text-slate-900",children:"microclaw.ai"}),c.jsx(q,{size:"1",className:"text-slate-500",children:w?`v${w}`:"v--"})]})]}),b?c.jsxs("div",{ref:k,className:y?"fixed z-50 min-w-[170px] rounded-lg border border-emerald-900/80 bg-[#092018] p-1.5 shadow-xl":"fixed z-50 min-w-[170px] rounded-lg border border-slate-300 bg-white p-1.5 shadow-xl",style:{left:b.x,top:b.y},onClick:T=>T.stopPropagation(),children:[c.jsx("button",{type:"button",className:y?"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-100 hover:bg-emerald-900/50":"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{l(b.key),g(null)},children:"Refresh"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-300 hover:bg-amber-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-700 hover:bg-amber-50",onClick:()=>{u(b.key),g(null)},children:"Clear Context"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-300 hover:bg-red-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-700 hover:bg-red-50",onClick:()=>{d(b.key),g(null)},children:"Delete"})]}):null]})}function Fn(e){return Number.isFinite(e)?Math.trunc(e).toLocaleString("en-US"):"0"}function L6(e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t<=0?"0%":`${(e/t*100).toFixed(1)}%`}function Il(e,t,n){const r=Date.now(),s=3600*1e3,o=r-t*s,i=Math.max(1,Math.ceil(t/n)),a=Array.from({length:i},(l,u)=>({label:`${u+1}`,a:0,b:0,c:0}));for(const l of e){const u=Date.parse(l.ts);if(!Number.isFinite(u)||u<o||u>r)continue;const d=Math.min(i-1,Math.max(0,Math.floor((u-o)/(n*s))));a[d].a+=l.a,a[d].b+=l.b,a[d].c+=l.c}return a}function D6(e,t=320,n=70){if(e.length===0)return"";const r=Math.max(...e,1),s=Math.min(...e,0),o=Math.max(1e-6,r-s);return e.map((i,a)=>{const l=a/Math.max(1,e.length-1)*t,u=n-(i-s)/o*n;return`${a===0?"M":"L"}${l.toFixed(2)},${u.toFixed(2)}`}).join(" ")}function Or({title:e,subtitle:t,values:n,color:r}){const s=D6(n);return c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"1",color:"gray",children:e}),c.jsx(q,{size:"1",color:"gray",className:"block",children:t}),c.jsx("div",{className:"mt-2",children:c.jsx("svg",{viewBox:"0 0 320 70",className:"h-[70px] w-full",children:c.jsx("path",{d:s,fill:"none",stroke:r,strokeWidth:"2.5"})})})]})}function F6(e){const{open:t,onOpenChange:n,usageSession:r,sessionKey:s,usageLoading:o,usageError:i,usageReport:a,usageMemory:l,reflectorRuns:u,injectionLogs:d,onRefreshCurrent:h,onRefreshThis:p}=e,m=f.useMemo(()=>{const y=Il(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),24,1),b=Il(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24,1);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]),w=f.useMemo(()=>{const y=Il(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),168,24),b=Il(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24*7,24);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]);return c.jsx(So,{open:t,onOpenChange:n,children:c.jsxs(_o,{maxWidth:"980px",className:"min-h-0 overflow-hidden flex flex-col",style:{width:"980px",height:"760px",maxWidth:"980px",maxHeight:"760px"},children:[c.jsx(Co,{children:"Usage Panel"}),c.jsxs(ko,{size:"2",mb:"3",children:["Token and memory observability for session ",c.jsx("code",{children:r||s})]}),c.jsx("div",{className:"mb-3",children:c.jsxs(kn,{gap:"2",children:[c.jsx(sn,{size:"2",variant:"soft",onClick:h,disabled:o,children:"Refresh Current Session"}),c.jsx(sn,{size:"2",variant:"soft",onClick:p,disabled:o,children:"Refresh This Panel"})]})}),c.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:c.jsx(qt,{className:"min-h-0 p-3",children:o?c.jsx(q,{size:"2",children:"Loading usage report..."}):i?c.jsx(nn,{color:"red",size:"1",variant:"soft",children:c.jsx(rn,{children:i})}):c.jsxs("div",{className:"space-y-4",children:[l?c.jsxs("div",{className:"space-y-3",children:[c.jsxs(kn,{justify:"between",align:"center",children:[c.jsx(q,{size:"2",weight:"bold",children:"Memory Observability"}),c.jsx(q,{size:"1",color:"gray",children:"24h + 7d trends"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:[c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"1",color:"gray",className:"block",children:"Memory Pool"}),c.jsx(q,{size:"4",weight:"bold",className:"mt-1 block",children:Fn(l.total)}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:["active ",Fn(l.active)," / archived ",Fn(l.archived)]})]}),c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"1",color:"gray",className:"block",children:"Avg Confidence"}),c.jsxs(q,{size:"4",weight:"bold",className:"mt-1 block",children:[(l.avg_confidence*100).toFixed(1),"%"]}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:["low confidence: ",Fn(l.low_confidence)]})]}),c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"1",color:"gray",className:"block",children:"Reflector 24h"}),c.jsx(q,{size:"4",weight:"bold",className:"mt-1 block",children:Fn(l.reflector_runs_24h)}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:["+",Fn(l.reflector_inserted_24h)," / ~",Fn(l.reflector_updated_24h)," / -",Fn(l.reflector_skipped_24h)]})]}),c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"1",color:"gray",className:"block",children:"Injection Coverage 24h"}),c.jsx(q,{size:"4",weight:"bold",className:"mt-1 block",children:L6(l.injection_selected_24h,l.injection_candidates_24h)}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:[Fn(l.injection_selected_24h)," selected / ",Fn(l.injection_candidates_24h)," candidates"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(Or,{title:"Reflector Inserts (24h)",subtitle:"hourly buckets",values:m.inserted,color:"#10b981"}),c.jsx(Or,{title:"Reflector Updates (24h)",subtitle:"hourly buckets",values:m.updated,color:"#3b82f6"}),c.jsx(Or,{title:"Reflector Skips (24h)",subtitle:"hourly buckets",values:m.skipped,color:"#f59e0b"}),c.jsx(Or,{title:"Injection Coverage (24h)",subtitle:"selected/candidates %",values:m.coverage,color:"#a855f7"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(Or,{title:"Reflector Inserts (7d)",subtitle:"daily buckets",values:w.inserted,color:"#059669"}),c.jsx(Or,{title:"Reflector Updates (7d)",subtitle:"daily buckets",values:w.updated,color:"#2563eb"}),c.jsx(Or,{title:"Reflector Skips (7d)",subtitle:"daily buckets",values:w.skipped,color:"#d97706"}),c.jsx(Or,{title:"Injection Coverage (7d)",subtitle:"selected/candidates %",values:w.coverage,color:"#7e22ce"})]})]}):null,c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"2",weight:"bold",children:"Token Usage Report"}),c.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-[13px] leading-6",children:a||"(no usage data)"})]})]})})})]})})}const Ur="https://microclaw.ai/docs";function z6(e){switch(e){case"sandbox_disabled":case"sandbox_runtime_unavailable":case"sandbox_mount_allowlist_missing":return`${Ur}/configuration#sandbox`;case"auth_password_not_configured":case"legacy_auth_token_enabled":case"web_host_not_loopback":return`${Ur}/permissions`;case"web_rate_limit_too_high":case"web_inflight_limit_too_high":case"web_rate_window_too_small_for_limit":case"web_session_idle_ttl_too_low":return`${Ur}/configuration#web`;case"hooks_max_input_bytes_too_high":case"hooks_max_output_bytes_too_high":return`${Ur}/hooks`;case"otlp_enabled_without_endpoint":case"otlp_queue_capacity_low":case"otlp_retry_attempts_too_low":return`${Ur}/observability`;default:return`${Ur}/configuration`}}const B6=["openai","openai-codex","ollama","openrouter","anthropic","google","alibaba","deepseek","moonshot","mistral","azure","bedrock","zhipu","minimax","cohere","tencent","xai","huggingface","together","custom"],$6={anthropic:["claude-sonnet-4-5-20250929","claude-opus-4-1-20250805","claude-3-7-sonnet-latest"],openai:["gpt-5.2"],"openai-codex":["gpt-5.3-codex"],ollama:["llama3.2","qwen2.5","deepseek-r1"],openrouter:["openai/gpt-5","anthropic/claude-sonnet-4-5","google/gemini-2.5-pro"],deepseek:["deepseek-chat","deepseek-reasoner"],google:["gemini-2.5-pro","gemini-2.5-flash"]},tt={llm_provider:"anthropic",working_dir_isolation:"chat",max_tokens:8192,max_tool_iterations:100,max_document_size_mb:100,memory_token_budget:1500,show_thinking:!1,web_enabled:!0,web_host:"127.0.0.1",web_port:10961,reflector_enabled:!0,reflector_interval_mins:15,embedding_provider:"",embedding_api_key:"",embedding_base_url:"",embedding_model:"",embedding_dim:""},Pl=[{name:"slack",title:"Slack",icon:"",steps:["Go to api.slack.com/apps and create a new app.","Enable Socket Mode and create an app-level token (xapp-).","Add bot token scopes: chat:write, channels:history, groups:history, im:history, mpim:history, app_mentions:read.","Install to workspace and copy the Bot User OAuth Token (xoxb-).","Enable Event Subscriptions and subscribe to: message.channels, message.groups, message.im, message.mpim, app_mention."],hint:"Required: bot token and app token. Leave tokens blank to keep current secrets unchanged.",fields:[{yamlKey:"bot_token",label:"slack_bot_token",placeholder:"xoxb-...",description:"Bot User OAuth Token (xoxb-) for sending messages. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"app_token",label:"slack_app_token",placeholder:"xapp-...",description:"App-level token (xapp-) for Socket Mode connection. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"bot_username",label:"slack_bot_username",placeholder:"slack_bot_name",description:"Optional Slack-specific bot username override.",secret:!1},{yamlKey:"model",label:"slack_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Slack bot model override for this account.",secret:!1}]},{name:"feishu",title:"Feishu / Lark",icon:"",steps:["Go to Feishu Open Platform (or Lark Developer for international) and create a custom app.","Copy the App ID and App Secret from Credentials.","Add permissions: im:message, im:message:send_as_bot, im:resource.","Enable Long Connection mode (recommended) or configure a webhook URL.","Subscribe to event: im.message.receive_v1."],hint:'Required: App ID and App Secret. Domain defaults to "feishu" (China); use "lark" for international.',fields:[{yamlKey:"app_id",label:"feishu_app_id",placeholder:"cli_xxx",description:"App ID from Feishu Open Platform credentials.",secret:!1},{yamlKey:"app_secret",label:"feishu_app_secret",placeholder:"xxx",description:"App Secret from Feishu Open Platform. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"domain",label:"feishu_domain",placeholder:"feishu",description:'Use "feishu" for China, "lark" for international, or a custom base URL.',secret:!1},{yamlKey:"bot_username",label:"feishu_bot_username",placeholder:"feishu_bot_name",description:"Optional Feishu-specific bot username override.",secret:!1},{yamlKey:"model",label:"feishu_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Feishu bot model override for this account.",secret:!1}]},{name:"matrix",title:"Matrix",icon:"",steps:["Prepare a Matrix bot account on your homeserver.","Get homeserver URL, bot user ID, and access token.","Invite the bot to target rooms/chats."],hint:"Required: homeserver_url, access_token, bot_user_id.",fields:[{yamlKey:"homeserver_url",label:"matrix_homeserver_url",placeholder:"https://matrix.org",description:"Matrix homeserver URL.",secret:!1},{yamlKey:"access_token",label:"matrix_access_token",placeholder:"syt_xxx",description:"Matrix access token for the bot account.",secret:!0},{yamlKey:"bot_user_id",label:"matrix_bot_user_id",placeholder:"@bot:example.org",description:"Matrix bot user ID.",secret:!1},{yamlKey:"bot_username",label:"matrix_bot_username",placeholder:"matrix_bot_name",description:"Optional Matrix-specific bot username override.",secret:!1}]},{name:"whatsapp",title:"WhatsApp",icon:"",steps:["Create WhatsApp Cloud API app in Meta Developer dashboard.","Copy access token and phone number ID.","Configure webhook and verify token if needed."],hint:"Required: access_token and phone_number_id.",fields:[{yamlKey:"access_token",label:"whatsapp_access_token",placeholder:"EAAG...",description:"WhatsApp Cloud API access token.",secret:!0},{yamlKey:"phone_number_id",label:"whatsapp_phone_number_id",placeholder:"1234567890",description:"WhatsApp phone number ID.",secret:!1},{yamlKey:"webhook_verify_token",label:"whatsapp_webhook_verify_token",placeholder:"verify-token",description:"Optional webhook verify token.",secret:!0},{yamlKey:"api_version",label:"whatsapp_api_version",placeholder:"v21.0",description:"Graph API version.",secret:!1},{yamlKey:"webhook_path",label:"whatsapp_webhook_path",placeholder:"/whatsapp/webhook",description:"Webhook path.",secret:!1},{yamlKey:"allowed_user_ids",label:"whatsapp_allowed_user_ids",placeholder:"user1,user2",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"whatsapp_bot_username",placeholder:"whatsapp_bot_name",description:"Optional WhatsApp-specific bot username override.",secret:!1},{yamlKey:"model",label:"whatsapp_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional WhatsApp bot model override for this account.",secret:!1}]},{name:"imessage",title:"iMessage",icon:"",steps:["Run on macOS with osascript support.","Choose service type and connect sender workflow."],hint:"Default service is iMessage.",fields:[{yamlKey:"service",label:"imessage_service",placeholder:"iMessage",description:"Service type (iMessage/SMS relay setup dependent).",secret:!1},{yamlKey:"bot_username",label:"imessage_bot_username",placeholder:"imessage_bot_name",description:"Optional iMessage-specific bot username override.",secret:!1},{yamlKey:"model",label:"imessage_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional iMessage bot model override for this account.",secret:!1}]},{name:"email",title:"Email",icon:"",steps:["Set sender address and sendmail path.","Expose webhook endpoint if receiving inbound events.","Optionally restrict allowed senders."],hint:"Required: from_address.",fields:[{yamlKey:"from_address",label:"email_from_address",placeholder:"bot@example.com",description:"Email sender address.",secret:!1},{yamlKey:"sendmail_path",label:"email_sendmail_path",placeholder:"/usr/sbin/sendmail",description:"sendmail binary path.",secret:!1},{yamlKey:"webhook_path",label:"email_webhook_path",placeholder:"/email/webhook",description:"Inbound webhook path.",secret:!1},{yamlKey:"webhook_token",label:"email_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_senders",label:"email_allowed_senders",placeholder:"a@example.com,b@example.com",description:"Optional allowed sender list csv.",secret:!1},{yamlKey:"bot_username",label:"email_bot_username",placeholder:"email_bot_name",description:"Optional Email-specific bot username override.",secret:!1},{yamlKey:"model",label:"email_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Email bot model override for this account.",secret:!1}]},{name:"nostr",title:"Nostr",icon:"",steps:["Configure publish command used to send outgoing replies.","Configure webhook endpoint for incoming events."],hint:"Recommended: set publish_command and webhook token.",fields:[{yamlKey:"publish_command",label:"nostr_publish_command",placeholder:"nostril publish ...",description:"Command used to publish messages.",secret:!1},{yamlKey:"webhook_path",label:"nostr_webhook_path",placeholder:"/nostr/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"nostr_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_pubkeys",label:"nostr_allowed_pubkeys",placeholder:"npub1...,npub1...",description:"Optional allowed pubkeys csv.",secret:!1},{yamlKey:"bot_username",label:"nostr_bot_username",placeholder:"nostr_bot_name",description:"Optional Nostr-specific bot username override.",secret:!1},{yamlKey:"model",label:"nostr_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Nostr bot model override for this account.",secret:!1}]},{name:"signal",title:"Signal",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"signal_send_command",placeholder:"signal-cli send ...",description:"Command used to send Signal messages.",secret:!1},{yamlKey:"webhook_path",label:"signal_webhook_path",placeholder:"/signal/messages",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"signal_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_numbers",label:"signal_allowed_numbers",placeholder:"+15551234567,+15559876543",description:"Optional allowed numbers csv.",secret:!1},{yamlKey:"bot_username",label:"signal_bot_username",placeholder:"signal_bot_name",description:"Optional Signal-specific bot username override.",secret:!1},{yamlKey:"model",label:"signal_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Signal bot model override for this account.",secret:!1}]},{name:"dingtalk",title:"DingTalk",icon:"",steps:["Create DingTalk robot integration.","Set robot webhook URL and inbound webhook route."],hint:"Recommended: set robot_webhook_url and webhook token.",fields:[{yamlKey:"robot_webhook_url",label:"dingtalk_robot_webhook_url",placeholder:"https://oapi.dingtalk.com/robot/send?...",description:"DingTalk robot webhook URL.",secret:!0},{yamlKey:"webhook_path",label:"dingtalk_webhook_path",placeholder:"/dingtalk/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"dingtalk_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_chat_ids",label:"dingtalk_allowed_chat_ids",placeholder:"chat1,chat2",description:"Optional allowed chat IDs csv.",secret:!1},{yamlKey:"bot_username",label:"dingtalk_bot_username",placeholder:"dingtalk_bot_name",description:"Optional DingTalk-specific bot username override.",secret:!1},{yamlKey:"model",label:"dingtalk_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional DingTalk bot model override for this account.",secret:!1}]},{name:"qq",title:"QQ",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"qq_send_command",placeholder:"qq-send ...",description:"Command used to send QQ messages.",secret:!1},{yamlKey:"webhook_path",label:"qq_webhook_path",placeholder:"/qq/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"qq_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_user_ids",label:"qq_allowed_user_ids",placeholder:"10001,10002",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"qq_bot_username",placeholder:"qq_bot_name",description:"Optional QQ-specific bot username override.",secret:!1},{yamlKey:"model",label:"qq_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional QQ bot model override for this account.",secret:!1}]}],Y1=[{key:"green",label:"Green",color:"#34d399"},{key:"blue",label:"Blue",color:"#60a5fa"},{key:"slate",label:"Slate",color:"#94a3b8"},{key:"amber",label:"Amber",color:"#fbbf24"},{key:"violet",label:"Violet",color:"#a78bfa"},{key:"rose",label:"Rose",color:"#fb7185"},{key:"cyan",label:"Cyan",color:"#22d3ee"},{key:"teal",label:"Teal",color:"#2dd4bf"},{key:"orange",label:"Orange",color:"#fb923c"},{key:"indigo",label:"Indigo",color:"#818cf8"}],U6={green:"green",blue:"blue",slate:"gray",amber:"amber",violet:"violet",rose:"ruby",cyan:"cyan",teal:"teal",orange:"orange",indigo:"indigo"};function gw(e){const t=e.trim().toLowerCase();return t==="anthropic"?"claude-sonnet-4-5-20250929":t==="openai-codex"?"gpt-5.3-codex":t==="ollama"?"llama3.2":"gpt-5.2"}function sf(e){return String(e||"").trim()||"main"}function nc(e){if(!e||typeof e!="object")return"main";const t=e,n=String(t.default_account||"").trim();if(n)return n;const r=t.accounts;if(r&&typeof r=="object"){const s=Object.keys(r).sort();if(s.includes("default"))return"default";if(s.length>0)return s[0]||"main"}return"main"}function of(e){if(!e||typeof e!="object")return{};const t=e,n=nc(t),r=t.accounts;if(!r||typeof r!="object")return{};const s=r[n];return s&&typeof s=="object"?s:{}}function X1(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function H6(e){localStorage.setItem("microclaw_appearance",e)}function Q1(){const e=localStorage.getItem("microclaw_ui_theme");return Y1.some(t=>t.key===e)?e:"green"}function V6(e){localStorage.setItem("microclaw_ui_theme",e)}function yw(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("session",e),window.history.replaceState(null,"",t.toString())}function W6(){var t;return typeof window>"u"?"":((t=new URL(window.location.href).searchParams.get("session"))==null?void 0:t.trim())||""}function vw(e){var n,r;if(e.length===0)return Wr();const t=e.map(s=>({item:s,ts:Date.parse(s.last_message_time||"")})).filter(s=>Number.isFinite(s.ts));return t.length>0?(t.sort((s,o)=>o.ts-s.ts),((n=t[0])==null?void 0:n.item.session_key)||Wr()):((r=e[0])==null?void 0:r.session_key)||Wr()}typeof document<"u"&&(document.documentElement.classList.toggle("dark",X1()==="dark"),document.documentElement.setAttribute("data-ui-theme",Q1()));function J1(e={}){const t={...e.headers};e.body&&!t["Content-Type"]&&(t["Content-Type"]="application/json");const n=q6("mc_csrf");return n&&!K6(t,"x-csrf-token")&&(t["x-csrf-token"]=n),t}class ks extends Error{constructor(n,r){super(n);P(this,"status");this.name="ApiError",this.status=r}}function K6(e,t){const n=t.toLowerCase();return Object.keys(e).some(r=>r.toLowerCase()===n)}function q6(e){if(typeof document>"u")return"";const t=`${encodeURIComponent(e)}=`,n=document.cookie?document.cookie.split("; "):[];for(const r of n)if(r.startsWith(t))return decodeURIComponent(r.slice(t.length));return""}function G6(){var n;if(typeof window>"u")return"";const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash;return((n=new URLSearchParams(e).get("bootstrap"))==null?void 0:n.trim())||""}function Y6(){if(typeof window>"u")return;const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,t=new URLSearchParams(e);if(!t.has("bootstrap"))return;t.delete("bootstrap");const n=t.toString();window.location.hash=n?`#${n}`:""}function X6(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function"){const t=crypto.randomUUID().replace(/-/g,"");return`mc-${t.slice(0,6)}-${t.slice(6,12)}!`}const e=Math.random().toString(36).slice(2,14);return`mc-${e.slice(0,6)}-${e.slice(6,12)}!`}async function at(e,t={}){const n=await fetch(e,{...t,headers:J1(t),credentials:"same-origin"}),r=await n.json().catch(()=>({}));if(!n.ok)throw new ks(String(r.error||r.message||`HTTP ${n.status}`),n.status);return r}async function*Q6(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const u=i.join(`
`);i=[];let d={};try{d=JSON.parse(u)}catch{d={raw:u}}const h={event:o,payload:d};return o="message",h},l=u=>{if(u==="")return a();if(u.startsWith(":"))return null;const d=u.indexOf(":"),h=d>=0?u.slice(0,d):u;let p=d>=0?u.slice(d+1):"";return p.startsWith(" ")&&(p=p.slice(1)),h==="event"&&(o=p),h==="data"&&i.push(p),null};for(;;){if(t.aborted)return;const{done:u,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!u});;){const h=s.indexOf(`
`);if(h<0)break;let p=s.slice(0,h);s=s.slice(h+1),p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}if(u){if(s.length>0){let p=s;p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}const h=a();h&&(yield h);return}}}function J6(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function Z6(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function Wr(){return`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`}function e8(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{}}function t8(e){try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function xw(e){const t=t8(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{}}function n8(e){if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function r8(e){const t=e8(e.result),n=Object.keys(t).length>0,r=t.output,s=t.duration_ms,o=t.bytes,i=t.status_code,a=t.error_type;return c.jsxs("div",{className:"tool-card",children:[c.jsxs("div",{className:"tool-card-head",children:[c.jsx("span",{className:"tool-card-name",children:e.toolName}),c.jsx("span",{className:`tool-card-state ${n?e.isError?"error":"ok":"running"}`,children:n?e.isError?"error":"done":"running"})]}),Object.keys(e.args||{}).length>0?c.jsx("pre",{className:"tool-card-pre",children:JSON.stringify(e.args,null,2)}):null,n?c.jsxs("div",{className:"tool-card-meta",children:[typeof s=="number"?c.jsxs("span",{children:[s,"ms"]}):null,typeof o=="number"?c.jsxs("span",{children:[o,"b"]}):null,typeof i=="number"?c.jsxs("span",{children:["HTTP ",i]}):null,typeof a=="string"&&a?c.jsx("span",{children:a}):null]}):null,r!==void 0?c.jsx("pre",{className:"tool-card-pre",children:n8(r)}):null]})}function Z1({align:e}){const t=L_(r=>r.createdAt),n=t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return c.jsx("div",{className:e==="right"?"mc-msg-time mc-msg-time-right":"mc-msg-time",children:n})}function s8(){const e=L_(t=>Array.isArray(t.content)?t.content.some(n=>{var r;return n.type==="text"?!!((r=n.text)!=null&&r.trim()):n.type==="tool-call"}):!1);return c.jsxs(Xl.Root,{children:[c.jsx(Xl.Avatar,{}),e?c.jsx(Xl.Content,{}):c.jsxs("div",{className:"mc-assistant-placeholder","aria-live":"polite",children:[c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-text",children:"Thinking"})]}),c.jsx(Pu,{}),c.jsx(L0,{}),c.jsx(Z1,{align:"left"})]})}function o8(){return c.jsxs(Ql.Root,{children:[c.jsx(Ql.Attachments,{}),c.jsxs(Sr,{hasContent:!0,children:[c.jsx(Nk,{}),c.jsxs("div",{className:"mc-user-content-wrap",children:[c.jsx(Ql.Content,{}),c.jsx(Z1,{align:"right"})]})]}),c.jsx(Pu,{})]})}function i8({adapter:e,initialMessages:t,runtimeKey:n}){const r=t5(),s=aA(e,{initialMessages:t,maxSteps:100});return c.jsx(O_,{runtime:s,children:c.jsx("div",{className:"aui-root h-full min-h-0",children:c.jsx(WF,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1,components:{Text:r,ToolFallback:r8}},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},components:{AssistantMessage:s8,UserMessage:o8},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}},assistantAvatar:{fallback:"M"}})})},n)}function a8(e){const t=[];for(const n of e.split(",")){const r=n.trim();if(!r)continue;const s=Number(r);Number.isInteger(s)&&s>0&&t.push(s)}return Array.from(new Set(t))}function af(e){return String(e||"").trim().toLowerCase()==="shared"?"shared":"chat"}function re({label:e,description:t,children:n}){return c.jsxs(qt,{className:"p-3",children:[c.jsx(q,{size:"2",weight:"medium",children:e}),c.jsx(q,{size:"1",color:"gray",className:"mt-1 block",children:t}),c.jsx("div",{className:"mt-2",children:n})]})}function lf({label:e,description:t,checked:n,onCheckedChange:r,className:s,style:o}){return c.jsx("div",{className:s,style:o,children:c.jsxs(kn,{justify:"between",align:"center",children:[c.jsxs("div",{children:[c.jsx(q,{size:"2",children:e}),t?c.jsx(q,{size:"1",color:"gray",className:"mt-1 block",children:t}):null]}),c.jsx(K1,{checked:n,onCheckedChange:r})]})})}function Ai({title:e="Setup Steps",steps:t}){return c.jsxs(qt,{className:"mt-3 p-3",children:[c.jsx(q,{size:"2",weight:"bold",children:e}),c.jsx("ol",{className:"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-400",children:t.map((n,r)=>c.jsx("li",{children:n},r))})]})}function l8(){var ty,ny,ry;const[e,t]=f.useState(X1()),[n,r]=f.useState(Q1()),[s,o]=f.useState([]),[i,a]=f.useState([]),[l,u]=f.useState(()=>Wr()),[d,h]=f.useState([]),[p,m]=f.useState({}),[w,y]=f.useState(0),[b,g]=f.useState(""),[v,x]=f.useState("Idle"),[C,N]=f.useState(""),[k,T]=f.useState(!1),[I,M]=f.useState(!1),[A,L]=f.useState(null),[R,U]=f.useState({}),[$,W]=f.useState(null),[V,X]=f.useState(!1),[j,B]=f.useState(""),[_,ne]=f.useState(""),[he,E]=f.useState(!1),[Ne,Ye]=f.useState(!1),[ve,Q]=f.useState(""),[pe,Me]=f.useState(null),[xe,me]=f.useState([]),[ke,ot]=f.useState([]),[It,zt]=f.useState(""),[pn,Mn]=f.useState(""),[gs,On]=f.useState(!1),[ui,Wu]=f.useState(!1),[nr,di]=f.useState(!1),[Ha,Ku]=f.useState(!1),[O,D]=f.useState(""),[se,ue]=f.useState(""),[Ie,Bt]=f.useState(()=>G6()),[Ln,$t]=f.useState(""),[Er,rr]=f.useState(""),[pt,sr]=f.useState(""),[St,Va]=f.useState(!1),[eT,Wa]=f.useState(!1),[Bg,Ka]=f.useState(""),[qu,$g]=f.useState(!1),[Ug,Hg]=f.useState(""),[Vg,Wg]=f.useState(""),[tT,Kg]=f.useState(""),qa=f.useMemo(()=>{const S=new Map;for(const de of[...i,...s])S.has(de.session_key)||S.set(de.session_key,de);const H=!S.has(l);if(H&&!l.startsWith("chat:")&&S.set(l,{session_key:l,label:l,chat_id:0,chat_type:"web"}),S.size===0){const de=Wr();S.set(de,{session_key:de,label:de,chat_id:0,chat_type:"web"})}const Z=Array.from(S.values()),Y=H&&!l.startsWith("chat:");return Z.sort((de,Ee)=>{if(Y){if(de.session_key===l)return-1;if(Ee.session_key===l)return 1}const We=Date.parse(de.last_message_time||""),je=Date.parse(Ee.last_message_time||""),Ut=Number.isFinite(We),Ke=Number.isFinite(je);if(Ut&&Ke){if(je!==We)return je-We}else if(Ut!==Ke)return Ut?-1:1;return de.label.localeCompare(Ee.label)}),Z},[i,s,l]),fi=f.useMemo(()=>qa.find(S=>S.session_key===l),[qa,l]),nT=(fi==null?void 0:fi.label)||l,qg=!!(fi&&fi.chat_type!=="web");function hi(S){return S instanceof ks&&S.status===401}function Gg(S){return S instanceof ks&&S.status===403}function pi(S="Authentication required. Please sign in."){di(!1),D(S),g(S)}async function Ga(){try{const S=await at("/api/auth/status"),H=!!S.has_password,Z=!!S.authenticated,Y=!!S.using_default_password;return Wu(H),di(Z),Ku(Y),On(!0),Z&&(D(""),g("")),Z&&Y&&Wa(!0),Y||Wa(!1),S}catch(S){throw On(!0),S}}async function Yg(){try{const S=await at("/api/health");Kg(String(S.version||"").trim())}catch{}}async function Xg(){g("");const S=await at("/api/sessions"),H=Array.isArray(S.sessions)?S.sessions:[];o(H);const Z=vw(H),Y=W6(),Ee=(Y?H.some(je=>je.session_key===Y):!1)?Y:Z;u(Ee),yw(Ee),H.some(je=>je.session_key===Ee)?await Gs(Ee):(h([]),m(je=>({...je,[Ee]:0})),y(je=>je+1),g(""))}async function Ya(){try{const S=await at("/api/sessions");o(Array.isArray(S.sessions)?S.sessions:[])}catch(S){if(hi(S)){pi();return}throw S}}async function Gs(S=l){const H=S.startsWith("chat:"),Z=s.some(Y=>Y.session_key===S);if(!H&&!Z){h([]),m(Y=>({...Y,[S]:0})),y(Y=>Y+1),g("");return}try{const Y=new URLSearchParams({session_key:S,limit:"200"}),de=await at(`/api/history?${Y.toString()}`),Ee=Array.isArray(de.messages)?de.messages:[],We=Z6(Ee);h(We),m(je=>({...je,[S]:Ee.length})),y(je=>je+1),g("")}catch(Y){if(hi(Y)){pi();return}if(Y instanceof ks&&Y.status===404){h([]),m(de=>({...de,[S]:0})),y(de=>de+1),g("");return}throw Y}}async function Gu(S){const H=S.trim();if(!H){D("Please enter your password.");return}Va(!0),D("");try{await at("/api/auth/login",{method:"POST",body:JSON.stringify({password:H})}),ue(""),await Ga(),await Xg(),x("Authenticated")}catch(Z){if(Z instanceof ks){if(Z.status===401){D("Password is incorrect. Please try again or reset with `microclaw web --password-generate`.");return}if(Z.status===429){D("Too many login attempts. Please wait and retry.");return}}D(Z instanceof Error?Z.message:String(Z))}finally{Va(!1)}}async function Qg(){const S=Ie.trim(),H=Ln.trim(),Z=Er.trim();if(!S){D("Bootstrap token is required.");return}if(H.length<8){D("Password must be at least 8 characters.");return}if(H!==Z){D("Passwords do not match.");return}Va(!0),D("");try{await at("/api/auth/password",{method:"POST",headers:{"x-bootstrap-token":S},body:JSON.stringify({password:H})}),Y6(),await Gu(H),$t(""),rr(""),sr("")}catch(Y){if(Y instanceof ks&&Y.status===401){D("Bootstrap token is invalid or expired. Please copy the latest token from startup logs.");return}D(Y instanceof Error?Y.message:String(Y))}finally{Va(!1)}}async function Jg(){const S=Ug.trim(),H=Vg.trim();if(S.length<8){Ka("Password must be at least 8 characters.");return}if(S!==H){Ka("Passwords do not match.");return}$g(!0),Ka("");try{await at("/api/auth/password",{method:"POST",body:JSON.stringify({password:S})}),Hg(""),Wg(""),await Ga(),Wa(!1),x("Password updated")}catch(Z){Ka(Z instanceof Error?Z.message:String(Z))}finally{$g(!1)}}async function rT(){x("Signing out..."),g("");try{await at("/api/auth/logout",{method:"POST"})}catch(S){g(S instanceof Error?S.message:String(S))}finally{o([]),a([]),h([]),m({}),y(S=>S+1),Kg(""),u(Wr()),E(!1),M(!1),await Ga().catch(()=>{di(!1)}),D("Signed out. Please sign in again."),x("Signed out")}}const sT=f.useMemo(()=>({run:async function*(S){const H=J6(S.messages);if(H){T(!0),x("Sending..."),N(""),g("");try{if(qg)throw x("Read-only channel"),new Error("This channel is read-only in Web UI. Send messages from the original channel.");const Y=(await at("/api/send_stream",{method:"POST",body:JSON.stringify({session_key:l,sender_name:"web-user",message:H}),signal:S.abortSignal})).run_id;if(!Y)throw new Error("missing run_id");const de=new URLSearchParams({run_id:Y}),Ee=await fetch(`/api/stream?${de.toString()}`,{method:"GET",headers:J1(),credentials:"same-origin",cache:"no-store",signal:S.abortSignal});if(!Ee.ok){const Ke=await Ee.text().catch(()=>"");throw new ks(Ke||`HTTP ${Ee.status}`,Ee.status)}let We="";const je=new Map,Ut=()=>{const Ke=Array.from(je.entries()).map(([Qe,ee])=>({type:"tool-call",toolCallId:Qe,toolName:ee.name,args:ee.args,argsText:JSON.stringify(ee.args),...ee.result?{result:ee.result}:{},...ee.isError!==void 0?{isError:ee.isError}:{}}));return[...We?[{type:"text",text:We}]:[],...Ke]};for await(const Ke of Q6(Ee,S.abortSignal)){const Qe=Ke.payload;if(Ke.event==="replay_meta"){if(Qe.replay_truncated===!0){const ee=typeof Qe.oldest_event_id=="number"?Qe.oldest_event_id:null,it=ee!==null?`Stream history was truncated. Recovery resumed from event #${ee}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";N(it)}continue}if(Ke.event==="status"){const ee=typeof Qe.message=="string"?Qe.message:"";ee&&x(ee);continue}if(Ke.event==="tool_start"){const ee=Qe;if(!ee.tool_use_id||!ee.name)continue;je.set(ee.tool_use_id,{name:ee.name,args:xw(ee.input)}),x(`tool: ${ee.name}...`);const it=Ut();it.length>0&&(yield{content:it});continue}if(Ke.event==="tool_result"){const ee=Qe;if(!ee.tool_use_id||!ee.name)continue;const it=je.get(ee.tool_use_id),Rr=xw({output:ee.output??"",duration_ms:ee.duration_ms??null,bytes:ee.bytes??null,status_code:ee.status_code??null,error_type:ee.error_type??null});je.set(ee.tool_use_id,{name:ee.name,args:(it==null?void 0:it.args)??{},result:Rr,isError:!!ee.is_error});const Nr=typeof ee.duration_ms=="number"?ee.duration_ms:0,Ir=typeof ee.bytes=="number"?ee.bytes:0;x(`tool: ${ee.name} ${ee.is_error?"error":"ok"} ${Nr}ms ${Ir}b`);const ir=Ut();ir.length>0&&(yield{content:ir});continue}if(Ke.event==="delta"){const ee=typeof Qe.delta=="string"?Qe.delta:"";if(!ee)continue;We+=ee;const it=Ut();it.length>0&&(yield{content:it});continue}if(Ke.event==="error"){const ee=typeof Qe.error=="string"?Qe.error:"stream error";throw new Error(ee)}if(Ke.event==="done"){x("Done");break}}}catch(Z){throw hi(Z)&&(pi("Session expired. Please sign in again."),x("Auth required")),Z}finally{T(!1),Ya(),Gs(l)}}}}),[l,qg]);function oT(){if((p[l]??d.length)===0){x("Current session is empty. Reuse this session.");return}const H=Wr(),Z={session_key:H,label:H,chat_id:0,chat_type:"web"};a(Y=>Y.some(de=>de.session_key===H)?Y:[Z,...Y]),u(H),m(Y=>({...Y,[H]:0})),h([]),y(Y=>Y+1),N(""),g(""),x("Idle")}function iT(){t(S=>S==="dark"?"light":"dark")}async function aT(S){try{await at("/api/reset",{method:"POST",body:JSON.stringify({session_key:S})}),S===l&&await Gs(S),await Ya(),x("Session reset")}catch(H){g(H instanceof Error?H.message:String(H))}}async function lT(S){try{S===l&&await Gs(S),await Ya(),x("Session refreshed")}catch(H){g(H instanceof Error?H.message:String(H))}}async function cT(S){var H;try{const Z=await at("/api/delete_session",{method:"POST",body:JSON.stringify({session_key:S})});Z.deleted===!1&&x("No session data found to delete."),a(de=>de.filter(Ee=>Ee.session_key!==S)),m(de=>{const Ee={...de};return delete Ee[S],Ee});const Y=((H=qa.find(de=>de.session_key!==S))==null?void 0:H.session_key)||Wr();S===l&&(u(Y),await Gs(Y)),await Ya(),Z.deleted!==!1&&x("Session deleted")}catch(Z){g(Z instanceof Error?Z.message:String(Z))}}async function uT(){var S,H,Z,Y,de,Ee,We,je,Ut,Ke,Qe,ee,it,Rr,Nr,Ir,ir,Ys,Xs,Qs,Js,Zs,eo,to;ne(""),B(""),X(!0);try{const[we,Pr]=await Promise.all([at("/api/config"),at("/api/config/self_check").catch(Ar=>(B(Ar instanceof Error?Ar.message:String(Ar)),null))]);L(we.config||null),W(Pr);const ys=((S=we.config)==null?void 0:S.channels)||{},_t=ys.telegram||{},no=nc(_t),gi=of(_t),vs=ys.discord||{},Xa=nc(vs),xs=of(vs),mn=ys.irc||{};U({llm_provider:((H=we.config)==null?void 0:H.llm_provider)||"",model:((Z=we.config)==null?void 0:Z.model)||gw(String(((Y=we.config)==null?void 0:Y.llm_provider)||"anthropic")),llm_base_url:String(((de=we.config)==null?void 0:de.llm_base_url)||""),api_key:"",telegram_bot_token:"",bot_username:String(((Ee=we.config)==null?void 0:Ee.bot_username)||""),telegram_account_id:no,telegram_bot_username:String(gi.bot_username||_t.bot_username||""),telegram_model:String(gi.model||_t.model||""),discord_bot_token:"",discord_account_id:Xa,discord_bot_username:String(xs.bot_username||vs.bot_username||""),discord_model:String(xs.model||vs.model||""),discord_allowed_channels_csv:Array.isArray((We=we.config)==null?void 0:We.discord_allowed_channels)?((je=we.config)==null?void 0:je.discord_allowed_channels).join(","):Array.isArray(xs.allowed_channels)?xs.allowed_channels.join(","):"",irc_server:String(mn.server||""),irc_port:String(mn.port||""),irc_nick:String(mn.nick||""),irc_username:String(mn.username||""),irc_real_name:String(mn.real_name||""),irc_channels:String(mn.channels||""),irc_password:"",irc_mention_required:String(mn.mention_required||""),irc_tls:String(mn.tls||""),irc_tls_server_name:String(mn.tls_server_name||""),irc_tls_danger_accept_invalid_certs:String(mn.tls_danger_accept_invalid_certs||""),irc_model:String(mn.model||""),web_bot_username:String(((Ut=ys.web)==null?void 0:Ut.bot_username)||""),working_dir_isolation:af(((Ke=we.config)==null?void 0:Ke.working_dir_isolation)||tt.working_dir_isolation),max_tokens:Number(((Qe=we.config)==null?void 0:Qe.max_tokens)??8192),max_tool_iterations:Number(((ee=we.config)==null?void 0:ee.max_tool_iterations)??100),max_document_size_mb:Number(((it=we.config)==null?void 0:it.max_document_size_mb)??tt.max_document_size_mb),memory_token_budget:Number(((Rr=we.config)==null?void 0:Rr.memory_token_budget)??tt.memory_token_budget),show_thinking:!!((Nr=we.config)!=null&&Nr.show_thinking),web_enabled:!!((Ir=we.config)!=null&&Ir.web_enabled),web_host:String(((ir=we.config)==null?void 0:ir.web_host)||"127.0.0.1"),web_port:Number(((Ys=we.config)==null?void 0:Ys.web_port)??10961),reflector_enabled:((Xs=we.config)==null?void 0:Xs.reflector_enabled)!==!1,reflector_interval_mins:Number(((Qs=we.config)==null?void 0:Qs.reflector_interval_mins)??tt.reflector_interval_mins),embedding_provider:String(((Js=we.config)==null?void 0:Js.embedding_provider)||""),embedding_api_key:"",embedding_base_url:String(((Zs=we.config)==null?void 0:Zs.embedding_base_url)||""),embedding_model:String(((eo=we.config)==null?void 0:eo.embedding_model)||""),embedding_dim:String(((to=we.config)==null?void 0:to.embedding_dim)||""),...Object.fromEntries(Pl.flatMap(Ar=>{const Ju=ys[Ar.name]||{},pT=of(Ju),sy=[[`${Ar.name}__account_id`,nc(Ju)]];for(const Qa of Ar.fields)sy.push([`${Ar.name}__${Qa.yamlKey}`,Qa.secret?"":String(pT[Qa.yamlKey]||Ju[Qa.yamlKey]||"")]);return sy}))}),M(!0)}catch(we){if(hi(we)){pi("Session expired. Please sign in again.");return}if(Gg(we)){g("Forbidden: Runtime Config is not accessible with current credentials.");return}g(we instanceof Error?we.message:String(we))}finally{X(!1)}}async function Yu(S=l){Ye(!0),zt(""),Q(""),Me(null),me([]),ot([]);const H=s.some(Y=>Y.session_key===S),Z=H?S:s.length>0?vw(s):S;Mn(Z);try{if(!H&&s.length===0){zt("No usage data yet. Send a message in this session first."),E(!0);return}const Y=new URLSearchParams({session_key:Z}),de=await at(`/api/usage?${Y.toString()}`);Q(String(de.report||"").trim()),Me(de.memory_observability??null);const Ee=new URLSearchParams({session_key:Z,scope:"chat",hours:"168",limit:"1000",offset:"0"}),We=await at(`/api/memory_observability?${Ee.toString()}`);me(Array.isArray(We.reflector_runs)?We.reflector_runs:[]),ot(Array.isArray(We.injection_logs)?We.injection_logs:[]),E(!0)}catch(Y){if(hi(Y)){pi("Session expired. Please sign in again.");return}if(Gg(Y)){zt("Forbidden: Usage panel requires permission."),E(!0);return}zt(Y instanceof Error?Y.message:String(Y)),E(!0)}finally{Ye(!1)}}function le(S,H){U(Z=>({...Z,[S]:H}))}async function dT(){try{const S=String(R.llm_provider||"").trim().toLowerCase();if(S==="openai-codex"){const _t=String(R.api_key||"").trim(),no=String(R.llm_base_url||"").trim();if(_t||no){ne("Save failed: openai-codex ignores api_key/llm_base_url in microclaw config. Configure ~/.codex/auth.json and ~/.codex/config.toml.");return}}const H={llm_provider:String(R.llm_provider||""),model:String(R.model||""),bot_username:String(R.bot_username||"").trim(),web_bot_username:String(R.web_bot_username||"").trim()||null,working_dir_isolation:af(R.working_dir_isolation||tt.working_dir_isolation),max_tokens:Number(R.max_tokens||8192),max_tool_iterations:Number(R.max_tool_iterations||100),max_document_size_mb:Number(R.max_document_size_mb||tt.max_document_size_mb),memory_token_budget:Number(R.memory_token_budget||tt.memory_token_budget),show_thinking:!!R.show_thinking,web_enabled:!!R.web_enabled,web_host:String(R.web_host||"127.0.0.1"),web_port:Number(R.web_port||10961),reflector_enabled:R.reflector_enabled!==!1,reflector_interval_mins:Number(R.reflector_interval_mins||tt.reflector_interval_mins),embedding_provider:String(R.embedding_provider||"").trim()||null,embedding_base_url:String(R.embedding_base_url||"").trim()||null,embedding_model:String(R.embedding_model||"").trim()||null,embedding_dim:String(R.embedding_dim||"").trim()?Number(R.embedding_dim):null};String(R.llm_provider||"").trim().toLowerCase()==="custom"?H.llm_base_url=String(R.llm_base_url||"").trim()||null:S==="openai-codex"&&(H.llm_base_url=null);const Z=String(R.api_key||"").trim();S==="openai-codex"?H.api_key="":Z&&(H.api_key=Z);const Y=String(R.telegram_bot_token||"").trim(),de=sf(R.telegram_account_id),Ee=String(R.telegram_bot_username||"").trim(),We=String(R.telegram_model||"").trim(),je=String(R.discord_bot_token||"").trim(),Ut=sf(R.discord_account_id),Ke=a8(String(R.discord_allowed_channels_csv||"")),Qe=String(R.discord_bot_username||"").trim(),ee=String(R.discord_model||"").trim(),it=String(R.irc_server||"").trim(),Rr=String(R.irc_port||"").trim(),Nr=String(R.irc_nick||"").trim(),Ir=String(R.irc_username||"").trim(),ir=String(R.irc_real_name||"").trim(),Ys=String(R.irc_channels||"").trim(),Xs=String(R.irc_password||"").trim(),Qs=String(R.irc_mention_required||"").trim(),Js=String(R.irc_tls||"").trim(),Zs=String(R.irc_tls_server_name||"").trim(),eo=String(R.irc_tls_danger_accept_invalid_certs||"").trim(),to=String(R.irc_model||"").trim(),we=String(R.embedding_api_key||"").trim();we&&(H.embedding_api_key=we);const Pr={};(Y||Ee||We)&&(Pr.telegram={default_account:de,accounts:{[de]:{enabled:!0,...Y?{bot_token:Y}:{},...Ee?{bot_username:Ee}:{},...We?{model:We}:{}}}}),(je||Ke.length>0||Qe||ee)&&(Pr.discord={default_account:Ut,accounts:{[Ut]:{enabled:!0,...je?{bot_token:je}:{},...Ke.length>0?{allowed_channels:Ke}:{},...Qe?{bot_username:Qe}:{},...ee?{model:ee}:{}}}}),(it||Rr||Nr||Ir||ir||Ys||Xs||Qs||Js||Zs||eo||to)&&(Pr.irc={...it?{server:it}:{},...Rr?{port:Rr}:{},...Nr?{nick:Nr}:{},...Ir?{username:Ir}:{},...ir?{real_name:ir}:{},...Ys?{channels:Ys}:{},...Xs?{password:Xs}:{},...Qs?{mention_required:Qs}:{},...Js?{tls:Js}:{},...Zs?{tls_server_name:Zs}:{},...eo?{tls_danger_accept_invalid_certs:eo}:{},...to?{model:to}:{}});for(const _t of Pl){const no=sf(R[`${_t.name}__account_id`]),gi={};let vs=!1;for(const Xa of _t.fields){const xs=String(R[`${_t.name}__${Xa.yamlKey}`]||"").trim();xs&&(gi[Xa.yamlKey]=xs,vs=!0)}vs&&(Pr[_t.name]={default_account:no,accounts:{[no]:{enabled:!0,...gi}}})}Object.keys(Pr).length>0&&(H.channel_configs=Pr),await at("/api/config",{method:"PUT",body:JSON.stringify(H)}),X(!0),B("");const ys=await at("/api/config/self_check").catch(_t=>(B(_t instanceof Error?_t.message:String(_t)),null));W(ys),X(!1),ne("Saved. Restart microclaw to apply changes.")}catch(S){ne(`Save failed: ${S instanceof Error?S.message:String(S)}`)}}f.useEffect(()=>{H6(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),f.useEffect(()=>{V6(n),document.documentElement.setAttribute("data-ui-theme",n)},[n]),f.useEffect(()=>{(async()=>{try{const S=await Ga();if(S.authenticated&&await Yg(),!S.has_password||!S.authenticated)return;await Xg()}catch(S){g(S instanceof Error?S.message:String(S))}})()},[]),f.useEffect(()=>{nr&&Gs(l).catch(S=>g(S instanceof Error?S.message:String(S)))},[l,nr]),f.useEffect(()=>{nr&&Yg().catch(()=>{})},[nr]),f.useEffect(()=>{yw(l)},[l]);const Zg=`${l}-${w}`,fT=U6[n]??"green",mi=String(R.llm_provider||tt.llm_provider).trim().toLowerCase(),hT=Array.from(new Set([mi,...B6.map(S=>S.toLowerCase())].filter(Boolean))),ey=$6[mi]||[],Tr=e==="dark"?"rounded-xl border p-5":"rounded-xl border border-slate-200/80 p-5",or=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 68%, transparent)"}:void 0,Xu=e==="dark"?"rounded-lg border p-3":"rounded-lg border border-slate-200/80 p-3",Qu=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 60%, transparent)"}:void 0;return c.jsx(Vu,{appearance:e,accentColor:fT,grayColor:"slate",radius:"medium",scaling:"100%",children:c.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-[var(--mc-bg-main)]":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[c.jsxs("div",{className:"grid h-full min-h-0 grid-cols-[320px_minmax(0,1fr)]",children:[c.jsx(O6,{appearance:e,onToggleAppearance:iT,uiTheme:n,onUiThemeChange:S=>r(S),uiThemeOptions:Y1,sessionItems:qa,selectedSessionKey:l,onSessionSelect:S=>u(S),onRefreshSession:S=>void lT(S),onResetSession:S=>void aT(S),onDeleteSession:S=>void cT(S),onOpenConfig:uT,onOpenUsage:()=>Yu(l),onNewSession:oT,appVersion:tT}),c.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-[var(--mc-bg-panel)]":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[c.jsx("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)]/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:c.jsx(Mg,{size:"6",children:nT})}),c.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,var(--mc-bg-panel),var(--mc-bg-main)_28%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[c.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[C?c.jsx(nn,{color:"orange",size:"1",variant:"soft",children:c.jsx(rn,{children:C})}):null,b?c.jsx(nn,{color:"red",size:"1",variant:"soft",className:C?"mt-2":"",children:c.jsx(rn,{children:b})}):null]}),c.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:c.jsx(i8,{adapter:sT,initialMessages:d,runtimeKey:Zg},Zg)})]})]})]}),c.jsx(So,{open:gs&&!ui,children:c.jsxs(_o,{maxWidth:"520px",children:[c.jsx(Co,{children:"Set Operator Password"}),c.jsx(ko,{size:"2",children:"First-time setup: set an admin password using the bootstrap token from server logs."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"Bootstrap Token",description:c.jsxs(c.Fragment,{children:["Copy ",c.jsx("code",{children:"x-bootstrap-token"})," from MicroClaw startup logs."]}),children:c.jsx(oe,{className:"mt-2",value:Ie,onChange:S=>Bt(S.target.value),placeholder:"902439dd-a93b-4c66-81bb-7ffba0057936"})}),c.jsxs(re,{label:"Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:[c.jsx(oe,{className:"mt-2",type:"password",value:Ln,onChange:S=>$t(S.target.value),placeholder:"********"}),c.jsx("div",{className:"mt-2 flex items-center justify-end",children:c.jsx(sn,{size:"1",variant:"soft",onClick:()=>{const S=X6();$t(S),rr(S),sr(S)},disabled:St,children:"Generate Password"})})]}),c.jsx(re,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the same password."}),children:c.jsx(oe,{className:"mt-2",type:"password",value:Er,onChange:S=>rr(S.target.value),onKeyDown:S=>{S.key==="Enter"&&Qg()},placeholder:"********"})})]}),O?c.jsx(nn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(rn,{children:O})}):null,pt?c.jsx(nn,{color:"green",size:"1",variant:"soft",className:"mt-3",children:c.jsxs(rn,{children:["Generated password: ",c.jsx("code",{children:pt})]})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(sn,{onClick:()=>void Qg(),disabled:St,children:St?"Applying...":"Set Password"})})]})}),c.jsx(So,{open:gs&&ui&&!nr,children:c.jsxs(_o,{maxWidth:"460px",children:[c.jsx(Co,{children:"Sign In"}),c.jsx(ko,{size:"2",children:"Enter your operator password to access sessions and history."}),Ha?c.jsx(nn,{color:"orange",size:"1",variant:"soft",className:"mt-2",children:c.jsxs(rn,{children:["No custom password is set yet. Temporary default password: ",c.jsx("code",{children:"helloworld"})]})}):null,c.jsx(re,{label:"Password",description:c.jsx(c.Fragment,{children:"Use the password configured for this Web UI."}),children:c.jsx(oe,{className:"mt-2",type:"password",value:se,onChange:S=>ue(S.target.value),onKeyDown:S=>{S.key==="Enter"&&Gu(se)},placeholder:"********"})}),O?c.jsx(nn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(rn,{children:O})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(sn,{onClick:()=>void Gu(se),disabled:St,children:St?"Signing in...":"Sign In"})})]})}),c.jsx(So,{open:gs&&nr&&Ha&&eT,children:c.jsxs(_o,{maxWidth:"520px",children:[c.jsx(Co,{children:"Change Default Password"}),c.jsxs(ko,{size:"2",children:["You are using the default password ",c.jsx("code",{children:"helloworld"}),". Set a new password now, or skip for now."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"New Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:c.jsx(oe,{className:"mt-2",type:"password",value:Ug,onChange:S=>Hg(S.target.value),placeholder:"********"})}),c.jsx(re,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the new password."}),children:c.jsx(oe,{className:"mt-2",type:"password",value:Vg,onChange:S=>Wg(S.target.value),onKeyDown:S=>{S.key==="Enter"&&Jg()},placeholder:"********"})})]}),Bg?c.jsx(nn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(rn,{children:Bg})}):null,c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx(sn,{variant:"soft",onClick:()=>Wa(!1),disabled:qu,children:"Skip for now"}),c.jsx(sn,{onClick:()=>void Jg(),disabled:qu,children:qu?"Updating...":"Update Password"})]})]})}),c.jsx(So,{open:I,onOpenChange:M,children:c.jsxs(_o,{maxWidth:"1120px",className:"overflow-hidden flex flex-col",style:{width:"1120px",height:"760px",maxWidth:"1120px",maxHeight:"760px"},children:[c.jsx(Co,{children:"Settings"}),c.jsx(ko,{size:"2",mb:"3",children:"Channel-first configuration. Save writes to microclaw.config.yaml. Restart is required."}),$?c.jsx(nn,{color:$.risk_level==="high"?"red":$.risk_level==="medium"?"orange":"green",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(rn,{children:["Config self-check: risk=",String($.risk_level||"none"),", warnings=",Number($.warning_count||0),"."," ",c.jsx("a",{href:`${Ur}/configuration`,target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})}):null,$!=null&&$.security_posture?c.jsxs("details",{className:"mb-2",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:"Security posture details"}),c.jsxs(qt,{className:"mt-2 p-3",children:[c.jsxs(q,{size:"2",weight:"bold",children:["Security posture"," ",c.jsx("a",{href:`${Ur}/permissions`,target:"_blank",rel:"noreferrer",className:"underline text-[color:var(--mc-accent)]",children:"Rules"})]}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:["sandbox=",String($.security_posture.sandbox_mode||"off")," | runtime=",String(!!$.security_posture.sandbox_runtime_available)," | backend=",String($.security_posture.sandbox_backend||"auto")]}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:["mount allowlist: ",String(((ty=$.security_posture.mount_allowlist)==null?void 0:ty.path)||"(default)")," | exists=",String(!!((ny=$.security_posture.mount_allowlist)!=null&&ny.exists))," | has_entries=",String(!!((ry=$.security_posture.mount_allowlist)!=null&&ry.has_entries))]}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:($.security_posture.execution_policies||[]).map((S,H)=>c.jsxs(Lg,{color:S.risk==="high"?"red":S.risk==="medium"?"orange":"gray",variant:"soft",children:[String(S.tool),": ",String(S.policy)]},`${String(S.tool)}-${H}`))})]})]}):null,V?c.jsx(q,{size:"1",color:"gray",className:"mb-2 block",children:"Checking critical config risks..."}):null,j?c.jsx(nn,{color:"red",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(rn,{children:["Self-check failed: ",j]})}):null,c.jsx("div",{className:"mt-2 min-h-0 flex-1",children:A?c.jsx(q1,{defaultValue:"general",orientation:"vertical",className:"h-full min-h-0",children:c.jsxs("div",{className:"grid h-full grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsx(qt,{className:"h-full p-3",style:or,children:c.jsxs(G1,{className:"mc-settings-tabs-list flex h-full w-full flex-col gap-1",children:[c.jsx(q,{size:"1",color:"gray",className:"px-2 pt-1 uppercase tracking-wide",children:"Runtime"}),c.jsx(Fr,{value:"general",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  General"}),c.jsx(Fr,{value:"model",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Model"}),c.jsx(q,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Channels"}),c.jsx(Fr,{value:"telegram",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Telegram"}),c.jsx(Fr,{value:"discord",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Discord"}),c.jsx(Fr,{value:"irc",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  IRC"}),Pl.map(S=>c.jsxs(Fr,{value:S.name,className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:[S.icon,"  ",S.title]},S.name)),c.jsx(q,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Integrations"}),c.jsx(Fr,{value:"web",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Web"}),nr?c.jsxs("div",{className:"mt-auto pt-3",children:[c.jsx(zg,{size:"4"}),c.jsx("button",{type:"button",onClick:()=>void rT(),className:"mt-3 inline-flex w-full items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition hover:brightness-110 active:brightness-95",style:e==="dark"?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-panel)",color:"var(--mc-text)"}:void 0,children:"Log out"})]}):null]})}),c.jsxs("div",{className:"min-w-0 overflow-y-auto pr-1",children:[c.jsx(zr,{value:"general",children:c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"General"}),c.jsx(q,{size:"1",color:"gray",className:"mt-1 block",children:"Runtime defaults used across all channels."}),c.jsx(q,{size:"1",color:"gray",className:"mt-2 block",children:"working_dir_isolation: chat = isolated workspace per chat; shared = one shared workspace."}),c.jsx(q,{size:"1",color:"gray",className:"mt-1 block",children:"max_tokens / max_tool_iterations / max_document_size_mb / memory_token_budget control response budget and tool loop safety."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"bot_username",description:c.jsxs(c.Fragment,{children:["Global default bot username. Channel-specific ",c.jsx("code",{children:"channels.<name>.bot_username"})," overrides this."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.bot_username||""),onChange:S=>le("bot_username",S.target.value),placeholder:"bot"})}),c.jsx(re,{label:"working_dir_isolation",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"chat"})," for per-chat isolation, or ",c.jsx("code",{children:"shared"})," for one shared workspace."]}),children:c.jsxs("select",{className:"mt-2 w-full rounded-md border border-[color:var(--mc-border-soft)] bg-transparent px-3 py-2 text-base text-[color:inherit] outline-none focus:border-[color:var(--mc-accent)]",value:af(R.working_dir_isolation||tt.working_dir_isolation),onChange:S=>le("working_dir_isolation",S.target.value),children:[c.jsx("option",{value:"chat",children:"chat (per-chat isolated workspace)"}),c.jsx("option",{value:"shared",children:"shared (single shared workspace)"})]})}),c.jsx(re,{label:"max_tokens",description:c.jsx(c.Fragment,{children:"Maximum output tokens for one model response."}),children:c.jsx(oe,{className:"mt-2",value:String(R.max_tokens||tt.max_tokens),onChange:S=>le("max_tokens",S.target.value),placeholder:"8192"})}),c.jsx(re,{label:"max_tool_iterations",description:c.jsx(c.Fragment,{children:"Upper bound for tool loop iterations in one request."}),children:c.jsx(oe,{className:"mt-2",value:String(R.max_tool_iterations||tt.max_tool_iterations),onChange:S=>le("max_tool_iterations",S.target.value),placeholder:"100"})}),c.jsx(re,{label:"max_document_size_mb",description:c.jsx(c.Fragment,{children:"Maximum uploaded file size in MB."}),children:c.jsx(oe,{className:"mt-2",value:String(R.max_document_size_mb||tt.max_document_size_mb),onChange:S=>le("max_document_size_mb",S.target.value),placeholder:"100"})}),c.jsx(re,{label:"memory_token_budget",description:c.jsx(c.Fragment,{children:"Estimated token budget for injecting structured memories into the system prompt."}),children:c.jsx(oe,{className:"mt-2",type:"number",value:String(R.memory_token_budget||tt.memory_token_budget),onChange:S=>le("memory_token_budget",S.target.value),placeholder:"1500"})})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[c.jsx(lf,{label:"show_thinking",description:c.jsx(c.Fragment,{children:"Show intermediate reasoning text in responses."}),checked:!!R.show_thinking,onCheckedChange:S=>le("show_thinking",S),className:Xu,style:Qu}),c.jsx(lf,{label:"web_enabled",description:c.jsx(c.Fragment,{children:"Enable built-in Web UI and API endpoint."}),checked:!!R.web_enabled,onCheckedChange:S=>le("web_enabled",S),className:Xu,style:Qu}),c.jsx(lf,{label:"reflector_enabled",description:c.jsx(c.Fragment,{children:"Periodically extract structured memories from conversations in the background."}),checked:R.reflector_enabled!==!1,onCheckedChange:S=>le("reflector_enabled",S),className:Xu,style:Qu})]}),c.jsx("div",{className:"mt-4 space-y-3",children:c.jsx(re,{label:"reflector_interval_mins",description:c.jsx(c.Fragment,{children:"How often (in minutes) the memory reflector runs. Requires restart."}),children:c.jsx(oe,{className:"mt-2",type:"number",value:String(R.reflector_interval_mins??tt.reflector_interval_mins),onChange:S=>le("reflector_interval_mins",S.target.value),placeholder:"15"})})})]})}),c.jsxs(zr,{value:"model",children:[c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"Model"}),c.jsx(q,{size:"1",color:"gray",className:"mt-1 block",children:"LLM provider and API settings."}),c.jsx(q,{size:"1",color:"gray",className:"mt-2 block",children:"llm_provider selects routing preset; model is the exact model id sent to provider API."}),c.jsxs(q,{size:"1",color:"gray",className:"mt-1 block",children:["For custom providers set ",c.jsx("code",{children:"llm_base_url"}),". For ",c.jsx("code",{children:"openai-codex"}),", configure auth/provider in ",c.jsx("code",{children:"~/.codex/auth.json"})," and ",c.jsx("code",{children:"~/.codex/config.toml"})," (this form ignores ",c.jsx("code",{children:"api_key"}),"/",c.jsx("code",{children:"llm_base_url"}),"). ",c.jsx("code",{children:"ollama"})," can leave ",c.jsx("code",{children:"api_key"})," empty."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"llm_provider",description:c.jsx(c.Fragment,{children:"Select provider preset for request routing and defaults."}),children:c.jsx("div",{className:"mt-2",children:c.jsxs(U1,{value:String(R.llm_provider||tt.llm_provider),onValueChange:S=>le("llm_provider",S),children:[c.jsx(H1,{className:"w-full mc-select-trigger-full",placeholder:"Select provider"}),c.jsx(V1,{children:hT.map(S=>c.jsx(W1,{value:S,children:S},S))})]})})}),c.jsxs(re,{label:"model",description:c.jsx(c.Fragment,{children:"Exact model id to use for requests."}),children:[c.jsx(oe,{className:"mt-2",value:String(R.model||gw(String(R.llm_provider||tt.llm_provider))),onChange:S=>le("model",S.target.value),placeholder:"claude-sonnet-4-5-20250929"}),ey.length>0?c.jsxs(q,{size:"1",color:"gray",className:"mt-2 block",children:["Suggested: ",ey.join(" / ")]}):null]}),mi==="custom"?c.jsx(re,{label:"llm_base_url",description:c.jsx(c.Fragment,{children:"Base URL for OpenAI-compatible custom provider endpoint."}),children:c.jsx(oe,{className:"mt-2",value:String(R.llm_base_url||""),onChange:S=>le("llm_base_url",S.target.value),placeholder:"https://api.example.com/v1"})}):null,c.jsx(re,{label:"api_key",description:mi==="openai-codex"?c.jsxs(c.Fragment,{children:["For ",c.jsx("code",{children:"openai-codex"}),", this field is ignored. Configure ",c.jsx("code",{children:"~/.codex/auth.json"})," instead."]}):c.jsx(c.Fragment,{children:"Provider API key. Leave blank to keep current secret unchanged."}),children:c.jsx(oe,{className:"mt-2",value:String(R.api_key||""),onChange:S=>le("api_key",S.target.value),placeholder:mi==="openai-codex"?"(ignored for openai-codex)":"sk-..."})})]})]}),c.jsxs("div",{className:`${Tr} mt-4`,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"Embedding"}),c.jsx(q,{size:"1",color:"gray",className:"mt-1 block",children:"Optional embedding runtime settings for semantic memory (requires sqlite-vec build)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"embedding_provider",description:c.jsxs(c.Fragment,{children:["Optional runtime embedding provider: ",c.jsx("code",{children:"openai"})," or ",c.jsx("code",{children:"ollama"}),"."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.embedding_provider||""),onChange:S=>le("embedding_provider",S.target.value),placeholder:"openai"})}),c.jsx(re,{label:"embedding_api_key",description:c.jsx(c.Fragment,{children:"Optional embedding API key. Leave blank to keep unchanged."}),children:c.jsx(oe,{className:"mt-2",value:String(R.embedding_api_key||""),onChange:S=>le("embedding_api_key",S.target.value),placeholder:"sk-..."})}),c.jsx(re,{label:"embedding_base_url",description:c.jsx(c.Fragment,{children:"Optional embedding base URL override."}),children:c.jsx(oe,{className:"mt-2",value:String(R.embedding_base_url||""),onChange:S=>le("embedding_base_url",S.target.value),placeholder:"https://api.openai.com/v1"})}),c.jsx(re,{label:"embedding_model",description:c.jsx(c.Fragment,{children:"Optional embedding model id."}),children:c.jsx(oe,{className:"mt-2",value:String(R.embedding_model||""),onChange:S=>le("embedding_model",S.target.value),placeholder:"text-embedding-3-small"})}),c.jsx(re,{label:"embedding_dim",description:c.jsx(c.Fragment,{children:"Optional embedding vector dimension."}),children:c.jsx(oe,{className:"mt-2",type:"number",value:String(R.embedding_dim||""),onChange:S=>le("embedding_dim",S.target.value),placeholder:"1536"})})]})]})]}),c.jsx(zr,{value:"telegram",children:c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"Telegram"}),c.jsx(Ai,{steps:[c.jsxs(c.Fragment,{children:["Open Telegram and chat with ",c.jsx("code",{children:"@BotFather"}),"."]}),c.jsxs(c.Fragment,{children:["Run ",c.jsx("code",{children:"/newbot"}),", set name and username (must end with ",c.jsx("code",{children:"bot"}),")."]}),c.jsx(c.Fragment,{children:"Copy the bot token and paste below."}),c.jsxs(c.Fragment,{children:["Optional: set ",c.jsx("code",{children:"telegram_bot_username"})," without ",c.jsx("code",{children:"@"})," to override global ",c.jsx("code",{children:"bot_username"}),"."]}),c.jsx(c.Fragment,{children:"In groups, mention the bot to trigger replies."})]}),c.jsx(q,{size:"1",color:"gray",className:"mt-3 block",children:"Required: bot token and username. Leave token unchanged if already configured."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"telegram_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.telegram_account_id||"main"),onChange:S=>le("telegram_account_id",S.target.value),placeholder:"main"})}),c.jsx(re,{label:"telegram_bot_token",description:c.jsx(c.Fragment,{children:"BotFather token for sending and receiving Telegram messages. Leave blank to keep current secret unchanged."}),children:c.jsx(oe,{className:"mt-2",value:String(R.telegram_bot_token||""),onChange:S=>le("telegram_bot_token",S.target.value),placeholder:"123456789:AA..."})}),c.jsx(re,{label:"telegram_bot_username",description:c.jsxs(c.Fragment,{children:["Optional Telegram-specific username override without ",c.jsx("code",{children:"@"}),", used for group mention trigger."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.telegram_bot_username||""),onChange:S=>le("telegram_bot_username",S.target.value),placeholder:"my_microclaw_bot"})}),c.jsx(re,{label:"telegram_model",description:c.jsx(c.Fragment,{children:"Optional Telegram bot model override for this account."}),children:c.jsx(oe,{className:"mt-2",value:String(R.telegram_model||""),onChange:S=>le("telegram_model",S.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),c.jsx(zr,{value:"discord",children:c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"Discord"}),c.jsx(Ai,{steps:[c.jsx(c.Fragment,{children:"Open Discord Developer Portal and create an application + bot."}),c.jsxs(c.Fragment,{children:["Enable ",c.jsx("code",{children:"Message Content Intent"})," under Bot settings."]}),c.jsx(c.Fragment,{children:"Invite bot with scopes/permissions: bot, View Channels, Send Messages, Read Message History."}),c.jsx(c.Fragment,{children:"Paste bot token below."}),c.jsx(c.Fragment,{children:"Optional: limit handling to specific channel IDs."})]}),c.jsx(q,{size:"1",color:"gray",className:"mt-3 block",children:"Required: bot token. Optional: restrict handling to listed channel IDs."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"discord_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.discord_account_id||"main"),onChange:S=>le("discord_account_id",S.target.value),placeholder:"main"})}),c.jsx(re,{label:"discord_bot_token",description:c.jsx(c.Fragment,{children:"Discord bot token from Developer Portal. Leave blank to keep current secret unchanged."}),children:c.jsx(oe,{className:"mt-2",value:String(R.discord_bot_token||""),onChange:S=>le("discord_bot_token",S.target.value),placeholder:"MTAx..."})}),c.jsx(re,{label:"discord_allowed_channels",description:c.jsx(c.Fragment,{children:"Optional allowlist. Only listed channel IDs can trigger the bot."}),children:c.jsx(oe,{className:"mt-2",value:String(R.discord_allowed_channels_csv||""),onChange:S=>le("discord_allowed_channels_csv",S.target.value),placeholder:"1234567890, 9876543210"})}),c.jsx(re,{label:"discord_bot_username",description:c.jsx(c.Fragment,{children:"Optional Discord-specific bot username override."}),children:c.jsx(oe,{className:"mt-2",value:String(R.discord_bot_username||""),onChange:S=>le("discord_bot_username",S.target.value),placeholder:"discord_bot_name"})}),c.jsx(re,{label:"discord_model",description:c.jsx(c.Fragment,{children:"Optional Discord bot model override for this account."}),children:c.jsx(oe,{className:"mt-2",value:String(R.discord_model||""),onChange:S=>le("discord_model",S.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),c.jsx(zr,{value:"irc",children:c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"IRC"}),c.jsx(Ai,{steps:[c.jsx(c.Fragment,{children:"Set IRC server and nick."}),c.jsxs(c.Fragment,{children:["Set channels as comma-separated list, for example ",c.jsx("code",{children:"#general,#bot"}),"."]}),c.jsx(c.Fragment,{children:"Use TLS fields when connecting to secure endpoints."})]}),c.jsx(q,{size:"1",color:"gray",className:"mt-3 block",children:"Required for IRC runtime: server and nick."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"irc_server",description:c.jsx(c.Fragment,{children:"IRC server hostname."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_server||""),onChange:S=>le("irc_server",S.target.value),placeholder:"irc.libera.chat"})}),c.jsx(re,{label:"irc_port",description:c.jsx(c.Fragment,{children:"IRC server port. Typical values: 6667 or 6697 (TLS)."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_port||""),onChange:S=>le("irc_port",S.target.value),placeholder:"6667"})}),c.jsx(re,{label:"irc_nick",description:c.jsx(c.Fragment,{children:"Bot nickname."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_nick||""),onChange:S=>le("irc_nick",S.target.value),placeholder:"microclaw"})}),c.jsx(re,{label:"irc_username",description:c.jsx(c.Fragment,{children:"Optional IRC username. Defaults to nick when empty."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_username||""),onChange:S=>le("irc_username",S.target.value),placeholder:"microclaw"})}),c.jsx(re,{label:"irc_real_name",description:c.jsx(c.Fragment,{children:"Optional IRC real name/gecos field."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_real_name||""),onChange:S=>le("irc_real_name",S.target.value),placeholder:"MicroClaw"})}),c.jsx(re,{label:"irc_channels",description:c.jsx(c.Fragment,{children:"Comma-separated target channels."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_channels||""),onChange:S=>le("irc_channels",S.target.value),placeholder:"#general,#support"})}),c.jsx(re,{label:"irc_password",description:c.jsx(c.Fragment,{children:"Optional IRC server password. Leave blank to keep current secret unchanged."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_password||""),onChange:S=>le("irc_password",S.target.value),placeholder:"password"})}),c.jsx(re,{label:"irc_mention_required",description:c.jsxs(c.Fragment,{children:["In channels, require bot mention before responding (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_mention_required||""),onChange:S=>le("irc_mention_required",S.target.value),placeholder:"true"})}),c.jsx(re,{label:"irc_tls",description:c.jsxs(c.Fragment,{children:["Enable TLS (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_tls||""),onChange:S=>le("irc_tls",S.target.value),placeholder:"false"})}),c.jsx(re,{label:"irc_tls_server_name",description:c.jsx(c.Fragment,{children:"Optional TLS SNI server name. Defaults to server."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_tls_server_name||""),onChange:S=>le("irc_tls_server_name",S.target.value),placeholder:"irc.libera.chat"})}),c.jsx(re,{label:"irc_tls_danger_accept_invalid_certs",description:c.jsxs(c.Fragment,{children:["Allow invalid TLS certs (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),"). Only for testing."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_tls_danger_accept_invalid_certs||""),onChange:S=>le("irc_tls_danger_accept_invalid_certs",S.target.value),placeholder:"false"})}),c.jsx(re,{label:"irc_model",description:c.jsx(c.Fragment,{children:"Optional IRC model override."}),children:c.jsx(oe,{className:"mt-2",value:String(R.irc_model||""),onChange:S=>le("irc_model",S.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),Pl.map(S=>c.jsx(zr,{value:S.name,children:c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:S.title}),c.jsx(Ai,{steps:S.steps.map((H,Z)=>c.jsx("span",{children:H},Z))}),c.jsx(q,{size:"1",color:"gray",className:"mt-3 block",children:S.hint}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:`${S.name}_default_account`,description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsxs("code",{children:["channels.",S.name,".accounts"]}),"."]}),children:c.jsx(oe,{className:"mt-2",value:String(R[`${S.name}__account_id`]||"main"),onChange:H=>le(`${S.name}__account_id`,H.target.value),placeholder:"main"})},`${S.name}__account_id`),S.fields.map(H=>{const Z=`${S.name}__${H.yamlKey}`;return c.jsx(re,{label:H.label,description:c.jsx(c.Fragment,{children:H.description}),children:c.jsx(oe,{className:"mt-2",value:String(R[Z]||""),onChange:Y=>le(Z,Y.target.value),placeholder:H.placeholder})},Z)})]})]})},S.name)),c.jsx(zr,{value:"web",children:c.jsxs("div",{className:Tr,style:or,children:[c.jsx(q,{size:"3",weight:"bold",children:"Web"}),c.jsx(Ai,{steps:[c.jsxs(c.Fragment,{children:["Keep ",c.jsx("code",{children:"web_enabled"})," on for local UI access."]}),c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only host, or set LAN host explicitly."]}),c.jsxs(c.Fragment,{children:["Choose web port (default ",c.jsx("code",{children:"10961"}),")."]})]}),c.jsx(q,{size:"1",color:"gray",className:"mt-3 block",children:"For local only, keep host as 127.0.0.1. Use 0.0.0.0 only behind trusted network controls."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(re,{label:"web_host",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only. Use ",c.jsx("code",{children:"0.0.0.0"})," only when intentionally exposing on LAN."]}),children:c.jsx(oe,{className:"mt-2",value:String(R.web_host||tt.web_host),onChange:S=>le("web_host",S.target.value),placeholder:"127.0.0.1"})}),c.jsx(re,{label:"web_port",description:c.jsx(c.Fragment,{children:"HTTP port for Web UI and API endpoint."}),children:c.jsx(oe,{className:"mt-2",value:String(R.web_port||tt.web_port),onChange:S=>le("web_port",S.target.value),placeholder:"10961"})}),c.jsx(re,{label:"web_bot_username",description:c.jsx(c.Fragment,{children:"Optional Web-specific bot username override."}),children:c.jsx(oe,{className:"mt-2",value:String(R.web_bot_username||""),onChange:S=>le("web_bot_username",S.target.value),placeholder:"web_bot_name"})})]}),Array.isArray($==null?void 0:$.warnings)&&$.warnings.length>0?c.jsxs("details",{className:"mt-4",children:[c.jsxs("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:["Critical config warnings (",$.warnings.length,")"]}),c.jsxs(qt,{className:"mt-2 p-3",children:[c.jsx(q,{size:"2",weight:"bold",children:"Critical Config Warnings"}),c.jsx("div",{className:"mt-2 space-y-2",children:$.warnings.map((S,H)=>c.jsx(nn,{color:S.severity==="high"?"red":"orange",size:"1",variant:"soft",children:c.jsxs(rn,{children:["[",String(S.severity||"unknown"),"] ",String(S.code||"warning"),": ",String(S.message||"")," ",c.jsx("a",{href:z6(S.code),target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})},`${S.code||"warning"}-${H}`))})]})]}):null]})})]})]})}):c.jsx(q,{size:"2",color:"gray",children:"Loading..."})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-[color:var(--mc-border-soft)] pt-3",children:[_?c.jsx(q,{size:"2",color:_.startsWith("Save failed")?"red":"green",children:_}):c.jsx("span",{}),c.jsxs(kn,{justify:"end",gap:"2",children:[c.jsx($1,{children:c.jsx(sn,{variant:"soft",children:"Close"})}),c.jsx(sn,{onClick:()=>void dT(),children:"Save"})]})]})]})}),c.jsx(F6,{open:he,onOpenChange:E,usageSession:pn,sessionKey:l,usageLoading:Ne,usageError:It,usageReport:ve,usageMemory:pe,reflectorRuns:xe,injectionLogs:ke,onRefreshCurrent:()=>void Yu(l),onRefreshThis:()=>void Yu(pn||l)})]})})}jS(document.getElementById("root")).render(c.jsx(l8,{}));
